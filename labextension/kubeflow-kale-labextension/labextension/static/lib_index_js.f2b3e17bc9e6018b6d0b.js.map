{"version":3,"file":"lib_index_js.f2b3e17bc9e6018b6d0b.js","mappings":"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6zHAA64D;AACz7D,8BAA8B,mHAA2B,CAAC,4HAAqC;AAC/F,yCAAyC,sHAA+B;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,mCAAmC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,gCAAgC;AAChC,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,qBAAqB;AACrB,wBAAwB;AACxB,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,qBAAqB;AACrB,wBAAwB;AACxB,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,+FAA+F,MAAM,MAAM,QAAQ,MAAM,aAAa,cAAc,aAAa,aAAa,OAAO,MAAM,QAAQ,MAAM,YAAY,OAAO,KAAK,UAAU,YAAY,aAAa,WAAW,YAAY,aAAa,aAAa,aAAa,OAAO,KAAK,UAAU,YAAY,OAAO,KAAK,UAAU,UAAU,MAAM,KAAK,UAAU,YAAY,aAAa,aAAa,yBAAyB,yBAAyB,yBAAyB,yBAAyB,WAAW,MAAM,KAAK,YAAY,WAAW,UAAU,UAAU,UAAU,YAAY,aAAa,aAAa,OAAO,MAAM,QAAQ,MAAM,YAAY,OAAO,KAAK,YAAY,aAAa,aAAa,aAAa,aAAa,WAAW,UAAU,wBAAwB,yBAAyB,yBAAyB,yBAAyB,WAAW,MAAM,KAAK,YAAY,aAAa,WAAW,YAAY,OAAO,MAAM,OAAO,SAAS,MAAM,KAAK,UAAU,UAAU,YAAY,WAAW,UAAU,YAAY,aAAa,aAAa,OAAO,MAAM,QAAQ,MAAM,YAAY,WAAW,MAAM,KAAK,UAAU,YAAY,WAAW,YAAY,aAAa,aAAa,OAAO,KAAK,KAAK,OAAO,OAAO,MAAM,YAAY,aAAa,WAAW,UAAU,UAAU,YAAY,aAAa,aAAa,OAAO,OAAO,YAAY,aAAa,OAAO,KAAK,YAAY,aAAa,aAAa,aAAa,OAAO,KAAK,YAAY,OAAO,KAAK,YAAY,OAAO,YAAY,MAAM,UAAU,YAAY,aAAa,aAAa,aAAa,WAAW,YAAY,OAAO,KAAK,YAAY,aAAa,aAAa,WAAW,YAAY,aAAa,aAAa,WAAW,YAAY,WAAW,UAAU,OAAO,KAAK,YAAY,OAAO,KAAK,UAAU,MAAM,KAAK,YAAY,aAAa,WAAW,MAAM,KAAK,YAAY,OAAO,KAAK,YAAY,OAAO,KAAK,UAAU,MAAM,KAAK,UAAU,YAAY,aAAa,aAAa,aAAa,OAAO,KAAK,YAAY,aAAa,aAAa,aAAa,OAAO,KAAK,YAAY,aAAa,aAAa,OAAO,KAAK,YAAY,OAAO,KAAK,UAAU,YAAY,OAAO,KAAK,YAAY,aAAa,WAAW,UAAU,UAAU,UAAU,YAAY,aAAa,aAAa,aAAa,OAAO,KAAK,YAAY,OAAO,KAAK,YAAY,OAAO,KAAK,YAAY,WAAW,OAAO,KAAK,YAAY,OAAO,KAAK,YAAY,OAAO,KAAK,YAAY,OAAO,KAAK,YAAY,OAAO,KAAK,YAAY,aAAa,OAAO,KAAK,YAAY,OAAO,KAAK,UAAU,UAAU,YAAY,OAAO,KAAK,UAAU,UAAU,YAAY,OAAO,KAAK,YAAY,OAAO,KAAK,YAAY,WAAW,MAAM,KAAK,UAAU,UAAU,YAAY,WAAW,YAAY,OAAO,KAAK,YAAY,aAAa,OAAO,KAAK,YAAY,aAAa,WAAW,YAAY,WAAW,YAAY,OAAO,KAAK,YAAY,WAAW,UAAU,YAAY,aAAa,OAAO,KAAK,UAAU,OAAO,KAAK,YAAY,aAAa,OAAO,eAAe,MAAM,KAAK,YAAY,WAAW,UAAU,UAAU,UAAU,YAAY,WAAW,UAAU,UAAU,YAAY,aAAa,WAAW,YAAY,aAAa,aAAa,OAAO,KAAK,YAAY,aAAa,OAAO,KAAK,UAAU,UAAU,MAAM,KAAK,YAAY,OAAO,QAAQ,YAAY,OAAO,KAAK,YAAY,WAAW,YAAY,aAAa,OAAO,KAAK,YAAY,aAAa,OAAO,KAAK,YAAY,aAAa,WAAW,YAAY,aAAa,OAAO,KAAK,YAAY,WAAW,UAAU,UAAU,YAAY,OAAO,KAAK,YAAY,OAAO,KAAK,YAAY,OAAO,KAAK,YAAY,OAAO,KAAK,UAAU,UAAU,MAAM,KAAK,UAAU,YAAY,aAAa,aAAa,OAAO,OAAO,UAAU,YAAY,OAAO,KAAK,YAAY,WAAW,MAAM,KAAK,YAAY,WAAW,MAAM,KAAK,UAAU,MAAM,MAAM,KAAK,KAAK,UAAU,MAAM,KAAK,UAAU,MAAM,KAAK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","sources":["webpack://kubeflow-kale-labextension/./src/Theme.ts","webpack://kubeflow-kale-labextension/./src/components/DeployButton.tsx","webpack://kubeflow-kale-labextension/./src/components/ExperimentInput.tsx","webpack://kubeflow-kale-labextension/./src/components/Input.tsx","webpack://kubeflow-kale-labextension/./src/components/LightTooltip.tsx","webpack://kubeflow-kale-labextension/./src/components/Select.tsx","webpack://kubeflow-kale-labextension/./src/components/SelectMulti.tsx","webpack://kubeflow-kale-labextension/./src/icons/statusRunning.tsx","webpack://kubeflow-kale-labextension/./src/icons/statusTerminated.tsx","webpack://kubeflow-kale-labextension/./src/index.ts","webpack://kubeflow-kale-labextension/./src/lib/CellMetadataContext.ts","webpack://kubeflow-kale-labextension/./src/lib/CellUtils.ts","webpack://kubeflow-kale-labextension/./src/lib/ColorUtils.ts","webpack://kubeflow-kale-labextension/./src/lib/Commands.ts","webpack://kubeflow-kale-labextension/./src/lib/NotebookUtils.tsx","webpack://kubeflow-kale-labextension/./src/lib/RPCUtils.tsx","webpack://kubeflow-kale-labextension/./src/lib/TagsUtils.ts","webpack://kubeflow-kale-labextension/./src/widget.tsx","webpack://kubeflow-kale-labextension/./src/widgets/LeftPanel.tsx","webpack://kubeflow-kale-labextension/./src/widgets/cell-metadata/CellMetadataEditor.tsx","webpack://kubeflow-kale-labextension/./src/widgets/cell-metadata/CellMetadataEditorDialog.tsx","webpack://kubeflow-kale-labextension/./src/widgets/cell-metadata/InlineCellMetadata.tsx","webpack://kubeflow-kale-labextension/./src/widgets/cell-metadata/InlineMetadata.tsx","webpack://kubeflow-kale-labextension/./src/widgets/deploys-progress/DeployProgress.tsx","webpack://kubeflow-kale-labextension/./src/widgets/deploys-progress/DeployUtils.tsx","webpack://kubeflow-kale-labextension/./src/widgets/deploys-progress/DeploysProgress.tsx","webpack://kubeflow-kale-labextension/./style/index.css","webpack://kubeflow-kale-labextension/./style/index.css?1c97"],"sourcesContent":["import { createTheme } from '@mui/material/styles';\r\n\r\ndeclare module '@mui/material/styles/createTheme' {\r\n  interface Theme {\r\n    kale: {\r\n      headers: {\r\n        main: string;\r\n      };\r\n    };\r\n  }\r\n  // allow configuration using `createMuiTheme`\r\n  interface ThemeOptions {\r\n    kale?: {\r\n      headers?: {\r\n        main?: string;\r\n      };\r\n    };\r\n  }\r\n}\r\n\r\nexport const theme = createTheme({\r\n  palette: {\r\n    secondary: {\r\n      main: '#753BBD',\r\n      dark: '#512984',\r\n      light: '#9062ca',\r\n    },\r\n    primary: {\r\n      main: '#2e82d7',\r\n      dark: '#205b96',\r\n      light: '#579bdf',\r\n    },\r\n  },\r\n  kale: {\r\n    headers: {\r\n      main: '#753BBD',\r\n    },\r\n  },\r\n});\r\n","// /*\r\n//  * Copyright 2019-2020 The Kale Authors\r\n//  *\r\n//  * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n//  * you may not use this file except in compliance with the License.\r\n//  * You may obtain a copy of the License at\r\n//  *\r\n//  *      http://www.apache.org/licenses/LICENSE-2.0\r\n//  *\r\n//  * Unless required by applicable law or agreed to in writing, software\r\n//  * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n//  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n//  * See the License for the specific language governing permissions and\r\n//  * limitations under the License.\r\n//  */\r\n\r\n// import * as React from 'react';\r\n// import Grid from '@mui/material/Grid';\r\n// import Button from '@mui/material/Button';\r\n// import ButtonGroup from '@mui/material/ButtonGroup';\r\n// import MoreVertIcon from '@mui/icons-material/MoreVert';\r\n// import ClickAwayListener from '@mui/material/ClickAwayListener';\r\n// import Grow from '@mui/material/Grow';\r\n// import Paper from '@mui/material/Paper';\r\n// import Popper from '@mui/material/Popper';\r\n// import MenuItem from '@mui/material/MenuItem';\r\n// import MenuList from '@mui/material/MenuList';\r\n// import CircularProgress from '@mui/material/CircularProgress';\r\n\r\n// interface ISplitDeployButton {\r\n//   running: boolean;\r\n//   handleClick: Function;\r\n//   katibRun: boolean;\r\n// }\r\n\r\n// export const SplitDeployButton: React.FunctionComponent<ISplitDeployButton> = props => {\r\n//   const [open, setOpen] = React.useState(false);\r\n//   const anchorRef = React.useRef<HTMLDivElement>(null);\r\n//   const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n\r\n//   const options = [\r\n//     {\r\n//       label: 'Compile and Run' + (props.katibRun ? ' Katib Job' : ''),\r\n//       value: 'run',\r\n//     },\r\n//     { label: 'Compile and Upload', value: 'upload' },\r\n//     { label: 'Compile and Save', value: 'compile' },\r\n//   ];\r\n\r\n//   const handleMenuItemClick = (\r\n//     event: React.MouseEvent<HTMLLIElement>,\r\n//     index: number,\r\n//   ) => {\r\n//     setSelectedIndex(index);\r\n//     setOpen(false);\r\n//   };\r\n\r\n//   const handleToggle = () => {\r\n//     setOpen(prevOpen => !prevOpen);\r\n//   };\r\n\r\n//   const handleClose = (event: React.MouseEvent | TouchEvent) => {\r\n//     if (anchorRef.current && \r\n//       event.target instanceof Node &&\r\n//       anchorRef.current.contains(event.target)) {\r\n//       return;\r\n//     }\r\n\r\n//     setOpen(false);\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"deploy-button\">\r\n//       <Grid container>\r\n//         <Grid item xs={12} style={{ padding: '4px 10px' }}>\r\n//           <ButtonGroup\r\n//             style={{ width: '100%' }}\r\n//             variant=\"contained\"\r\n//             color=\"primary\"\r\n//             ref={anchorRef}\r\n//             aria-label=\"split button\"\r\n//           >\r\n//             <Button\r\n//               color=\"primary\"\r\n//               style={{ width: '100%' }}\r\n//               onClick={_ => props.handleClick(options[selectedIndex].value)}\r\n//             >\r\n//               {props.running ? (\r\n//                 <CircularProgress thickness={6} size={14} color={'secondary'} />\r\n//               ) : (\r\n//                 options[selectedIndex].label\r\n//               )}\r\n//               {/*{\"  \" + options[selectedIndex].label}*/}\r\n//             </Button>\r\n//             <Button\r\n//               color=\"primary\"\r\n//               size=\"small\"\r\n//               aria-owns={open ? 'menu-list-grow' : undefined}\r\n//               aria-haspopup=\"true\"\r\n//               onClick={handleToggle}\r\n//               style={{ width: 'auto' }}\r\n//             >\r\n//               <MoreVertIcon />\r\n//             </Button>\r\n//           </ButtonGroup>\r\n//           <Popper\r\n//             color=\"primary\"\r\n//             style={{ zIndex: 2 }}\r\n//             open={open}\r\n//             anchorEl={anchorRef.current}\r\n//             transition\r\n//             disablePortal\r\n//           >\r\n//             {({ TransitionProps, placement }) => (\r\n//               <Grow\r\n//                 {...TransitionProps}\r\n//                 style={{\r\n//                   transformOrigin:\r\n//                     placement === 'bottom' ? 'center top' : 'center bottom',\r\n//                 }}\r\n//               >\r\n//                 <Paper id=\"menu-list-grow\">\r\n//                   <ClickAwayListener onClickAway={handleClose}>\r\n//                     <MenuList>\r\n//                       {options.map((option, index) => (\r\n//                         <MenuItem\r\n//                           key={option.value}\r\n//                           // disabled={index === 2}\r\n//                           selected={index === selectedIndex}\r\n//                           onClick={event => handleMenuItemClick(event, index)}\r\n//                         >\r\n//                           {option.label}\r\n//                         </MenuItem>\r\n//                       ))}\r\n//                     </MenuList>\r\n//                   </ClickAwayListener>\r\n//                 </Paper>\r\n//               </Grow>\r\n//             )}\r\n//           </Popper>\r\n//         </Grid>\r\n//       </Grid>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\nimport * as React from 'react';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\nimport ButtonGroup from '@mui/material/ButtonGroup';\r\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\r\nimport ClickAwayListener from '@mui/material/ClickAwayListener';\r\nimport Grow from '@mui/material/Grow';\r\nimport Paper from '@mui/material/Paper';\r\nimport Popper from '@mui/material/Popper';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport MenuList from '@mui/material/MenuList';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport { styled } from '@mui/material/styles';\r\n\r\nconst DeployButtonContainer = styled('div')({\r\n  '& .deploy-button': {\r\n    // Add any specific styling for the deploy button container\r\n  },\r\n});\r\n\r\nconst StyledButtonGroup = styled(ButtonGroup)({\r\n  width: '100%',\r\n});\r\n\r\nconst MainButton = styled(Button)({\r\n  width: '100%',\r\n});\r\n\r\nconst DropdownButton = styled(Button)({\r\n  width: 'auto',\r\n});\r\n\r\nconst StyledPopper = styled(Popper)({\r\n  zIndex: 2,\r\n});\r\n\r\ninterface ISplitDeployButton {\r\n  running: boolean;\r\n  handleClick: (value: string) => void;\r\n}\r\n\r\nexport const SplitDeployButton: React.FunctionComponent<ISplitDeployButton> = (props) => {\r\n  const [open, setOpen] = React.useState(false);\r\n  const anchorRef = React.useRef<HTMLDivElement>(null);\r\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n\r\n  const options = [\r\n    {\r\n      label: 'Compile and Run',\r\n      value: 'run',\r\n    },\r\n    { label: 'Compile and Upload', value: 'upload' },\r\n    { label: 'Compile and Save', value: 'compile' },\r\n  ];\r\n\r\n  const handleMenuItemClick = (\r\n    event: React.MouseEvent<HTMLLIElement>,\r\n    index: number,\r\n  ) => {\r\n    setSelectedIndex(index);\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleToggle = () => {\r\n    setOpen((prevOpen) => !prevOpen);\r\n  };\r\n\r\n  const handleClose = (event: Event) => {\r\n    if (\r\n      anchorRef.current &&\r\n      event.target instanceof Node &&\r\n      anchorRef.current.contains(event.target)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleMainButtonClick = () => {\r\n    props.handleClick(options[selectedIndex].value);\r\n  };\r\n\r\n  return (\r\n    <DeployButtonContainer>\r\n      <div className=\"deploy-button\">\r\n        <Grid container >\r\n          <Grid size={12} sx={{ padding: '4px 10px' }}>\r\n            <StyledButtonGroup\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              ref={anchorRef}\r\n              aria-label=\"split button\"\r\n            >\r\n              <MainButton\r\n                color=\"primary\"\r\n                onClick={handleMainButtonClick}\r\n                disabled={props.running}\r\n              >\r\n                {props.running ? (\r\n                  <CircularProgress thickness={6} size={14} color=\"secondary\" />\r\n                ) : (\r\n                  options[selectedIndex].label\r\n                )}\r\n              </MainButton>\r\n              <DropdownButton\r\n                color=\"primary\"\r\n                size=\"small\"\r\n                aria-controls={open ? 'menu-list-grow' : undefined}\r\n                aria-haspopup=\"true\"\r\n                onClick={handleToggle}\r\n              >\r\n                <MoreVertIcon />\r\n              </DropdownButton>\r\n            </StyledButtonGroup>\r\n            <StyledPopper\r\n              open={open}\r\n              anchorEl={anchorRef.current}\r\n              transition\r\n              disablePortal\r\n            >\r\n              {({ TransitionProps, placement }) => (\r\n                <Grow\r\n                  {...TransitionProps}\r\n                  style={{\r\n                    transformOrigin:\r\n                      placement === 'bottom' ? 'center top' : 'center bottom',\r\n                  }}\r\n                >\r\n                  <Paper id=\"menu-list-grow\">\r\n                    <ClickAwayListener onClickAway={handleClose}>\r\n                      <MenuList>\r\n                        {options.map((option, index) => (\r\n                          <MenuItem\r\n                            key={option.value}\r\n                            selected={index === selectedIndex}\r\n                            onClick={(event) => handleMenuItemClick(event, index)}\r\n                          >\r\n                            {option.label}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </MenuList>\r\n                    </ClickAwayListener>\r\n                  </Paper>\r\n                </Grow>\r\n              )}\r\n            </StyledPopper>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    </DeployButtonContainer>\r\n  );\r\n};","// /*\r\n//  * Copyright 2019-2020 The Kale Authors\r\n//  *\r\n//  * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n//  * you may not use this file except in compliance with the License.\r\n//  * You may obtain a copy of the License at\r\n//  *\r\n//  *      http://www.apache.org/licenses/LICENSE-2.0\r\n//  *\r\n//  * Unless required by applicable law or agreed to in writing, software\r\n//  * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n//  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n//  * See the License for the specific language governing permissions and\r\n//  * limitations under the License.\r\n//  */\r\n\r\n// import * as React from 'react';\r\n// import { Input } from './Input';\r\n// import { Select, ISelectOption } from './Select';\r\n// import { IExperiment, NEW_EXPERIMENT } from '../widgets/LeftPanel';\r\n\r\n// const regex: string = '^[a-z]([-a-z0-9]*[a-z0-9])?$';\r\n// const regexErrorMsg: string =\r\n//   'Experiment name may consist of alphanumeric ' +\r\n//   \"characters, '-', and must start with a lowercase character and end with \" +\r\n//   'a lowercase alphanumeric character.';\r\n\r\n// interface IExperimentInput {\r\n//   updateValue: Function;\r\n//   options: IExperiment[];\r\n//   selected: string; // Experiment ID\r\n//   value: string; // Experiment Name\r\n//   loading: boolean;\r\n// }\r\n\r\n// export const ExperimentInput: React.FunctionComponent<IExperimentInput> = props => {\r\n//   const getName = (x: string) => {\r\n//     const filtered = props.options.filter(o => o.id === x);\r\n//     return filtered.length === 0 ? '' : filtered[0].name;\r\n//   };\r\n\r\n//   const updateSelected = (selected: string, idx: number) => {\r\n//     let value = selected === NEW_EXPERIMENT.id ? '' : getName(selected);\r\n//     const experiment: IExperiment = { id: selected, name: value };\r\n//     props.updateValue(experiment);\r\n//   };\r\n\r\n//   const updateValue = (value: string, idx: number) => {\r\n//     const experiment: IExperiment = { name: value, id: NEW_EXPERIMENT.id };\r\n//     props.updateValue(experiment);\r\n//   };\r\n\r\n  // const options: ISelectOption[] = props.options.map(o => {\r\n  //   return { label: o.name, value: o.id };\r\n  // });\r\n\r\n//   return (\r\n//     <div>\r\n//       <Select\r\n//         variant=\"standard\"\r\n//         label=\"Select experiment\"\r\n//         values={options}\r\n//         value={props.selected}\r\n//         index={-1}\r\n//         updateValue={updateSelected}\r\n//         helperText={props.loading ? 'Loading...' : null}\r\n//       />\r\n//       {props.selected === NEW_EXPERIMENT.id ? (\r\n//         <div>\r\n//           <Input\r\n//             updateValue={updateValue}\r\n//             value={props.value}\r\n//             label=\"Experiment Name\"\r\n//             regex={regex}\r\n//             regexErrorMsg={regexErrorMsg}\r\n//             variant=\"standard\"\r\n//           />\r\n//         </div>\r\n//       ) : null}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\nimport * as React from 'react';\r\nimport { Input } from './Input';\r\nimport { Select, ISelectOption } from './Select';\r\nimport { IExperiment, NEW_EXPERIMENT } from '../widgets/LeftPanel';\r\n\r\nconst regex: string = '^[a-z]([-a-z0-9]*[a-z0-9])?$';\r\nconst regexErrorMsg: string =\r\n  'Experiment name may consist of alphanumeric ' +\r\n  \"characters, '-', and must start with a lowercase character and end with \" +\r\n  'a lowercase alphanumeric character.';\r\n\r\ninterface IExperimentInput {\r\n  updateValue: (experiment: IExperiment) => void;\r\n  options: IExperiment[];\r\n  selected: string; // Experiment ID\r\n  value: string; // Experiment Name\r\n  loading: boolean;\r\n}\r\n\r\nexport const ExperimentInput: React.FunctionComponent<IExperimentInput> = (props) => {\r\n  const getName = (x: string): string => {\r\n    const filtered = props.options.filter(o => o.id === x);\r\n    return filtered.length === 0 ? '' : filtered[0].name;\r\n  };\r\n\r\n  const updateSelected = (selected: string, index?: number) => {\r\n    const value = selected === NEW_EXPERIMENT.id ? '' : getName(selected);\r\n    const experiment: IExperiment = { id: selected, name: value };\r\n    props.updateValue(experiment);\r\n  };\r\n\r\n  const updateValue = (value: string, index?: number) => {\r\n    const experiment: IExperiment = { name: value, id: NEW_EXPERIMENT.id };\r\n    props.updateValue(experiment);\r\n  };\r\n\r\n  const options: ISelectOption[] = props.options.map((o) => ({\r\n    label: o.name,\r\n    value: o.id,\r\n  }));\r\n\r\n  return (\r\n    <div>\r\n      <Select\r\n        variant=\"standard\"\r\n        label=\"Select experiment\"\r\n        values={options}\r\n        value={props.selected}\r\n        index={-1}\r\n        updateValue={updateSelected}\r\n        helperText={props.loading ? 'Loading...' : null}\r\n      />\r\n      {props.selected === NEW_EXPERIMENT.id && (\r\n        <div>\r\n          <Input\r\n            updateValue={updateValue}\r\n            value={props.value}\r\n            label=\"Experiment Name\"\r\n            regex={regex}\r\n            regexErrorMsg={regexErrorMsg}\r\n            variant=\"standard\"\r\n            inputIndex={0}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};","// /*\r\n//  * Copyright 2020 The Kale Authors\r\n//  *\r\n//  * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n//  * you may not use this file except in compliance with the License.\r\n//  * You may obtain a copy of the License at\r\n//  *\r\n//  *      http://www.apache.org/licenses/LICENSE-2.0\r\n//  *\r\n//  * Unless required by applicable law or agreed to in writing, software\r\n//  * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n//  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n//  * See the License for the specific language governing permissions and\r\n//  * limitations under the License.\r\n//  */\r\n\r\n// import * as React from 'react';\r\n// import { useDebouncedCallback } from 'use-debounce';\r\n// import TextField, { OutlinedTextFieldProps } from '@material-ui/core/TextField';\r\n// import { createStyles, makeStyles } from '@material-ui/core/styles';\r\n\r\n// const useStyles = makeStyles(() =>\r\n//   createStyles({\r\n//     label: {\r\n//       color: 'var(--jp-input-border-color)',\r\n//       fontSize: 'var(--jp-ui-font-size2)',\r\n//     },\r\n//     input: {\r\n//       color: 'var(--jp-ui-font-color1)',\r\n//     },\r\n//     textField: {\r\n//       width: '100%',\r\n//     },\r\n//     helperLabel: {\r\n//       color: 'var(--jp-info-color0)',\r\n//     },\r\n//   }),\r\n// );\r\n\r\n// // @ts-ignore\r\n// export interface InputProps extends OutlinedTextFieldProps {\r\n//   value: string | number;\r\n//   regex?: string;\r\n//   regexErrorMsg?: string;\r\n//   inputIndex?: number;\r\n//   helperText?: string;\r\n//   readOnly?: boolean;\r\n//   validation?: 'int' | 'double';\r\n//   variant?: 'standard' | 'outlined' | 'filled';\r\n//   updateValue: Function;\r\n//   onBeforeUpdate?: (value: string) => boolean;\r\n// }\r\n\r\n// export const Input: React.FunctionComponent<InputProps> = props => {\r\n//   const [value, setValue] = React.useState('' as any);\r\n//   const [error, updateError] = React.useState(false);\r\n//   const classes = useStyles({});\r\n\r\n//   const {\r\n//     value: propsValue,\r\n//     className,\r\n//     helperText = null,\r\n//     regex,\r\n//     regexErrorMsg,\r\n//     validation,\r\n//     placeholder,\r\n//     inputIndex,\r\n//     readOnly = false,\r\n//     variant = 'outlined',\r\n//     InputProps,\r\n//     updateValue,\r\n//     onBeforeUpdate = undefined,\r\n//     ...rest\r\n//   } = props;\r\n\r\n//   const getRegex = () => {\r\n//     if (regex) {\r\n//       return regex;\r\n//     } else if (validation && validation == 'int') {\r\n//       return /^(-\\d)?\\d*$/;\r\n//     } else if (validation && validation == 'double') {\r\n//       return /^(-\\d)?\\d*(\\.\\d)?\\d*$/;\r\n//     } else {\r\n//       return undefined;\r\n//     }\r\n//   };\r\n\r\n//   const getRegexMessage = () => {\r\n//     if (regexErrorMsg) {\r\n//       return regexErrorMsg;\r\n//     } else if (validation && validation == 'int') {\r\n//       return 'Integer value required';\r\n//     } else if (validation && validation == 'double') {\r\n//       return 'Double value required';\r\n//     } else {\r\n//       return undefined;\r\n//     }\r\n//   };\r\n\r\n//   const onChange = (value: string, index: number) => {\r\n//     // if the input domain is restricted by a regex\r\n//     if (!getRegex()) {\r\n//       updateValue(value, index);\r\n//       return;\r\n//     }\r\n\r\n//     let re = new RegExp(getRegex());\r\n//     if (!re.test(value)) {\r\n//       updateError(true);\r\n//     } else {\r\n//       updateError(false);\r\n//       updateValue(value, index);\r\n//     }\r\n//   };\r\n\r\n//   React.useEffect(() => {\r\n//     // need this to set the value when the notebook is loaded and the metadata\r\n//     // is updated\r\n//     setValue(propsValue);\r\n//   }, [propsValue]); // Only re-run the effect if propsValue changes\r\n\r\n//   const [debouncedCallback] = useDebouncedCallback(\r\n//     // function\r\n//     (value: string, idx: number) => {\r\n//       onChange(value, idx);\r\n//     },\r\n//     // delay in ms\r\n//     500,\r\n//   );\r\n\r\n//   return (\r\n//     // @ts-ignore\r\n//     <TextField\r\n//       {...rest}\r\n//       variant={variant}\r\n//       className={classes.textField}\r\n//       error={error}\r\n//       value={value}\r\n//       margin=\"dense\"\r\n//       placeholder={placeholder}\r\n//       spellCheck={false}\r\n//       helperText={error ? getRegexMessage() : helperText}\r\n//       InputProps={{\r\n//         classes: { root: classes.input },\r\n//         readOnly: readOnly,\r\n//         ...InputProps,\r\n//       }}\r\n//       InputLabelProps={{\r\n//         classes: { root: classes.label },\r\n//         shrink: !!placeholder || value !== '',\r\n//       }}\r\n//       FormHelperTextProps={{ classes: { root: classes.helperLabel } }}\r\n//       onChange={evt => {\r\n//         setValue(evt.target.value);\r\n//         if (!onBeforeUpdate) {\r\n//           debouncedCallback(evt.target.value, inputIndex);\r\n//         } else {\r\n//           const r = onBeforeUpdate(evt.target.value);\r\n//           if (r) {\r\n//             updateError(true);\r\n//           } else {\r\n//             updateError(false);\r\n//             debouncedCallback(evt.target.value, inputIndex);\r\n//           }\r\n//         }\r\n//       }}\r\n//     />\r\n//   );\r\n// };\r\n\r\n/*\r\n * Copyright 2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as React from 'react';\r\nimport { useDebouncedCallback } from 'use-debounce';\r\nimport TextField, { TextFieldProps } from '@mui/material/TextField';\r\nimport { styled } from '@mui/material/styles';\r\n\r\nconst StyledTextField = styled(TextField)({\r\n  width: '100%',\r\n  '& .MuiInputLabel-root': {\r\n    color: 'var(--jp-input-border-color)',\r\n    fontSize: 'var(--jp-ui-font-size2)'\r\n  },\r\n  '& .MuiInputBase-input': {\r\n    color: 'var(--jp-ui-font-color1)'\r\n  },\r\n  '& .MuiFormHelperText-root': {\r\n    color: 'var(--jp-info-color0)'\r\n  }\r\n});\r\n\r\nexport interface InputProps extends Omit<TextFieldProps, 'onChange' | 'value'> {\r\n  value: string | number;\r\n  regex?: string;\r\n  regexErrorMsg?: string;\r\n  inputIndex?: number;\r\n  helperText?: string;\r\n  readOnly?: boolean;\r\n  validation?: 'int' | 'double';\r\n  variant?: 'standard' | 'outlined' | 'filled';\r\n  updateValue: (value: string, index?: number) => void;\r\n  onBeforeUpdate?: (value: string) => boolean;\r\n}\r\n\r\nexport const Input: React.FunctionComponent<InputProps> = props => {\r\n  const [value, setValue] = React.useState<string | number>('');\r\n  const [error, updateError] = React.useState(false);\r\n\r\n  const {\r\n    value: propsValue,\r\n    className,\r\n    helperText = null,\r\n    regex,\r\n    regexErrorMsg,\r\n    validation,\r\n    placeholder,\r\n    inputIndex,\r\n    readOnly = false,\r\n    variant = 'outlined',\r\n    InputProps,\r\n    updateValue,\r\n    onBeforeUpdate = undefined,\r\n    ...rest\r\n  } = props;\r\n\r\n  const getRegex = (): string | RegExp | undefined => {\r\n    if (regex) {\r\n      return regex;\r\n    } else if (validation && validation === 'int') {\r\n      return /^(-\\d)?\\d*$/;\r\n    } else if (validation && validation === 'double') {\r\n      return /^(-\\d)?\\d*(\\.\\d)?\\d*$/;\r\n    } else {\r\n      return undefined;\r\n    }\r\n  };\r\n\r\n  const getRegexMessage = (): string | undefined => {\r\n    if (regexErrorMsg) {\r\n      return regexErrorMsg;\r\n    } else if (validation && validation === 'int') {\r\n      return 'Integer value required';\r\n    } else if (validation && validation === 'double') {\r\n      return 'Double value required';\r\n    } else {\r\n      return undefined;\r\n    }\r\n  };\r\n\r\n  const onChange = (value: string, index?: number) => {\r\n    // if the input domain is restricted by a regex\r\n    const regexPattern = getRegex();\r\n    if (!regexPattern) {\r\n      updateValue(value, index);\r\n      return;\r\n    }\r\n\r\n    const re = new RegExp(regexPattern);\r\n    if (!re.test(value)) {\r\n      updateError(true);\r\n    } else {\r\n      updateError(false);\r\n      updateValue(value, index);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    // need this to set the value when the notebook is loaded and the metadata\r\n    // is updated\r\n    setValue(propsValue);\r\n  }, [propsValue]); // Only re-run the effect if propsValue changes\r\n\r\n  const debouncedCallback = useDebouncedCallback(\r\n    // function\r\n    (value: string, idx?: number) => {\r\n      onChange(value, idx);\r\n    },\r\n    // delay in ms\r\n    500\r\n  );\r\n\r\n  const handleChange = (evt: React.ChangeEvent<HTMLInputElement>) => {\r\n    const newValue = evt.target.value;\r\n    setValue(newValue);\r\n\r\n    if (!onBeforeUpdate) {\r\n      debouncedCallback(newValue, inputIndex);\r\n    } else {\r\n      const hasError = onBeforeUpdate(newValue);\r\n      if (hasError) {\r\n        updateError(true);\r\n      } else {\r\n        updateError(false);\r\n        debouncedCallback(newValue, inputIndex);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <StyledTextField\r\n      {...rest}\r\n      variant={variant}\r\n      className={className}\r\n      error={error}\r\n      value={value}\r\n      margin=\"dense\"\r\n      placeholder={placeholder}\r\n      spellCheck={false}\r\n      helperText={error ? getRegexMessage() : helperText}\r\n      slotProps={{\r\n        input: {\r\n          readOnly: readOnly,\r\n          ...InputProps\r\n        },\r\n        inputLabel: {\r\n          shrink: !!placeholder || value !== ''\r\n        }\r\n      }}\r\n      onChange={handleChange}\r\n    />\r\n  );\r\n};\r\n","/*\r\n * Copyright 2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { TooltipProps } from '@mui/material';\r\nimport Tooltip from '@mui/material/Tooltip';\r\n\r\nexport const LightTooltip = styled(({ className, ...props }: TooltipProps) => (\r\n  <Tooltip {...props} classes={{ popper: className }} />\r\n))(({ theme }) => ({\r\n  [`& .MuiTooltip-tooltip`]: {\r\n    backgroundColor: theme.palette.common.white,\r\n    color: 'rgba(0, 0, 0, 0.87)',\r\n    boxShadow: theme.shadows[1],\r\n    fontSize: 'var(--jp-ui-font-size1)',\r\n  },\r\n}));\r\n","// /*\r\n//  * Copyright 2020 The Kale Authors\r\n//  *\r\n//  * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n//  * you may not use this file except in compliance with the License.\r\n//  * You may obtain a copy of the License at\r\n//  *\r\n//  *      http://www.apache.org/licenses/LICENSE-2.0\r\n//  *\r\n//  * Unless required by applicable law or agreed to in writing, software\r\n//  * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n//  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n//  * See the License for the specific language governing permissions and\r\n//  * limitations under the License.\r\n//  */\r\n\r\n// import * as React from 'react';\r\n// import TextField, { BaseTextFieldProps } from '@mui/material/TextField';\r\n// import { MenuItem, Zoom } from '@mui/material';\r\n// import { createStyles, makeStyles } from '@mui/material/styles';\r\n// import { styled } from '@mui/material/styles'; \r\n// import { LightTooltip } from './LightTooltip';\r\n\r\n// export interface ISelectOption {\r\n//   label: string;\r\n//   value: string;\r\n//   tooltip?: any;\r\n//   invalid?: boolean;\r\n// }\r\n\r\n// const useStyles = styled(TextField)({\r\n//   label: {\r\n//     color: 'var(--jp-input-border-color)',\r\n//     fontSize: 'var(--jp-ui-font-size2)',\r\n//   },\r\n//   input: {\r\n//     color: 'var(--jp-ui-font-color1)',\r\n//   },\r\n//   textField: {\r\n//     width: '100%',\r\n//   },\r\n//   menu: {\r\n//     backgroundColor: 'var(--jp-layout-color1)',\r\n//     color: 'var(--jp-ui-font-color1)',\r\n//   },\r\n//   helperLabel: {\r\n//     color: 'var(--jp-info-color0)',\r\n//   },\r\n// });\r\n\r\n\r\n// interface SelectProps extends BaseTextFieldProps {\r\n//   index: number;\r\n//   values: ISelectOption[];\r\n//   variant?: 'filled' | 'standard' | 'outlined';\r\n//   updateValue: Function;\r\n// }\r\n\r\n// export const Select: React.FC<SelectProps> = props => {\r\n//   const classes = useStyles({});\r\n\r\n//   const {\r\n//     index,\r\n//     value,\r\n//     values,\r\n//     helperText = null,\r\n//     variant = 'outlined',\r\n//     updateValue,\r\n//     ...rest\r\n//   } = props;\r\n\r\n//   const disableMenuItem = (event: React.MouseEvent, invalidOption: boolean) => {\r\n//     if (invalidOption) {\r\n//       event.stopPropagation();\r\n//     }\r\n//   };\r\n\r\n//   const getOptionClassNames = (option: any) => {\r\n//     const classNames: string[] = [];\r\n//     if (option.tooltip) {\r\n//       classNames.push('menu-item-tooltip');\r\n//     }\r\n//     return classNames.join(' ');\r\n//   };\r\n\r\n//   return (\r\n//     // @ts-ignore\r\n//     <TextField\r\n//       select\r\n//       {...rest}\r\n//       margin=\"dense\"\r\n//       value={value}\r\n//       variant={variant}\r\n//       className={classes.textField}\r\n//       onChange={evt =>\r\n//         updateValue((evt.target as HTMLInputElement).value, index)\r\n//       }\r\n//       InputLabelProps={{\r\n//         classes: { root: classes.label },\r\n//         shrink: value !== '',\r\n//       }}\r\n//       InputProps={{ classes: { root: classes.input } }}\r\n//       SelectProps={{ MenuProps: { PaperProps: { className: classes.menu } } }}\r\n//       FormHelperTextProps={{ classes: { root: classes.helperLabel } }}\r\n//     >\r\n//       {values.map((option: any) => (\r\n//         <MenuItem\r\n//           key={option.value}\r\n//           value={option.value}\r\n//           disabled={!!option.invalid}\r\n//           className={getOptionClassNames(option)}\r\n//         >\r\n//           {option.tooltip ? (\r\n//             <LightTooltip\r\n//               title={option.tooltip}\r\n//               placement=\"top-start\"\r\n//               interactive={!(typeof option.tooltip === 'string')}\r\n//               TransitionComponent={Zoom}\r\n//             >\r\n//               <div\r\n//                 className=\"menu-item-label\"\r\n//                 onClick={ev => disableMenuItem(ev, !!option.invalid)}\r\n//               >\r\n//                 {option.label}\r\n//               </div>\r\n//             </LightTooltip>\r\n//           ) : (\r\n//             option.label\r\n//           )}\r\n//         </MenuItem>\r\n//       ))}\r\n//     </TextField>\r\n//   );\r\n// };\r\n\r\n\r\nimport * as React from 'react';\r\nimport TextField, { BaseTextFieldProps } from '@mui/material/TextField';\r\nimport { MenuItem, Zoom } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport { LightTooltip } from './LightTooltip';\r\n\r\nexport interface ISelectOption {\r\n  label: string;\r\n  value: string;\r\n  tooltip?: any;\r\n  invalid?: boolean;\r\n}\r\n\r\n// Styled TextField component with custom CSS variables\r\nconst StyledTextField = styled(TextField)(({ theme }) => ({\r\n  width: '100%',\r\n  '& .MuiInputLabel-root': {\r\n    color: 'var(--jp-input-border-color)',\r\n    fontSize: 'var(--jp-ui-font-size2)',\r\n  },\r\n  '& .MuiInputBase-input': {\r\n    color: 'var(--jp-ui-font-color1)',\r\n  },\r\n  '& .MuiFormHelperText-root': {\r\n    color: 'var(--jp-info-color0)',\r\n  },\r\n  '& .MuiPaper-root': {\r\n    backgroundColor: 'var(--jp-layout-color1)',\r\n    color: 'var(--jp-ui-font-color1)',\r\n  },\r\n}));\r\n\r\ninterface SelectProps extends BaseTextFieldProps {\r\n  index: number;\r\n  values: ISelectOption[];\r\n  variant?: 'filled' | 'standard' | 'outlined';\r\n  updateValue: (value: string, index: number) => void;\r\n}\r\n\r\nexport const Select: React.FC<SelectProps> = (props) => {\r\n  const {\r\n    index,\r\n    value,\r\n    values,\r\n    helperText = null,\r\n    variant = 'outlined',\r\n    updateValue,\r\n    ...rest\r\n  } = props;\r\n\r\n  const disableMenuItem = (event: React.MouseEvent, invalidOption: boolean) => {\r\n    if (invalidOption) {\r\n      event.stopPropagation();\r\n    }\r\n  };\r\n\r\n  const getOptionClassNames = (option: ISelectOption) => {\r\n    const classNames: string[] = [];\r\n    if (option.tooltip) {\r\n      classNames.push('menu-item-tooltip');\r\n    }\r\n    return classNames.join(' ');\r\n  };\r\n\r\n  return (\r\n    <StyledTextField\r\n      select\r\n      {...rest}\r\n      margin=\"dense\"\r\n      value={value || ''}\r\n      variant={variant}\r\n      helperText={helperText}\r\n      onChange={(evt) =>\r\n        updateValue((evt.target as HTMLInputElement).value, index)\r\n      }\r\n      InputLabelProps={{\r\n        shrink: value !== '',\r\n      }}\r\n      slotProps={{\r\n        select: {\r\n          MenuProps: {\r\n            PaperProps: {\r\n              sx: {\r\n                backgroundColor: 'var(--jp-layout-color1)',\r\n                color: 'var(--jp-ui-font-color1)',\r\n              },\r\n            },\r\n          },\r\n        },\r\n      }}\r\n    >\r\n      {values.map((option: ISelectOption) => (\r\n        <MenuItem\r\n          key={option.value}\r\n          value={option.value}\r\n          disabled={!!option.invalid}\r\n          className={getOptionClassNames(option)}\r\n        >\r\n          {option.tooltip ? (\r\n            <LightTooltip\r\n              title={option.tooltip}\r\n              placement=\"top-start\"\r\n              TransitionComponent={Zoom}\r\n              slotProps={{\r\n                popper: {\r\n                  modifiers: [\r\n                    {\r\n                      name: 'offset',\r\n                      options: {\r\n                        offset: [0, -14],\r\n                      },\r\n                    },\r\n                  ],\r\n                },\r\n              }}\r\n            >\r\n              <div\r\n                className=\"menu-item-label\"\r\n                onClick={(ev) => disableMenuItem(ev, !!option.invalid)}\r\n              >\r\n                {option.label}\r\n              </div>\r\n            </LightTooltip>\r\n          ) : (\r\n            option.label\r\n          )}\r\n        </MenuItem>\r\n      ))}\r\n    </StyledTextField>\r\n  );\r\n};","// /*\r\n//  * Copyright 2020 The Kale Authors\r\n//  *\r\n//  * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n//  * you may not use this file except in compliance with the License.\r\n//  * You may obtain a copy of the License at\r\n//  *\r\n//  *      http://www.apache.org/licenses/LICENSE-2.0\r\n//  *\r\n//  * Unless required by applicable law or agreed to in writing, software\r\n//  * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n//  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n//  * See the License for the specific language governing permissions and\r\n//  * limitations under the License.\r\n//  */\r\n\r\n// import { createStyles, makeStyles } from '@mui/material/styles';\r\n// import * as React from 'react';\r\n// import { findDOMNode } from 'react-dom';\r\n// import { Input, MenuItem, Select } from '@mui/material';\r\n// import OutlinedInput from '@mui/material/OutlinedInput';\r\n// import FormControl from '@mui/material/FormControl';\r\n// import InputLabel from '@mui/material/InputLabel';\r\n// import Chip from '@mui/material/Chip';\r\n// import ColorUtils from '../lib/ColorUtils';\r\n\r\n// const useStyles = makeStyles(() =>\r\n//   createStyles({\r\n//     menu: {\r\n//       color: 'var(--jp-ui-font-color1)',\r\n//       fontSize: 'var(--jp-ui-font-size2)',\r\n//     },\r\n//     chips: {\r\n//       display: 'flex',\r\n//       flexWrap: 'wrap',\r\n//     },\r\n//     chip: {},\r\n//     selectMultiForm: {\r\n//       width: '100%',\r\n//     },\r\n//     label: {\r\n//       backgroundColor: 'var(--jp-layout-color1)',\r\n//       color: 'var(--jp-input-border-color)',\r\n//       fontSize: 'var(--jp-ui-font-size2)',\r\n//     },\r\n//     input: {\r\n//       fontSize: 'var(--jp-ui-font-size2)',\r\n//     },\r\n//   }),\r\n// );\r\n\r\n// interface SelectMultiProps {\r\n//   id: string;\r\n//   label: string;\r\n//   style?: unknown;\r\n//   selected: string[];\r\n//   disabled?: boolean;\r\n//   options: { value: string; color: string }[];\r\n//   variant?: 'filled' | 'standard' | 'outlined';\r\n//   updateSelected: Function;\r\n// }\r\n\r\n// export const SelectMulti: React.FunctionComponent<SelectMultiProps> = props => {\r\n//   const classes = useStyles({});\r\n//   const [inputLabelRef, setInputLabelRef] = React.useState(undefined);\r\n//   const labelOffsetWidth = inputLabelRef\r\n//     ? (findDOMNode(inputLabelRef) as HTMLElement).offsetWidth\r\n//     : 0;\r\n\r\n//   const {\r\n//     id,\r\n//     label,\r\n//     options,\r\n//     selected,\r\n//     disabled = false,\r\n//     variant = 'outlined',\r\n//     style = {},\r\n//     updateSelected,\r\n//   } = props;\r\n\r\n//   let inputComponent = <Input margin=\"dense\" id={id} />;\r\n\r\n//   if (!variant || variant === 'outlined') {\r\n//     inputComponent = (\r\n//       <OutlinedInput margin=\"dense\" labelWidth={labelOffsetWidth} id={id} />\r\n//     );\r\n//   }\r\n\r\n//   return (\r\n//     <FormControl\r\n//       margin=\"dense\"\r\n//       style={style}\r\n//       variant={variant}\r\n//       disabled={disabled}\r\n//       className={classes.selectMultiForm}\r\n//     >\r\n//       <InputLabel\r\n//         ref={ref => {\r\n//           setInputLabelRef(ref);\r\n//         }}\r\n//         htmlFor={id}\r\n//         className={classes.label}\r\n//       >\r\n//         {label}\r\n//       </InputLabel>\r\n//       <Select\r\n//         multiple\r\n//         MenuProps={{ PaperProps: { className: classes.menu } }}\r\n//         onChange={evt => updateSelected((evt.target as HTMLInputElement).value)}\r\n//         margin=\"dense\"\r\n//         variant={variant}\r\n//         input={inputComponent}\r\n//         value={selected}\r\n//         renderValue={elements => (\r\n//           <div className={classes.chips}>\r\n//             {(elements as string[]).map(value => {\r\n//               return (\r\n//                 <Chip\r\n//                   style={{ backgroundColor: `#${ColorUtils.getColor(value)}` }}\r\n//                   key={value}\r\n//                   label={value}\r\n//                   className={`kale-chip kale-chip-select ${classes.chip}`}\r\n//                 />\r\n//               );\r\n//             })}\r\n//           </div>\r\n//         )}\r\n//       >\r\n//         {options.map(option => (\r\n//           <MenuItem key={option.value} value={option.value}>\r\n//             {option.value}\r\n//           </MenuItem>\r\n//         ))}\r\n//       </Select>\r\n//     </FormControl>\r\n//   );\r\n// };\r\n\r\n\r\nimport { styled } from '@mui/material/styles';\r\nimport * as React from 'react';\r\nimport { Input, MenuItem, Select } from '@mui/material';\r\nimport OutlinedInput from '@mui/material/OutlinedInput';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport Chip from '@mui/material/Chip';\r\nimport ColorUtils from '../lib/ColorUtils';\r\n\r\nconst StyledFormControl = styled(FormControl)({\r\n  width: '100%',\r\n  '& .MuiInputLabel-root': {\r\n    backgroundColor: 'var(--jp-layout-color1)',\r\n    color: 'var(--jp-input-border-color)',\r\n    fontSize: 'var(--jp-ui-font-size2)',\r\n  },\r\n  '& .MuiInputBase-input': {\r\n    fontSize: 'var(--jp-ui-font-size2)',\r\n  },\r\n});\r\n\r\nconst ChipsContainer = styled('div')({\r\n  display: 'flex',\r\n  flexWrap: 'wrap',\r\n  gap: '4px',\r\n});\r\n\r\nconst StyledChip = styled(Chip)({\r\n  // Additional chip styling can go here if needed\r\n});\r\n\r\ninterface SelectMultiProps {\r\n  id: string;\r\n  label: string;\r\n  style?: React.CSSProperties;\r\n  selected: string[];\r\n  disabled?: boolean;\r\n  options: { value: string; color: string }[];\r\n  variant?: 'filled' | 'standard' | 'outlined';\r\n  updateSelected: (value: string[]) => void;\r\n}\r\n\r\nexport const SelectMulti: React.FunctionComponent<SelectMultiProps> = (props) => {\r\n  const {\r\n    id,\r\n    label,\r\n    options,\r\n    selected,\r\n    disabled = false,\r\n    variant = 'outlined',\r\n    style = {},\r\n    updateSelected,\r\n  } = props;\r\n\r\n  const getInputComponent = () => {\r\n    if (variant === 'outlined') {\r\n      return <OutlinedInput margin=\"dense\" id={id} />;\r\n    }\r\n    return <Input margin=\"dense\" id={id} />;\r\n  };\r\n\r\n  return (\r\n    <StyledFormControl\r\n      margin=\"dense\"\r\n      style={style}\r\n      variant={variant}\r\n      disabled={disabled}\r\n    >\r\n      <InputLabel htmlFor={id}>\r\n        {label}\r\n      </InputLabel>\r\n      <Select\r\n        multiple\r\n        value={selected}\r\n        onChange={(evt) => updateSelected(evt.target.value as string[])}\r\n        input={getInputComponent()}\r\n        MenuProps={{\r\n          PaperProps: {\r\n            sx: {\r\n              color: 'var(--jp-ui-font-color1)',\r\n              fontSize: 'var(--jp-ui-font-size2)',\r\n            },\r\n          },\r\n        }}\r\n        renderValue={(selectedValues) => (\r\n          <ChipsContainer>\r\n            {(selectedValues as string[]).map((value) => (\r\n              <StyledChip\r\n                key={value}\r\n                label={value}\r\n                className=\"kale-chip kale-chip-select\"\r\n                sx={{\r\n                  backgroundColor: `#${ColorUtils.getColor(value)}`,\r\n                }}\r\n              />\r\n            ))}\r\n          </ChipsContainer>\r\n        )}\r\n      >\r\n        {options.map((option) => (\r\n          <MenuItem key={option.value} value={option.value}>\r\n            {option.value}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </StyledFormControl>\r\n  );\r\n};","/*\r\n * Copyright 2019-2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as React from 'react';\r\n// import { CSSProperties } from 'jss/css';\r\n\r\nexport default class StatusRunning extends React.Component<{ style: any }> {\r\n  public render(): JSX.Element {\r\n    const { style } = this.props;\r\n    return (\r\n      <svg\r\n        width={style.width as string}\r\n        height={style.height as string}\r\n        viewBox=\"0 0 18 18\"\r\n      >\r\n        <g\r\n          transform=\"translate(-450, -307)\"\r\n          fill={style.color as string}\r\n          fillRule=\"nonzero\"\r\n        >\r\n          <g transform=\"translate(450, 266)\">\r\n            <g transform=\"translate(0, 41)\">\r\n              <path\r\n                d=\"M9,4 C6.23857143,4 4,6.23857143 4,9 C4,11.7614286 6.23857143,14 9,14\r\n                C11.7614286,14 14,11.7614286 14,9 C14,8.40214643 13.8950716,7.8288007\r\n                13.702626,7.29737398 L15.2180703,5.78192967 C15.7177126,6.74539838\r\n                16,7.83973264 16,9 C16,12.866 12.866,16 9,16 C5.134,16 2,12.866 2,9 C2,5.134\r\n                5.134,2 9,2 C10.933,2 12.683,2.7835 13.94975,4.05025 L12.7677679,5.23223214\r\n                L9,9 L9,4 Z\"\r\n              />\r\n            </g>\r\n          </g>\r\n        </g>\r\n      </svg>\r\n    );\r\n  }\r\n}\r\n","/*\r\n * Copyright 2019-2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as React from 'react';\r\n// import { CSSProperties } from 'jss/css';\r\nexport default class StatusTerminated extends React.Component<{ style: any }> {\r\n  public render(): JSX.Element {\r\n    const { style } = this.props;\r\n    return (\r\n      <svg\r\n        width={style.width as string}\r\n        height={style.height as string}\r\n        viewBox=\"0 0 18 18\"\r\n      >\r\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n          <g>\r\n            <polygon points=\"0 0 18 0 18 18 0 18\" />\r\n            <path\r\n              d=\"M8.9925,1.5 C4.8525,1.5 1.5,4.86 1.5,9 C1.5,13.14 4.8525,16.5 8.9925,16.5\r\n              C13.14,16.5 16.5,13.14 16.5,9 C16.5,4.86 13.14,1.5 8.9925,1.5 Z M9,15 C5.685,15\r\n              3,12.315 3,9 C3,5.685 5.685,3 9,3 C12.315,3 15,5.685 15,9 C15,12.315 12.315,15 9,15 Z\"\r\n              fill={style.color as string}\r\n              fillRule=\"nonzero\"\r\n            />\r\n            <polygon\r\n              fill={style.color as string}\r\n              fillRule=\"nonzero\"\r\n              points=\"6 6 12 6 12 12 6 12\"\r\n            />\r\n          </g>\r\n        </g>\r\n      </svg>\r\n    );\r\n  }\r\n}\r\n","/*\r\n * Copyright 2019-2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport { JupyterFrontEndPlugin } from '@jupyterlab/application';\r\nimport kubeflowKalePlugin from './widget';\r\nexport default [kubeflowKalePlugin] as JupyterFrontEndPlugin<any>[];\r\n","/*\r\n * Copyright 2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as React from 'react';\r\n\r\nexport const CellMetadataContext = React.createContext({\r\n  isEditorVisible: false,\r\n  activeCellIndex: -1,\r\n  onEditorVisibilityChange: (isEditorVisible: boolean) => {},\r\n});\r\n","// /*\r\n//  * Copyright 2019-2020 The Kale Authors\r\n//  *\r\n//  * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n//  * you may not use this file except in compliance with the License.\r\n//  * You may obtain a copy of the License at\r\n//  *\r\n//  *      http://www.apache.org/licenses/LICENSE-2.0\r\n//  *\r\n//  * Unless required by applicable law or agreed to in writing, software\r\n//  * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n//  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n//  * See the License for the specific language governing permissions and\r\n//  * limitations under the License.\r\n//  */\r\n\r\n// // Dependencies\r\n// import { Cell, ICellModel, isCodeCellModel } from '@jupyterlab/cells';\r\n// import {\r\n//   IError,\r\n//   isError,\r\n//   isExecuteResult,\r\n//   isStream,\r\n// } from '@jupyterlab/nbformat';\r\n// import { Notebook, NotebookActions, NotebookPanel } from '@jupyterlab/notebook';\r\n// // Project Components\r\n// import NotebookUtilities from './NotebookUtils';\r\n\r\n// /** Contains some utility functions for handling notebook cells */\r\n// export default class CellUtilities {\r\n//   /**\r\n//    * @description Reads the output at a cell within the specified notebook and returns it as a string\r\n//    * @param notebook The notebook to get the cell from\r\n//    * @param index The index of the cell to read\r\n//    * @returns any - A string value of the cell output from the specified\r\n//    * notebook and cell index, or null if there is no output.\r\n//    * @throws An error message if there are issues in getting the output\r\n//    */\r\n//   public static readOutput(notebook: Notebook, index: number): any {\r\n//     if (!notebook) {\r\n//       throw new Error('Notebook was null!');\r\n//     }\r\n//     if (index < 0 || index >= notebook.model.cells.length) {\r\n//       throw new Error('Cell index out of range.');\r\n//     }\r\n//     const cell: ICellModel = notebook.model.cells.get(index);\r\n//     if (!isCodeCellModel(cell)) {\r\n//       throw new Error('cell is not a code cell.');\r\n//     }\r\n//     if (cell.outputs.length < 1) {\r\n//       return null;\r\n//     }\r\n//     const out = cell.outputs.toJSON().pop();\r\n//     if (isExecuteResult(out)) {\r\n//       return out.data['text/plain'];\r\n//     }\r\n//     if (isStream(out)) {\r\n//       return out.text;\r\n//     }\r\n//     if (isError(out)) {\r\n//       const errData: IError = out;\r\n\r\n//       throw new Error(\r\n//         `Code resulted in errors. Error name: ${errData.ename}.\\nMessage: ${errData.evalue}.`,\r\n//       );\r\n//     }\r\n//   }\r\n\r\n//   /**\r\n//    * @description Gets the value of a key from the specified cell's metadata.\r\n//    * @param notebook The notebook that contains the cell.\r\n//    * @param index The index of the cell.\r\n//    * @param key The key of the value.\r\n//    * @returns any - The value of the metadata. Returns null if the key doesn't exist.\r\n//    */\r\n//   public static getCellMetaData(\r\n//     notebook: Notebook,\r\n//     index: number,\r\n//     key: string,\r\n//   ): any {\r\n//     if (!notebook) {\r\n//       throw new Error('Notebook was null!');\r\n//     }\r\n//     if (index < 0 || index >= notebook.model.cells.length) {\r\n//       throw new Error('Cell index out of range.');\r\n//     }\r\n//     const cell: ICellModel = notebook.model.cells.get(index);\r\n//     if (cell.metadata.has(key)) {\r\n//       return cell.metadata.get(key);\r\n//     }\r\n//     return null;\r\n//   }\r\n\r\n//   /**\r\n//    * @description Sets the key value pair in the notebook's metadata.\r\n//    * If the key doesn't exists it will add one.\r\n//    * @param notebookPanel The notebook to set meta data in.\r\n//    * @param index: The cell index to read metadata from\r\n//    * @param key The key of the value to create.\r\n//    * @param value The value to set.\r\n//    * @param save Default is false. Whether the notebook should be saved after the meta data is set.\r\n//    * Note: This function will not wait for the save to complete, it only sends a save request.\r\n//    * @returns any - The old value for the key, or undefined if it did not exist.\r\n//    */\r\n//   public static setCellMetaData(\r\n//     notebookPanel: NotebookPanel,\r\n//     index: number,\r\n//     key: string,\r\n//     value: any,\r\n//     save: boolean = false,\r\n//   ): Promise<any> {\r\n//     if (!notebookPanel) {\r\n//       throw new Error('Notebook was null!');\r\n//     }\r\n//     if (index < 0 || index >= notebookPanel.model.cells.length) {\r\n//       throw new Error('Cell index out of range.');\r\n//     }\r\n//     try {\r\n//       const cell: ICellModel = notebookPanel.model.cells.get(index);\r\n//       const oldVal: any = cell.metadata.set(key, value);\r\n//       if (save) {\r\n//         return notebookPanel.context.save();\r\n//       }\r\n//       return Promise.resolve(oldVal);\r\n//     } catch (error) {\r\n//       return Promise.reject(error);\r\n//     }\r\n//   }\r\n\r\n//   /**\r\n//    * @description Looks within the notebook for a cell containing the specified meta key\r\n//    * @param notebook The notebook to search in\r\n//    * @param key The metakey to search for\r\n//    * @returns [number, ICellModel] - A pair of values, the first is the index of where the cell was found\r\n//    * and the second is a reference to the cell itself. Returns [-1, null] if cell not found.\r\n//    */\r\n//   public static findCellWithMetaKey(\r\n//     notebookPanel: NotebookPanel,\r\n//     key: string,\r\n//   ): [number, ICellModel] {\r\n//     if (!notebookPanel) {\r\n//       throw new Error('Notebook was null!');\r\n//     }\r\n//     const cells = notebookPanel.model.cells;\r\n//     let cell: ICellModel;\r\n//     for (let idx = 0; idx < cells.length; idx += 1) {\r\n//       cell = cells.get(idx);\r\n//       if (cell.metadata.has(key)) {\r\n//         return [idx, cell];\r\n//       }\r\n//     }\r\n//     return [-1, null];\r\n//   }\r\n\r\n//   /**\r\n//    * @description Gets the cell object at specified index in the notebook.\r\n//    * @param notebook The notebook to get the cell from\r\n//    * @param index The index for the cell\r\n//    * @returns Cell - The cell at specified index, or null if not found\r\n//    */\r\n//   public static getCell(notebook: Notebook, index: number): ICellModel {\r\n//     if (notebook && index >= 0 && index < notebook.model.cells.length) {\r\n//       return notebook.model.cells.get(index);\r\n//     }\r\n//     return null;\r\n//   }\r\n\r\n//   /**\r\n//    * @description Runs code in the notebook cell found at the given index.\r\n//    * @param command The command registry which can execute the run command.\r\n//    * @param notebook The notebook panel to run the cell in\r\n//    * @returns Promise<string> - A promise containing the output after the code has executed.\r\n//    */\r\n//   public static async runCellAtIndex(\r\n//     notebookPanel: NotebookPanel,\r\n//     index: number,\r\n//   ): Promise<string> {\r\n//     if (notebookPanel === null) {\r\n//       throw new Error(\r\n//         'Null or undefined parameter was given for command or notebook argument.',\r\n//       );\r\n//     }\r\n//     const notebook = notebookPanel.content;\r\n//     if (index < 0 || index >= notebook.widgets.length) {\r\n//       throw new Error('The index was out of range.');\r\n//     }\r\n//     // Save the old index, then set the current active cell\r\n//     const oldIndex = notebook.activeCellIndex;\r\n//     notebook.activeCellIndex = index;\r\n//     try {\r\n//       await NotebookActions.run(notebook, notebookPanel.sessionContext);\r\n\r\n//       // await command.execute(\"notebook:run-cell\");\r\n//       const output = CellUtilities.readOutput(notebook, index);\r\n//       notebook.activeCellIndex = oldIndex;\r\n//       return output;\r\n//     } finally {\r\n//       notebook.activeCellIndex = oldIndex;\r\n//     }\r\n//   }\r\n\r\n//   /**\r\n//    * @description Deletes the cell at specified index in the open notebook\r\n//    * @param notebookPanel The notebook panel to delete the cell from\r\n//    * @param index The index that the cell will be deleted at\r\n//    * @returns void\r\n//    */\r\n//   public static deleteCellAtIndex(notebook: Notebook, index: number): void {\r\n//     if (notebook === null) {\r\n//       throw new Error(\r\n//         'Null or undefined parameter was given for notebook argument.',\r\n//       );\r\n//     }\r\n//     if (index < 0 || index >= notebook.widgets.length) {\r\n//       throw new Error('The index was out of range.');\r\n//     }\r\n//     // Save the old index, then set the current active cell\r\n//     let oldIndex = notebook.activeCellIndex;\r\n//     notebook.model.cells.remove(index);\r\n//     // Adjust old index to account for deleted cell.\r\n//     if (oldIndex === index) {\r\n//       if (oldIndex > 0) {\r\n//         oldIndex -= 1;\r\n//       } else {\r\n//         oldIndex = 0;\r\n//       }\r\n//     } else if (oldIndex > index) {\r\n//       oldIndex -= 1;\r\n//     }\r\n//     notebook.activeCellIndex = oldIndex;\r\n//   }\r\n\r\n//   /**\r\n//    * @description Inserts a cell into the notebook, the new cell will be at the specified index.\r\n//    * @param notebook The notebook panel to insert the cell in\r\n//    * @param index The index of where the new cell will be inserted.\r\n//    * If the cell index is less than or equal to 0, it will be added at the top.\r\n//    * If the cell index is greater than the last index, it will be added at the bottom.\r\n//    * @returns number - The index it where the cell was inserted\r\n//    */\r\n//   public static insertCellAtIndex(notebook: Notebook, index: number): number {\r\n//     // Create a new cell\r\n//     const cell = notebook.model.contentFactory.createCodeCell({});\r\n\r\n//     // Save the old index, then set the current active cell\r\n//     let oldIndex = notebook.activeCellIndex;\r\n\r\n//     // Adjust old index for cells inserted above active cell.\r\n//     if (oldIndex >= index) {\r\n//       oldIndex += 1;\r\n//     }\r\n//     if (index <= 0) {\r\n//       notebook.model.cells.insert(0, cell);\r\n//       notebook.activeCellIndex = oldIndex;\r\n//       return 0;\r\n//     }\r\n//     if (index >= notebook.widgets.length) {\r\n//       notebook.model.cells.insert(notebook.widgets.length - 1, cell);\r\n//       notebook.activeCellIndex = oldIndex;\r\n//       return notebook.widgets.length - 1;\r\n//     }\r\n//     notebook.model.cells.insert(index, cell);\r\n//     notebook.activeCellIndex = oldIndex;\r\n//     return index;\r\n//   }\r\n\r\n//   /**\r\n//    * @description Injects code into the specified cell of a notebook, does not run the code.\r\n//    * Warning: the existing cell's code/text will be overwritten.\r\n//    * @param notebook The notebook to select the cell from\r\n//    * @param index The index of the cell to inject the code into\r\n//    * @param code A string containing the code to inject into the CodeCell.\r\n//    * @throws An error message if there are issues with injecting code at a particular cell\r\n//    * @returns void\r\n//    */\r\n//   public static injectCodeAtIndex(\r\n//     notebook: Notebook,\r\n//     index: number,\r\n//     code: string,\r\n//   ): void {\r\n//     if (notebook === null) {\r\n//       throw new Error('Notebook was null or undefined.');\r\n//     }\r\n//     if (index < 0 || index >= notebook.model.cells.length) {\r\n//       throw new Error('Cell index out of range.');\r\n//     }\r\n//     const cell: ICellModel = notebook.model.cells.get(index);\r\n//     if (isCodeCellModel(cell)) {\r\n//       cell.value.text = code;\r\n//       return;\r\n//     }\r\n//     throw new Error('Cell is not a code cell.');\r\n//   }\r\n\r\n//   /**\r\n//    * @description This will insert a new cell at the specified index and the inject the specified code into it.\r\n//    * @param notebook The notebook to insert the cell into\r\n//    * @param index The index of where the new cell will be inserted.\r\n//    * If the cell index is less than or equal to 0, it will be added at the top.\r\n//    * If the cell index is greater than the last index, it will be added at the bottom.\r\n//    * @param code The code to inject into the cell after it has been inserted\r\n//    * @returns number - index of where the cell was inserted\r\n//    */\r\n//   public static insertInjectCode(\r\n//     notebook: Notebook,\r\n//     index: number,\r\n//     code: string,\r\n//   ): number {\r\n//     const newIndex = CellUtilities.insertCellAtIndex(notebook, index);\r\n//     CellUtilities.injectCodeAtIndex(notebook, newIndex, code);\r\n//     return newIndex;\r\n//   }\r\n\r\n//   /**\r\n//    * @description This will insert a new cell at the specified index, inject the specified code into it and the run the code.\r\n//    * Note: The code will be run but the results (output or errors) will not be displayed in the cell. Best for void functions.\r\n//    * @param notebookPanel The notebook to insert the cell into\r\n//    * @param index The index of where the new cell will be inserted and run.\r\n//    * If the cell index is less than or equal to 0, it will be added at the top.\r\n//    * If the cell index is greater than the last index, it will be added at the bottom.\r\n//    * @param code The code to inject into the cell after it has been inserted\r\n//    * @param deleteOnError If set to true, the cell will be deleted if the code results in an error\r\n//    * @returns Promise<[number, string]> - A promise for when the cell code has executed\r\n//    * containing the cell's index and output result\r\n//    */\r\n//   public static async insertAndRun(\r\n//     notebookPanel: NotebookPanel,\r\n//     index: number,\r\n//     code: string,\r\n//     deleteOnError: boolean,\r\n//   ): Promise<[number, string]> {\r\n//     let insertionIndex;\r\n//     try {\r\n//       insertionIndex = CellUtilities.insertInjectCode(\r\n//         notebookPanel.content,\r\n//         index,\r\n//         code,\r\n//       );\r\n//       const output: string = await NotebookUtilities.sendKernelRequestFromNotebook(\r\n//         notebookPanel,\r\n//         code,\r\n//         { output: 'output' },\r\n//         false,\r\n//       );\r\n//       return [insertionIndex, output];\r\n//     } catch (error) {\r\n//       if (deleteOnError) {\r\n//         CellUtilities.deleteCellAtIndex(notebookPanel.content, insertionIndex);\r\n//       }\r\n//       throw error;\r\n//     }\r\n//   }\r\n\r\n//   /**\r\n//    * @description This will insert a new cell at the specified index, inject the specified code into it and the run the code.\r\n//    * Note: The code will be run and the result (output or errors) WILL BE DISPLAYED in the cell.\r\n//    * @param notebookPanel The notebook to insert the cell into\r\n//    * @param command The command registry which can execute the run command.\r\n//    * @param index The index of where the new cell will be inserted and run.\r\n//    * If the cell index is less than or equal to 0, it will be added at the top.\r\n//    * If the cell index is greater than the last index, it will be added at the bottom.\r\n//    * @param code The code to inject into the cell after it has been inserted\r\n//    * @param deleteOnError If set to true, the cell will be deleted if the code results in an error\r\n//    * @returns Promise<[number, string]> - A promise for when the cell code has executed\r\n//    * containing the cell's index and output result\r\n//    */\r\n//   public static async insertRunShow(\r\n//     notebookPanel: NotebookPanel,\r\n//     index: number,\r\n//     code: string,\r\n//     deleteOnError: boolean,\r\n//   ): Promise<[number, string]> {\r\n//     let insertionIndex;\r\n//     try {\r\n//       insertionIndex = CellUtilities.insertInjectCode(\r\n//         notebookPanel.content,\r\n//         index,\r\n//         code,\r\n//       );\r\n//       const output: string = await CellUtilities.runCellAtIndex(\r\n//         notebookPanel,\r\n//         insertionIndex,\r\n//       );\r\n//       return [insertionIndex, output];\r\n//     } catch (error) {\r\n//       if (deleteOnError) {\r\n//         CellUtilities.deleteCellAtIndex(notebookPanel.content, insertionIndex);\r\n//       }\r\n//       throw error;\r\n//     }\r\n//   }\r\n\r\n//   /**\r\n//    * @deprecated Using NotebookUtilities.sendSimpleKernelRequest or NotebookUtilities.sendKernelRequest\r\n//    * will execute code directly in the kernel without the need to create a cell and delete it.\r\n//    * @description This will insert a cell with specified code at the top and run the code.\r\n//    * Once the code is run and output received, the cell is deleted, giving back cell's output.\r\n//    * If the code results in an error, the injected cell is still deleted but the promise will be rejected.\r\n//    * @param notebookPanel The notebook to run the code in\r\n//    * @param code The code to run in the cell\r\n//    * @param insertAtEnd True means the cell will be inserted at the bottom\r\n//    * @returns Promise<string> - A promise when the cell has been deleted, containing the execution result as a string\r\n//    */\r\n//   public static async runAndDelete(\r\n//     notebookPanel: NotebookPanel,\r\n//     code: string,\r\n//     insertAtEnd = true,\r\n//   ): Promise<string> {\r\n//     let idx: number = -1;\r\n//     if (insertAtEnd) {\r\n//       idx = notebookPanel.content.model.cells.length;\r\n//     }\r\n//     const [index, result]: [number, string] = await CellUtilities.insertAndRun(\r\n//       notebookPanel,\r\n//       idx,\r\n//       code,\r\n//       true,\r\n//     );\r\n//     CellUtilities.deleteCellAtIndex(notebookPanel.content, index);\r\n//     return result;\r\n//   }\r\n\r\n//   public static getStepName(notebook: NotebookPanel, index: number): string {\r\n//     const names: string[] = (\r\n//       this.getCellMetaData(notebook.content, index, 'tags') || []\r\n//     )\r\n//       .filter((t: string) => !t.startsWith('prev:'))\r\n//       .map((t: string) => t.replace('block:', ''));\r\n//     return names.length > 0 ? names[0] : '';\r\n//   }\r\n\r\n//   public static getCellByStepName(\r\n//     notebook: NotebookPanel,\r\n//     stepName: string,\r\n//   ): { cell: Cell; index: number } {\r\n//     for (let i = 0; i < notebook.model.cells.length; i++) {\r\n//       const name = this.getStepName(notebook, i);\r\n//       if (name === stepName) {\r\n//         return { cell: notebook.content.widgets[i], index: i };\r\n//       }\r\n//     }\r\n//   }\r\n// }\r\n\r\n/*\r\n * Copyright 2019-2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n// Dependencies\r\nimport { Cell, ICellModel, isCodeCellModel, CodeCellModel } from '@jupyterlab/cells';\r\nimport {\r\n  IError,\r\n  isError,\r\n  isExecuteResult,\r\n  isStream,\r\n} from '@jupyterlab/nbformat';\r\nimport { Notebook, NotebookActions, NotebookPanel } from '@jupyterlab/notebook';\r\n// Project Components\r\nimport NotebookUtilities from './NotebookUtils';\r\n\r\n/** Contains some utility functions for handling notebook cells */\r\nexport default class CellUtilities {\r\n  /**\r\n   * @description Reads the output at a cell within the specified notebook and returns it as a string\r\n   * @param notebook The notebook to get the cell from\r\n   * @param index The index of the cell to read\r\n   * @returns any - A string value of the cell output from the specified\r\n   * notebook and cell index, or null if there is no output.\r\n   * @throws An error message if there are issues in getting the output\r\n   */\r\n  public static readOutput(notebook: Notebook, index: number): any {\r\n    if (!notebook || !notebook.model) {\r\n      throw new Error('Notebook was null!');\r\n    }\r\n    if (index < 0 || index >= notebook.model.cells.length) {\r\n      throw new Error('Cell index out of range.');\r\n    }\r\n    const cell: ICellModel = notebook.model.cells.get(index);\r\n    if (!isCodeCellModel(cell)) {\r\n      throw new Error('cell is not a code cell.');\r\n    }\r\n    if (cell.outputs.length < 1) {\r\n      return null;\r\n    }\r\n    const out = cell.outputs.toJSON().pop();\r\n    if (isExecuteResult(out)) {\r\n      return out.data['text/plain'];\r\n    }\r\n    if (isStream(out)) {\r\n      return out.text;\r\n    }\r\n    if (isError(out)) {\r\n      const errData: IError = out;\r\n\r\n      throw new Error(\r\n        `Code resulted in errors. Error name: ${errData.ename}.\\nMessage: ${errData.evalue}.`,\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description Gets the value of a key from the specified cell's metadata.\r\n   * @param notebook The notebook that contains the cell.\r\n   * @param index The index of the cell.\r\n   * @param key The key of the value.\r\n   * @returns any - The value of the metadata. Returns null if the key doesn't exist.\r\n   */\r\n  public static getCellMetaData(\r\n    notebook: Notebook,\r\n    index: number,\r\n    key: string,\r\n  ): any {\r\n    if (!notebook || !notebook.model) {\r\n      throw new Error('Notebook was null!');\r\n    }\r\n    if (index < 0 || index >= notebook.model.cells.length) {\r\n      throw new Error('Cell index out of range.');\r\n    }\r\n    const cell: ICellModel = notebook.model.cells.get(index);\r\n    \r\n    // Safe metadata access\r\n    const metadata = cell.metadata as any;\r\n    if (metadata && typeof metadata.get === 'function' && metadata.has && metadata.has(key)) {\r\n      return metadata.get(key);\r\n    } else if (metadata && metadata[key] !== undefined) {\r\n      return metadata[key];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @description Sets the key value pair in the notebook's metadata.\r\n   * If the key doesn't exists it will add one.\r\n   * @param notebookPanel The notebook to set meta data in.\r\n   * @param index: The cell index to read metadata from\r\n   * @param key The key of the value to create.\r\n   * @param value The value to set.\r\n   * @param save Default is false. Whether the notebook should be saved after the meta data is set.\r\n   * Note: This function will not wait for the save to complete, it only sends a save request.\r\n   * @returns any - The old value for the key, or undefined if it did not exist.\r\n   */\r\n  public static setCellMetaData(\r\n    notebookPanel: NotebookPanel,\r\n    index: number,\r\n    key: string,\r\n    value: any,\r\n    save: boolean = false,\r\n  ): Promise<any> {\r\n    if (!notebookPanel || !notebookPanel.model) {\r\n      throw new Error('Notebook was null!');\r\n    }\r\n    if (index < 0 || index >= notebookPanel.model.cells.length) {\r\n      throw new Error('Cell index out of range.');\r\n    }\r\n    try {\r\n      const cell: ICellModel = notebookPanel.model.cells.get(index);\r\n      const metadata = cell.metadata as any;\r\n      let oldVal: any;\r\n      \r\n      // Safe metadata setting\r\n      if (metadata && typeof metadata.set === 'function') {\r\n        oldVal = metadata.set(key, value);\r\n      } else if (metadata) {\r\n        oldVal = metadata[key];\r\n        metadata[key] = value;\r\n      }\r\n      \r\n      if (save) {\r\n        return notebookPanel.context.save();\r\n      }\r\n      return Promise.resolve(oldVal);\r\n    } catch (error) {\r\n      return Promise.reject(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description Looks within the notebook for a cell containing the specified meta key\r\n   * @param notebook The notebook to search in\r\n   * @param key The metakey to search for\r\n   * @returns [number, ICellModel] - A pair of values, the first is the index of where the cell was found\r\n   * and the second is a reference to the cell itself. Returns [-1, null] if cell not found.\r\n   */\r\n  public static findCellWithMetaKey(\r\n    notebookPanel: NotebookPanel,\r\n    key: string,\r\n  ): [number, ICellModel | null] {\r\n    if (!notebookPanel || !notebookPanel.model) {\r\n      throw new Error('Notebook was null!');\r\n    }\r\n    const cells = notebookPanel.model.cells;\r\n    let cell: ICellModel;\r\n    for (let idx = 0; idx < cells.length; idx += 1) {\r\n      cell = cells.get(idx);\r\n      const metadata = cell.metadata as any;\r\n      \r\n      // Safe metadata checking\r\n      const hasKey = (metadata && typeof metadata.has === 'function') \r\n        ? metadata.has(key)\r\n        : metadata && metadata[key] !== undefined;\r\n        \r\n      if (hasKey) {\r\n        return [idx, cell];\r\n      }\r\n    }\r\n    return [-1, null];\r\n  }\r\n\r\n  /**\r\n   * @description Gets the cell object at specified index in the notebook.\r\n   * @param notebook The notebook to get the cell from\r\n   * @param index The index for the cell\r\n   * @returns Cell - The cell at specified index, or null if not found\r\n   */\r\n  public static getCell(notebook: Notebook, index: number): ICellModel | null {\r\n    if (notebook && notebook.model && index >= 0 && index < notebook.model.cells.length) {\r\n      return notebook.model.cells.get(index);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @description Runs code in the notebook cell found at the given index.\r\n   * @param command The command registry which can execute the run command.\r\n   * @param notebook The notebook panel to run the cell in\r\n   * @returns Promise<string> - A promise containing the output after the code has executed.\r\n   */\r\n  public static async runCellAtIndex(\r\n    notebookPanel: NotebookPanel,\r\n    index: number,\r\n  ): Promise<string> {\r\n    if (notebookPanel === null) {\r\n      throw new Error(\r\n        'Null or undefined parameter was given for command or notebook argument.',\r\n      );\r\n    }\r\n    const notebook = notebookPanel.content;\r\n    if (index < 0 || index >= notebook.widgets.length) {\r\n      throw new Error('The index was out of range.');\r\n    }\r\n    // Save the old index, then set the current active cell\r\n    const oldIndex = notebook.activeCellIndex;\r\n    notebook.activeCellIndex = index;\r\n    try {\r\n      await NotebookActions.run(notebook, notebookPanel.sessionContext);\r\n\r\n      // await command.execute(\"notebook:run-cell\");\r\n      const output = CellUtilities.readOutput(notebook, index);\r\n      notebook.activeCellIndex = oldIndex;\r\n      return output;\r\n    } finally {\r\n      notebook.activeCellIndex = oldIndex;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description Deletes the cell at specified index in the open notebook\r\n   * @param notebookPanel The notebook panel to delete the cell from\r\n   * @param index The index that the cell will be deleted at\r\n   * @returns void\r\n   */\r\n  public static deleteCellAtIndex(notebook: Notebook, index: number): void {\r\n    if (notebook === null || !notebook.model) {\r\n      throw new Error(\r\n        'Null or undefined parameter was given for notebook argument.',\r\n      );\r\n    }\r\n    if (index < 0 || index >= notebook.widgets.length) {\r\n      throw new Error('The index was out of range.');\r\n    }\r\n    // Save the old index, then set the current active cell\r\n    let oldIndex = notebook.activeCellIndex;\r\n    \r\n    // Use NotebookActions to delete the cell properly\r\n    notebook.activeCellIndex = index;\r\n    NotebookActions.deleteCells(notebook);\r\n    \r\n    // Adjust old index to account for deleted cell.\r\n    if (oldIndex === index) {\r\n      if (oldIndex > 0) {\r\n        oldIndex -= 1;\r\n      } else {\r\n        oldIndex = 0;\r\n      }\r\n    } else if (oldIndex > index) {\r\n      oldIndex -= 1;\r\n    }\r\n    \r\n    // Restore the active cell index\r\n    if (oldIndex < notebook.widgets.length) {\r\n      notebook.activeCellIndex = oldIndex;\r\n    } else if (notebook.widgets.length > 0) {\r\n      notebook.activeCellIndex = notebook.widgets.length - 1;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description Inserts a cell into the notebook, the new cell will be at the specified index.\r\n   * @param notebook The notebook panel to insert the cell in\r\n   * @param index The index of where the new cell will be inserted.\r\n   * If the cell index is less than or equal to 0, it will be added at the top.\r\n   * If the cell index is greater than the last index, it will be added at the bottom.\r\n   * @returns number - The index it where the cell was inserted\r\n   */\r\n  public static insertCellAtIndex(notebook: Notebook, index: number): number {\r\n    if (!notebook || !notebook.model) {\r\n      throw new Error('Notebook model is null');\r\n    }\r\n\r\n    // Create a new cell - use different approaches based on available APIs\r\n    let cell: ICellModel;\r\n    const model = notebook.model as any;\r\n    \r\n    if (model.contentFactory && typeof model.contentFactory.createCodeCell === 'function') {\r\n      // Old API\r\n      cell = model.contentFactory.createCodeCell({});\r\n    } else if (model.sharedModel && typeof model.sharedModel.createCell === 'function') {\r\n      // New API\r\n      cell = model.sharedModel.createCell('code');\r\n    } else {\r\n      // Fallback - try to create using notebook model methods\r\n      try {\r\n        cell = (notebook.model as any).createCell('code');\r\n      } catch (error) {\r\n        throw new Error('Unable to create new cell: ' + error.message);\r\n      }\r\n    }\r\n\r\n    // Save the old index, then set the current active cell\r\n    let oldIndex = notebook.activeCellIndex;\r\n\r\n    // Adjust old index for cells inserted above active cell.\r\n    if (oldIndex >= index) {\r\n      oldIndex += 1;\r\n    }\r\n\r\n    const cells = notebook.model.cells as any;\r\n    \r\n    if (index <= 0) {\r\n      // Insert at beginning\r\n      if (typeof cells.insert === 'function') {\r\n        cells.insert(0, cell);\r\n      } else if (typeof cells.insertAll === 'function') {\r\n        cells.insertAll(0, [cell]);\r\n      } else {\r\n        // Fallback\r\n        (cells as any).unshift(cell);\r\n      }\r\n      notebook.activeCellIndex = oldIndex;\r\n      return 0;\r\n    }\r\n    \r\n    if (index >= notebook.widgets.length) {\r\n      // Insert at end\r\n      const insertIndex = notebook.widgets.length;\r\n      if (typeof cells.insert === 'function') {\r\n        cells.insert(insertIndex, cell);\r\n      } else if (typeof cells.insertAll === 'function') {\r\n        cells.insertAll(insertIndex, [cell]);\r\n      } else {\r\n        // Fallback\r\n        (cells as any).push(cell);\r\n      }\r\n      notebook.activeCellIndex = oldIndex;\r\n      return insertIndex;\r\n    }\r\n    \r\n    // Insert at specific index\r\n    if (typeof cells.insert === 'function') {\r\n      cells.insert(index, cell);\r\n    } else if (typeof cells.insertAll === 'function') {\r\n      cells.insertAll(index, [cell]);\r\n    } else {\r\n      // Fallback\r\n      (cells as any).splice(index, 0, cell);\r\n    }\r\n    notebook.activeCellIndex = oldIndex;\r\n    return index;\r\n  }\r\n\r\n  /**\r\n   * @description Injects code into the specified cell of a notebook, does not run the code.\r\n   * Warning: the existing cell's code/text will be overwritten.\r\n   * @param notebook The notebook to select the cell from\r\n   * @param index The index of the cell to inject the code into\r\n   * @param code A string containing the code to inject into the CodeCell.\r\n   * @throws An error message if there are issues with injecting code at a particular cell\r\n   * @returns void\r\n   */\r\n  public static injectCodeAtIndex(\r\n    notebook: Notebook,\r\n    index: number,\r\n    code: string,\r\n  ): void {\r\n    if (notebook === null || !notebook.model) {\r\n      throw new Error('Notebook was null or undefined.');\r\n    }\r\n    if (index < 0 || index >= notebook.model.cells.length) {\r\n      throw new Error('Cell index out of range.');\r\n    }\r\n    const cell: ICellModel = notebook.model.cells.get(index);\r\n    if (isCodeCellModel(cell)) {\r\n      // Handle different cell value APIs\r\n      const codeCell = cell as CodeCellModel;\r\n      if (codeCell.sharedModel && typeof codeCell.sharedModel.setSource === 'function') {\r\n        // New API\r\n        codeCell.sharedModel.setSource(code);\r\n      } else if ((codeCell as any).value && (codeCell as any).value.text !== undefined) {\r\n        // Old API\r\n        (codeCell as any).value.text = code;\r\n      } else if (typeof (codeCell as any).setSource === 'function') {\r\n        // Alternative API\r\n        (codeCell as any).setSource(code);\r\n      } else {\r\n        // Fallback\r\n        (codeCell as any).source = code;\r\n      }\r\n      return;\r\n    }\r\n    throw new Error('Cell is not a code cell.');\r\n  }\r\n\r\n  /**\r\n   * @description This will insert a new cell at the specified index and the inject the specified code into it.\r\n   * @param notebook The notebook to insert the cell into\r\n   * @param index The index of where the new cell will be inserted.\r\n   * If the cell index is less than or equal to 0, it will be added at the top.\r\n   * If the cell index is greater than the last index, it will be added at the bottom.\r\n   * @param code The code to inject into the cell after it has been inserted\r\n   * @returns number - index of where the cell was inserted\r\n   */\r\n  public static insertInjectCode(\r\n    notebook: Notebook,\r\n    index: number,\r\n    code: string,\r\n  ): number {\r\n    const newIndex = CellUtilities.insertCellAtIndex(notebook, index);\r\n    CellUtilities.injectCodeAtIndex(notebook, newIndex, code);\r\n    return newIndex;\r\n  }\r\n\r\n  /**\r\n   * @description This will insert a new cell at the specified index, inject the specified code into it and the run the code.\r\n   * Note: The code will be run but the results (output or errors) will not be displayed in the cell. Best for void functions.\r\n   * @param notebookPanel The notebook to insert the cell into\r\n   * @param index The index of where the new cell will be inserted and run.\r\n   * If the cell index is less than or equal to 0, it will be added at the top.\r\n   * If the cell index is greater than the last index, it will be added at the bottom.\r\n   * @param code The code to inject into the cell after it has been inserted\r\n   * @param deleteOnError If set to true, the cell will be deleted if the code results in an error\r\n   * @returns Promise<[number, string]> - A promise for when the cell code has executed\r\n   * containing the cell's index and output result\r\n   */\r\n  public static async insertAndRun(\r\n    notebookPanel: NotebookPanel,\r\n    index: number,\r\n    code: string,\r\n    deleteOnError: boolean,\r\n  ): Promise<[number, string]> {\r\n    let insertionIndex: number | undefined;\r\n    try {\r\n      insertionIndex = CellUtilities.insertInjectCode(\r\n        notebookPanel.content,\r\n        index,\r\n        code,\r\n      );\r\n      const output: string = await NotebookUtilities.sendKernelRequestFromNotebook(\r\n        notebookPanel,\r\n        code,\r\n        { output: 'output' },\r\n        false,\r\n      );\r\n      return [insertionIndex, output];\r\n    } catch (error) {\r\n      if (deleteOnError && insertionIndex !== undefined) {\r\n        CellUtilities.deleteCellAtIndex(notebookPanel.content, insertionIndex);\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description This will insert a new cell at the specified index, inject the specified code into it and the run the code.\r\n   * Note: The code will be run and the result (output or errors) WILL BE DISPLAYED in the cell.\r\n   * @param notebookPanel The notebook to insert the cell into\r\n   * @param command The command registry which can execute the run command.\r\n   * @param index The index of where the new cell will be inserted and run.\r\n   * If the cell index is less than or equal to 0, it will be added at the top.\r\n   * If the cell index is greater than the last index, it will be added at the bottom.\r\n   * @param code The code to inject into the cell after it has been inserted\r\n   * @param deleteOnError If set to true, the cell will be deleted if the code results in an error\r\n   * @returns Promise<[number, string]> - A promise for when the cell code has executed\r\n   * containing the cell's index and output result\r\n   */\r\n  public static async insertRunShow(\r\n    notebookPanel: NotebookPanel,\r\n    index: number,\r\n    code: string,\r\n    deleteOnError: boolean,\r\n  ): Promise<[number, string]> {\r\n    let insertionIndex: number | undefined;\r\n    try {\r\n      insertionIndex = CellUtilities.insertInjectCode(\r\n        notebookPanel.content,\r\n        index,\r\n        code,\r\n      );\r\n      const output: string = await CellUtilities.runCellAtIndex(\r\n        notebookPanel,\r\n        insertionIndex,\r\n      );\r\n      return [insertionIndex, output];\r\n    } catch (error) {\r\n      if (deleteOnError && insertionIndex !== undefined) {\r\n        CellUtilities.deleteCellAtIndex(notebookPanel.content, insertionIndex);\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @deprecated Using NotebookUtilities.sendSimpleKernelRequest or NotebookUtilities.sendKernelRequest\r\n   * will execute code directly in the kernel without the need to create a cell and delete it.\r\n   * @description This will insert a cell with specified code at the top and run the code.\r\n   * Once the code is run and output received, the cell is deleted, giving back cell's output.\r\n   * If the code results in an error, the injected cell is still deleted but the promise will be rejected.\r\n   * @param notebookPanel The notebook to run the code in\r\n   * @param code The code to run in the cell\r\n   * @param insertAtEnd True means the cell will be inserted at the bottom\r\n   * @returns Promise<string> - A promise when the cell has been deleted, containing the execution result as a string\r\n   */\r\n  public static async runAndDelete(\r\n    notebookPanel: NotebookPanel,\r\n    code: string,\r\n    insertAtEnd = true,\r\n  ): Promise<string> {\r\n    let idx: number = -1;\r\n    if (insertAtEnd && notebookPanel.content.model) {\r\n      idx = notebookPanel.content.model.cells.length;\r\n    }\r\n    const [index, result]: [number, string] = await CellUtilities.insertAndRun(\r\n      notebookPanel,\r\n      idx,\r\n      code,\r\n      true,\r\n    );\r\n    CellUtilities.deleteCellAtIndex(notebookPanel.content, index);\r\n    return result;\r\n  }\r\n\r\n  public static getStepName(notebook: NotebookPanel, index: number): string {\r\n    const names: string[] = (\r\n      this.getCellMetaData(notebook.content, index, 'tags') || []\r\n    )\r\n      .filter((t: string) => !t.startsWith('prev:'))\r\n      .map((t: string) => t.replace('block:', ''));\r\n    return names.length > 0 ? names[0] : '';\r\n  }\r\n\r\n  public static getCellByStepName(\r\n    notebook: NotebookPanel,\r\n    stepName: string,\r\n  ): { cell: Cell; index: number } | undefined {\r\n    if (!notebook.model) {\r\n      return undefined;\r\n    }\r\n    for (let i = 0; i < notebook.model.cells.length; i++) {\r\n      const name = this.getStepName(notebook, i);\r\n      if (name === stepName) {\r\n        return { cell: notebook.content.widgets[i], index: i };\r\n      }\r\n    }\r\n    return undefined;\r\n  }\r\n}","/*\r\n * Copyright 2019-2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport { RESERVED_CELL_NAMES_CHIP_COLOR } from '../widgets/cell-metadata/CellMetadataEditor';\r\n\r\nconst colorPool = [\r\n  '#695181',\r\n  '#F25D5D',\r\n  '#7C74E4',\r\n  '#E8DD53',\r\n  '#EA9864',\r\n  '#888888',\r\n  '#50D3D4',\r\n  '#B85DAE',\r\n  '#489781',\r\n  '#50A9D4',\r\n];\r\n\r\nexport default class ColorUtils {\r\n  public static intToRGB(i: number) {\r\n    const c = (i & 0x00ffffff).toString(16).toUpperCase();\r\n    return '00000'.substring(0, 6 - c.length) + c;\r\n  }\r\n\r\n  public static hashString(str: string): number {\r\n    // Append a random string in in order to prevent generation for similar\r\n    // hashes from similar strings which will cause nearly identical colors in\r\n    // UI\r\n    str = str + 'pz8';\r\n    let hash = 0;\r\n    for (let i = 0; i < str.length; i++) {\r\n      const char = str.charCodeAt(i);\r\n      hash = char + (hash << 6) + (hash << 16) - hash;\r\n    }\r\n    return Math.abs(hash);\r\n  }\r\n\r\n  public static getColorIndex(value: string): number {\r\n    return this.hashString(value) % colorPool.length;\r\n  }\r\n\r\n  public static getColor(value: string): string {\r\n    if (!value) {\r\n      return '';\r\n    }\r\n\r\n    if (value in RESERVED_CELL_NAMES_CHIP_COLOR) {\r\n      return RESERVED_CELL_NAMES_CHIP_COLOR[value];\r\n    }\r\n    return this.intToRGB(this.hashString(value));\r\n  }\r\n}\r\n","/*\r\n * Copyright 2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport { Kernel } from '@jupyterlab/services';\r\nimport { NotebookPanel } from '@jupyterlab/notebook';\r\nimport {\r\n  _legacy_executeRpc,\r\n  _legacy_executeRpcAndShowRPCError,\r\n  RPCError,\r\n} from './RPCUtils';\r\nimport { wait } from './Utils';\r\nimport {\r\n  DefaultState,\r\n  IExperiment,\r\n  IKaleNotebookMetadata,\r\n  NEW_EXPERIMENT,\r\n} from '../widgets/LeftPanel';\r\nimport NotebookUtils from './NotebookUtils';\r\n// import {\r\n//   SELECT_VOLUME_SIZE_TYPES,\r\n//   SELECT_VOLUME_TYPES,\r\n// } from '../widgets/VolumesPanel';\r\nimport { IDocumentManager } from '@jupyterlab/docmanager';\r\nimport CellUtils from './CellUtils';\r\n\r\nenum RUN_CELL_STATUS {\r\n  OK = 'ok',\r\n  ERROR = 'error',\r\n}\r\n\r\ninterface ICompileNotebookArgs {\r\n  source_notebook_path: string;\r\n  notebook_metadata_overrides: IKaleNotebookMetadata;\r\n  debug: boolean;\r\n}\r\n\r\ninterface IUploadPipelineArgs {\r\n  pipeline_package_path: string;\r\n  pipeline_metadata: Object;\r\n}\r\n\r\ninterface IUploadPipelineResp {\r\n  already_exists: boolean;\r\n  pipeline: { pipelineid: string; versionid: string; name: string };\r\n}\r\n\r\ninterface IRunPipelineArgs {\r\n  pipeline_metadata: Object;\r\n  pipeline_package_path?: string;\r\n  pipeline_id?: string;\r\n  version_id?: string;\r\n}\r\n\r\n// interface IKatibRunArgs {\r\n//   pipeline_id: string;\r\n//   version_id: string;\r\n//   pipeline_metadata: any;\r\n//   output_path: string;\r\n// }\r\n\r\nexport default class Commands {\r\n  private readonly _notebook: NotebookPanel;\r\n  private readonly _kernel: Kernel.IKernelConnection;\r\n\r\n  constructor(notebook: NotebookPanel, kernel: Kernel.IKernelConnection) {\r\n    this._notebook = notebook;\r\n    this._kernel = kernel;\r\n  }\r\n\r\n  // snapshotNotebook = async () => {\r\n  //   return await _legacy_executeRpcAndShowRPCError(\r\n  //     this._notebook,\r\n  //     this._kernel,\r\n  //     'rok.snapshot_notebook',\r\n  //   );\r\n  // };\r\n\r\n  // getSnapshotProgress = async (task_id: string, ms?: number) => {\r\n  //   const task = await _legacy_executeRpcAndShowRPCError(\r\n  //     this._notebook,\r\n  //     this._kernel,\r\n  //     'rok.get_task',\r\n  //     {\r\n  //       task_id,\r\n  //     },\r\n  //   );\r\n  //   if (ms) {\r\n  //     await wait(ms);\r\n  //   }\r\n  //   return task;\r\n  // };\r\n\r\n  // runSnapshotProcedure = async (onUpdate: Function) => {\r\n  //   const showSnapshotProgress = true;\r\n  //   const snapshot = await this.snapshotNotebook();\r\n  //   const taskId = snapshot.task.id;\r\n  //   let task = await this.getSnapshotProgress(taskId);\r\n  //   onUpdate({ task, showSnapshotProgress });\r\n\r\n  //   while (!['success', 'error', 'canceled'].includes(task.status)) {\r\n  //     task = await this.getSnapshotProgress(taskId, 1000);\r\n  //     onUpdate({ task });\r\n  //   }\r\n\r\n  //   if (task.status === 'success') {\r\n  //     console.log('Snapshotting successful!');\r\n  //     return task;\r\n  //   } else if (task.status === 'error') {\r\n  //     console.error('Snapshotting failed');\r\n  //     console.error('Stopping the deployment...');\r\n  //   } else if (task.status === 'canceled') {\r\n  //     console.error('Snapshotting canceled');\r\n  //     console.error('Stopping the deployment...');\r\n  //   }\r\n\r\n  //   return null;\r\n  // };\r\n\r\n  // replaceClonedVolumes = async (\r\n  //   bucket: string,\r\n  //   obj: string,\r\n  //   version: string,\r\n  //   volumes: IVolumeMetadata[],\r\n  // ) => {\r\n  //   return await _legacy_executeRpcAndShowRPCError(\r\n  //     this._notebook,\r\n  //     this._kernel,\r\n  //     'rok.replace_cloned_volumes',\r\n  //     {\r\n  //       bucket,\r\n  //       obj,\r\n  //       version,\r\n  //       volumes,\r\n  //     },\r\n  //   );\r\n  // };\r\n\r\n  // getMountedVolumes = async (currentNotebookVolumes: IVolumeMetadata[]) => {\r\n  //   let notebookVolumes: IVolumeMetadata[] = await _legacy_executeRpcAndShowRPCError(\r\n  //     this._notebook,\r\n  //     this._kernel,\r\n  //     'nb.list_volumes',\r\n  //   );\r\n  //   let availableVolumeTypes = SELECT_VOLUME_TYPES.map(t => {\r\n  //     return t.value === 'snap' ? { ...t, invalid: false } : t;\r\n  //   });\r\n\r\n  //   if (notebookVolumes) {\r\n  //     notebookVolumes = notebookVolumes.map(volume => {\r\n  //       const size = volume.size ?? 0;\r\n  //       const sizeGroup = SELECT_VOLUME_SIZE_TYPES.filter(\r\n  //         s => size >= s.base,\r\n  //       )[0];\r\n  //       volume.size = Math.ceil(size / sizeGroup.base);\r\n  //       volume.size_type = sizeGroup.value;\r\n  //       volume.annotations = [];\r\n  //       return volume;\r\n  //     });\r\n  //     availableVolumeTypes = availableVolumeTypes.map(t => {\r\n  //       return t.value === 'clone' ? { ...t, invalid: false } : t;\r\n  //     });\r\n  //   } else {\r\n  //     notebookVolumes = currentNotebookVolumes;\r\n  //   }\r\n  //   return {\r\n  //     notebookVolumes,\r\n  //     selectVolumeTypes: availableVolumeTypes,\r\n  //   };\r\n  // };\r\n\r\n  unmarshalData = async (nbFileName: string) => {\r\n    const cmd: string =\r\n      `from kale.rpc.nb import unmarshal_data as __kale_rpc_unmarshal_data\\n` +\r\n      `locals().update(__kale_rpc_unmarshal_data(\"${nbFileName}\"))`;\r\n    console.log('Executing command: ' + cmd);\r\n    await NotebookUtils.sendKernelRequestFromNotebook(this._notebook, cmd, {});\r\n  };\r\n\r\n  getBaseImage = async () => {\r\n    let baseImage: string | null = null;\r\n    try {\r\n      baseImage = await _legacy_executeRpc(\r\n        this._notebook,\r\n        this._kernel,\r\n        'nb.get_base_image',\r\n      );\r\n    } catch (error) {\r\n      if (error instanceof RPCError) {\r\n        console.warn('Kale is not running in a Notebook Server', error.error);\r\n      } else {\r\n        throw error;\r\n      }\r\n    }\r\n    return baseImage;\r\n  };\r\n\r\n  getExperiments = async (\r\n    experiment: { id: string; name: string },\r\n    experimentName: string,\r\n  ) => {\r\n    let experimentsList: IExperiment[] = await _legacy_executeRpcAndShowRPCError(\r\n      this._notebook,\r\n      this._kernel,\r\n      'kfp.list_experiments',\r\n    );\r\n    if (experimentsList) {\r\n      experimentsList.push(NEW_EXPERIMENT);\r\n    } else {\r\n      experimentsList = [NEW_EXPERIMENT];\r\n    }\r\n\r\n    // Fix experiment metadata\r\n    let newExperiment: IExperiment | null = null;\r\n    let selectedExperiments: IExperiment[] = experimentsList.filter(\r\n      e =>\r\n        e.id === experiment.id ||\r\n        e.name === experiment.name ||\r\n        e.name === experimentName,\r\n    );\r\n    if (\r\n      selectedExperiments.length === 0 ||\r\n      selectedExperiments[0].id === NEW_EXPERIMENT.id\r\n    ) {\r\n      let name = experimentsList[0].name;\r\n      if (name === NEW_EXPERIMENT.name) {\r\n        name = experiment.name !== '' ? experiment.name : experimentName;\r\n      }\r\n      newExperiment = { ...experimentsList[0], name: name };\r\n    } else {\r\n      newExperiment = selectedExperiments[0];\r\n    }\r\n    return {\r\n      experiments: experimentsList,\r\n      experiment: newExperiment,\r\n      experiment_name: newExperiment.name,\r\n    };\r\n  };\r\n\r\n  pollRun(runPipeline: any, onUpdate: Function) {\r\n    _legacy_executeRpcAndShowRPCError(\r\n      this._notebook,\r\n      this._kernel,\r\n      'kfp.get_run',\r\n      {\r\n        run_id: runPipeline.id,\r\n      },\r\n    ).then(run => {\r\n      onUpdate({ runPipeline: run });\r\n      if (run && (run.status === 'Running' || run.status === null)) {\r\n        setTimeout(() => this.pollRun(run, onUpdate), 2000);\r\n      }\r\n    });\r\n  }\r\n\r\n  // pollKatib(katibExperiment: IKatibExperiment, onUpdate: Function) {\r\n  //   const getExperimentArgs: any = {\r\n  //     experiment: katibExperiment.name,\r\n  //     namespace: katibExperiment.namespace,\r\n  //   };\r\n  //   _legacy_executeRpcAndShowRPCError(\r\n  //     this._notebook,\r\n  //     this._kernel,\r\n  //     'katib.get_experiment',\r\n  //     getExperimentArgs,\r\n  //   ).then(katib => {\r\n  //     if (!katib) {\r\n  //       // could not get the experiment\r\n  //       onUpdate({ katib: { status: 'error' } });\r\n  //       return;\r\n  //     }\r\n  //     onUpdate({ katib });\r\n  //     if (katib && katib.status !== 'Succeeded' && katib.status !== 'Failed') {\r\n  //       setTimeout(() => this.pollKatib(katibExperiment, onUpdate), 5000);\r\n  //     }\r\n  //   });\r\n  // }\r\n\r\n  validateMetadata = async (\r\n    notebookPath: string,\r\n    metadata: IKaleNotebookMetadata,\r\n    onUpdate: Function,\r\n  ): Promise<boolean> => {\r\n    onUpdate({ showValidationProgress: true });\r\n    const validateNotebookArgs = {\r\n      source_notebook_path: notebookPath,\r\n      notebook_metadata_overrides: metadata,\r\n    };\r\n    const validateNotebook = await _legacy_executeRpcAndShowRPCError(\r\n      this._notebook,\r\n      this._kernel,\r\n      'nb.validate_notebook',\r\n      validateNotebookArgs,\r\n    );\r\n    if (!validateNotebook) {\r\n      onUpdate({ notebookValidation: false });\r\n      return false;\r\n    }\r\n    onUpdate({ notebookValidation: true });\r\n    return true;\r\n  };\r\n\r\n  /**\r\n   * Analyse the current metadata and produce some warning to be shown\r\n   * under the compilation task\r\n   * @param metadata Notebook metadata\r\n   */\r\n  getCompileWarnings = (metadata: IKaleNotebookMetadata) => {\r\n    let warningContent = [];\r\n\r\n    // in case the notebook's docker base image is different than the default\r\n    // one (e.g. the one detected in the Notebook Server), alert the user\r\n    if (\r\n      DefaultState.metadata.docker_image !== '' &&\r\n      metadata.docker_image !== DefaultState.metadata.docker_image\r\n    ) {\r\n      warningContent.push(\r\n        'The image you used to create the notebook server is different ' +\r\n          'from the image you have selected for your pipeline.',\r\n        '',\r\n        'Your Kubeflow pipeline will use the following image: <pre><b>' +\r\n          metadata.docker_image +\r\n          '</b></pre>',\r\n        'You created the notebook server using the following image: <pre><b>' +\r\n          DefaultState.metadata.docker_image +\r\n          '</b></pre>',\r\n        '',\r\n        \"To use this notebook server's image as base image\" +\r\n          ' for the pipeline steps, delete the existing docker image' +\r\n          ' from the Advanced Settings section.',\r\n      );\r\n    }\r\n    return warningContent;\r\n  };\r\n\r\n  // todo: docManager needs to be passed to deploysProgress during init\r\n  // todo: autosnapshot will become part of metadata\r\n  // todo: deployDebugMessage will be removed (the \"Debug\" toggle is of no use\r\n  //  anymore\r\n  compilePipeline = async (\r\n    notebookPath: string,\r\n    metadata: IKaleNotebookMetadata,\r\n    docManager: IDocumentManager,\r\n    deployDebugMessage: boolean,\r\n    onUpdate: Function,\r\n  ) => {\r\n    // after parsing and validating the metadata, show warnings (if necessary)\r\n    const compileWarnings = this.getCompileWarnings(metadata);\r\n    onUpdate({ showCompileProgress: true, docManager: docManager });\r\n    if (compileWarnings.length) {\r\n      onUpdate({ compileWarnings });\r\n    }\r\n    const compileNotebookArgs: ICompileNotebookArgs = {\r\n      source_notebook_path: notebookPath,\r\n      notebook_metadata_overrides: metadata,\r\n      debug: deployDebugMessage,\r\n    };\r\n    const compileNotebook = await _legacy_executeRpcAndShowRPCError(\r\n      this._notebook,\r\n      this._kernel,\r\n      'nb.compile_notebook',\r\n      compileNotebookArgs,\r\n    );\r\n    if (!compileNotebook) {\r\n      onUpdate({ compiledPath: 'error' });\r\n      await NotebookUtils.showMessage('Operation Failed', [\r\n        'Could not compile pipeline.',\r\n      ]);\r\n    } else {\r\n      // Pass to the deploy progress the path to the generated py script:\r\n      // compileNotebook is the name of the tar package, that generated in the\r\n      // workdir. Instead, the python script has a slightly different name and\r\n      // is generated in the same directory where the notebook lives.\r\n      onUpdate({\r\n        compiledPath: compileNotebook.pipeline_package_path.replace(\r\n          'pipeline.yaml',\r\n          'kale.py',\r\n        ),\r\n      });\r\n    }\r\n    return compileNotebook;\r\n  };\r\n\r\n  uploadPipeline = async (\r\n    compiledPackagePath: string,\r\n    compiledPipelineMetadata: IKaleNotebookMetadata,\r\n    onUpdate: Function,\r\n  ): Promise<IUploadPipelineResp> => {\r\n    onUpdate({ showUploadProgress: true });\r\n    const uploadPipelineArgs: IUploadPipelineArgs = {\r\n      pipeline_package_path: compiledPackagePath,\r\n      pipeline_metadata: compiledPipelineMetadata,\r\n    };\r\n    let uploadPipeline: IUploadPipelineResp = await _legacy_executeRpcAndShowRPCError(\r\n      this._notebook,\r\n      this._kernel,\r\n      'kfp.upload_pipeline',\r\n      uploadPipelineArgs,\r\n    );\r\n    let result = true;\r\n    if (!uploadPipeline) {\r\n      onUpdate({ showUploadProgress: false, pipeline: false });\r\n      return uploadPipeline;\r\n    }\r\n    if (uploadPipeline && result) {\r\n      onUpdate({ pipeline: uploadPipeline });\r\n    }\r\n    return uploadPipeline;\r\n  };\r\n\r\n  // runKatib = async (\r\n  //   notebookPath: string,\r\n  //   metadata: IKaleNotebookMetadata,\r\n  //   pipelineId: string,\r\n  //   versionId: string,\r\n  //   onUpdate: Function,\r\n  // ): Promise<IKatibExperiment> => {\r\n  //   onUpdate({ showKatibKFPExperiment: true });\r\n  //   // create a new experiment, using the base name of the currently\r\n  //   // selected one\r\n  //   const newExpName: string =\r\n  //     metadata.experiment.name +\r\n  //     '-' +\r\n  //     Math.random()\r\n  //       .toString(36)\r\n  //       .slice(2, 7);\r\n\r\n  //   // create new KFP experiment\r\n  //   let kfpExperiment: { id: string; name: string };\r\n  //   try {\r\n  //     kfpExperiment = await _legacy_executeRpc(\r\n  //       this._notebook,\r\n  //       this._kernel,\r\n  //       'kfp.create_experiment',\r\n  //       {\r\n  //         experiment_name: newExpName,\r\n  //       },\r\n  //     );\r\n  //     onUpdate({ katibKFPExperiment: kfpExperiment });\r\n  //   } catch (error) {\r\n  //     onUpdate({\r\n  //       showKatibProgress: false,\r\n  //       katibKFPExperiment: { id: 'error', name: 'error' },\r\n  //     });\r\n  //     throw error;\r\n  //   }\r\n\r\n  //   onUpdate({ showKatibProgress: true });\r\n  //   const runKatibArgs: IKatibRunArgs = {\r\n  //     pipeline_id: pipelineId,\r\n  //     version_id: versionId,\r\n  //     pipeline_metadata: {\r\n  //       ...metadata,\r\n  //       experiment_name: kfpExperiment.name,\r\n  //     },\r\n  //     output_path: notebookPath.substring(0, notebookPath.lastIndexOf('/')),\r\n  //   };\r\n  //   let katibExperiment: IKatibExperiment | null = null;\r\n  //   try {\r\n  //     katibExperiment = await _legacy_executeRpc(\r\n  //       this._notebook,\r\n  //       this._kernel,\r\n  //       'katib.create_katib_experiment',\r\n  //       runKatibArgs,\r\n  //     );\r\n  //   } catch (error) {\r\n  //     onUpdate({ katib: { status: 'error' } });\r\n  //     throw error;\r\n  //   }\r\n  //   return katibExperiment;\r\n  // };\r\n\r\n  runPipeline = async (\r\n    pipelineId: string,\r\n    versionId: string,\r\n    compiledPipelineMetadata: IKaleNotebookMetadata,\r\n    pipelinePackagePath: string,\r\n    onUpdate: Function,\r\n  ) => {\r\n    onUpdate({ showRunProgress: true });\r\n    const runPipelineArgs: IRunPipelineArgs = {\r\n      pipeline_metadata: compiledPipelineMetadata,\r\n      pipeline_id: pipelineId,\r\n      version_id: versionId,\r\n      pipeline_package_path: pipelinePackagePath,\r\n    };\r\n    const runPipeline = await _legacy_executeRpcAndShowRPCError(\r\n      this._notebook,\r\n      this._kernel,\r\n      'kfp.run_pipeline',\r\n      runPipelineArgs,\r\n    );\r\n    if (runPipeline) {\r\n      onUpdate({ runPipeline });\r\n    } else {\r\n      onUpdate({ showRunProgress: false, runPipeline: false });\r\n    }\r\n    return runPipeline;\r\n  };\r\n\r\n  resumeStateIfExploreNotebook = async (notebookPath: string) => {\r\n    const exploration = await _legacy_executeRpcAndShowRPCError(\r\n      this._notebook,\r\n      this._kernel,\r\n      'nb.explore_notebook',\r\n      { source_notebook_path: notebookPath },\r\n    );\r\n\r\n    if (!exploration || !exploration.is_exploration) {\r\n      return;\r\n    }\r\n\r\n    NotebookUtils.clearCellOutputs(this._notebook);\r\n    let title = 'Notebook Exploration';\r\n    let message: string[] = [];\r\n    let runCellResponse = await NotebookUtils.runGlobalCells(this._notebook);\r\n    if (runCellResponse.status === RUN_CELL_STATUS.OK) {\r\n      // unmarshalData runs in the same kernel as the .ipynb, so it requires the\r\n      // filename\r\n      await this.unmarshalData(notebookPath.split('/').pop() || '');\r\n      const cell = CellUtils.getCellByStepName(\r\n        this._notebook,\r\n        exploration.step_name,\r\n      );\r\n      message = [\r\n        `Resuming notebook ${\r\n          exploration.final_snapshot ? 'after' : 'before'\r\n        } step: \"${exploration.step_name}\"`,\r\n      ];\r\n      if (cell) {\r\n        NotebookUtils.selectAndScrollToCell(this._notebook, cell);\r\n      } else {\r\n        message.push(`ERROR: Could not retrieve step's position.`);\r\n      }\r\n    } else {\r\n      message = [\r\n        `Executing \"${runCellResponse.cellType}\" cell failed.\\n` +\r\n          `Resuming notebook at cell index ${runCellResponse.cellIndex}.`,\r\n        `Error name: ${runCellResponse.ename}`,\r\n        `Error value: ${runCellResponse.evalue}`,\r\n      ];\r\n    }\r\n    await NotebookUtils.showMessage(title, message);\r\n    await _legacy_executeRpcAndShowRPCError(\r\n      this._notebook,\r\n      this._kernel,\r\n      'nb.remove_marshal_dir',\r\n      {\r\n        source_notebook_path: notebookPath,\r\n      },\r\n    );\r\n  };\r\n\r\n  findPodDefaultLabelsOnServer = async (): Promise<{\r\n    [key: string]: string;\r\n  }> => {\r\n    let labels: {\r\n      [key: string]: string;\r\n    } = {};\r\n    try {\r\n      return await _legacy_executeRpc(\r\n        this._notebook,\r\n        this._kernel,\r\n        'nb.find_poddefault_labels_on_server',\r\n      );\r\n    } catch (error) {\r\n      console.error('Failed to retrieve PodDefaults applied on server', error);\r\n      return labels;\r\n    }\r\n  };\r\n\r\n  getNamespace = async (): Promise<string> => {\r\n    try {\r\n      return await _legacy_executeRpc(\r\n        this._notebook,\r\n        this._kernel,\r\n        'nb.get_namespace',\r\n      );\r\n    } catch (error) {\r\n      console.error(\"Failed to retrieve notebook's namespace\");\r\n      return '';\r\n    }\r\n  };\r\n}\r\n","// /*\r\n//  * Copyright 2019-2020 The Kale Authors\r\n//  *\r\n//  * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n//  * you may not use this file except in compliance with the License.\r\n//  * You may obtain a copy of the License at\r\n//  *\r\n//  *      http://www.apache.org/licenses/LICENSE-2.0\r\n//  *\r\n//  * Unless required by applicable law or agreed to in writing, software\r\n//  * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n//  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n//  * See the License for the specific language governing permissions and\r\n//  * limitations under the License.\r\n//  */\r\n\r\n// import { Dialog, showDialog } from '@jupyterlab/apputils';\r\n// import { NotebookPanel } from '@jupyterlab/notebook';\r\n// import {\r\n//   KernelMessage,\r\n//   Kernel,\r\n//   KernelManager,\r\n//   KernelSpecAPI,\r\n// } from '@jupyterlab/services';\r\n// import { CommandRegistry } from '@lumino/commands';\r\n// // @ts-ignore\r\n// import SanitizedHTML from 'react-sanitized-html';\r\n// import * as React from 'react';\r\n// import { ReactElement } from 'react';\r\n// import {\r\n//   Cell,\r\n//   CodeCell,\r\n//   CodeCellModel,\r\n//   isCodeCellModel,\r\n// } from '@jupyterlab/cells';\r\n// import { RESERVED_CELL_NAMES } from '../widgets/cell-metadata/CellMetadataEditor';\r\n// import CellUtilities from './CellUtils';\r\n\r\n// interface IRunCellResponse {\r\n//   status: string;\r\n//   cellType?: string;\r\n//   cellIndex?: number;\r\n//   ename?: string;\r\n//   evalue?: string;\r\n// }\r\n\r\n// /** Contains utility functions for manipulating/handling notebooks in the application. */\r\n// export default class NotebookUtilities {\r\n//   /**\r\n//    * Clear the outputs of all the notebook' cells\r\n//    * @param notebook NotebookPanel\r\n//    */\r\n//   public static clearCellOutputs(notebook: NotebookPanel): void {\r\n//     for (let i = 0; i < notebook.model.cells.length; i++) {\r\n//       if (!isCodeCellModel(notebook.model.cells.get(i))) {\r\n//         continue;\r\n//       }\r\n//       (notebook.model.cells.get(i) as CodeCellModel).executionCount = null;\r\n//       (notebook.model.cells.get(i) as CodeCellModel).outputs.clear();\r\n//     }\r\n//   }\r\n\r\n//   /**\r\n//    * Scroll the notebook to the specified cell, making it active\r\n//    * @param notebook NotebookPanel\r\n//    * @param cell The cell to be activated\r\n//    */\r\n//   public static selectAndScrollToCell(\r\n//     notebook: NotebookPanel,\r\n//     cell: { cell: Cell; index: number },\r\n//   ): void {\r\n//     notebook.content.select(cell.cell);\r\n//     notebook.content.activeCellIndex = cell.index;\r\n//     const cellPosition = (notebook.content.node.childNodes[\r\n//       cell.index\r\n//     ] as HTMLElement).getBoundingClientRect();\r\n//     notebook.content.scrollToPosition(cellPosition.top);\r\n//   }\r\n\r\n//   /**\r\n//    * Builds an HTML container by sanitizing a list of strings and converting\r\n//    * them in valid HTML\r\n//    * @param msg A list of string with HTML formatting\r\n//    * @returns a HTMLDivElement composed of a list of spans with formatted text\r\n//    */\r\n//   private static buildDialogBody(msg: string[]): ReactElement {\r\n//     return (\r\n//       <div className=\"dialog-body\">\r\n//         {msg.map((s: string, i: number) => {\r\n//           return (\r\n//             <React.Fragment key={`msg-${i}`}>\r\n//               <SanitizedHTML\r\n//                 allowedAttributes={{ a: ['href'] }}\r\n//                 allowedTags={['b', 'i', 'em', 'strong', 'a', 'pre']}\r\n//                 html={s}\r\n//               />\r\n//               <br />\r\n//             </React.Fragment>\r\n//           );\r\n//         })}\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   /**\r\n//    * Opens a pop-up dialog in JupyterLab to display a simple message.\r\n//    * @param title The title for the message popup\r\n//    * @param msg The message as an array of strings\r\n//    * @param buttonLabel The label to use for the button. Default is 'OK'\r\n//    * @param buttonClassName The classname to give to the 'ok' button\r\n//    * @returns Promise<void> - A promise once the message is closed.\r\n//    */\r\n//   public static async showMessage(\r\n//     title: string,\r\n//     msg: string[],\r\n//     buttonLabel: string = 'Close',\r\n//     buttonClassName: string = '',\r\n//   ): Promise<void> {\r\n//     const buttons: ReadonlyArray<Dialog.IButton> = [\r\n//       Dialog.okButton({ label: buttonLabel, className: buttonClassName }),\r\n//     ];\r\n//     const messageBody = this.buildDialogBody(msg);\r\n//     await showDialog({ title, buttons, body: messageBody });\r\n//   }\r\n\r\n//   /**\r\n//    * Opens a pop-up dialog in JupyterLab to display a yes/no dialog.\r\n//    * @param title The title for the message popup\r\n//    * @param msg The message\r\n//    * @param acceptLabel The label to use for the accept button. Default is 'YES'\r\n//    * @param rejectLabel The label to use for the reject button. Default is 'NO'\r\n//    * @param yesButtonClassName The classname to give to the accept button.\r\n//    * @param noButtonClassName The  classname to give to the cancel button.\r\n//    * @returns Promise<void> - A promise once the message is closed.\r\n//    */\r\n//   public static async showYesNoDialog(\r\n//     title: string,\r\n//     msg: string[],\r\n//     acceptLabel: string = 'YES',\r\n//     rejectLabel: string = 'NO',\r\n//     yesButtonClassName: string = '',\r\n//     noButtonClassName: string = '',\r\n//   ): Promise<boolean> {\r\n//     const buttons: ReadonlyArray<Dialog.IButton> = [\r\n//       Dialog.okButton({ label: acceptLabel, className: yesButtonClassName }),\r\n//       Dialog.cancelButton({ label: rejectLabel, className: noButtonClassName }),\r\n//     ];\r\n//     const messageBody = this.buildDialogBody(msg);\r\n//     const result = await showDialog({ title, buttons, body: messageBody });\r\n//     return result.button.label === acceptLabel;\r\n//   }\r\n\r\n//   /**\r\n//    * Opens a pop-up dialog in JupyterLab with various information and button\r\n//    * triggering reloading the page.\r\n//    * @param title The title for the message popup\r\n//    * @param msg The message\r\n//    * @param refreshButtonLabel The label to use for the refresh button. Default is 'Refresh'\r\n//    * @param refreshButtonClassName The  classname to give to the refresh button\r\n//    * @param dismissButtonLabel The label to use for the dismiss button. Default is 'Dismiss'\r\n//    * @param dismissButtonClassName The classname to give to the dismiss button\r\n//    * @returns Promise<void> - A promise once the message is closed.\r\n//    */\r\n//   public static async showRefreshDialog(\r\n//     title: string,\r\n//     msg: string[],\r\n//     refreshButtonLabel: string = 'Refresh',\r\n//     dismissButtonLabel: string = 'Dismiss',\r\n//     refreshButtonClassName: string = '',\r\n//     dismissButtonClassName: string = '',\r\n//   ): Promise<void> {\r\n//     (await this.showYesNoDialog(\r\n//       title,\r\n//       msg,\r\n//       refreshButtonLabel,\r\n//       dismissButtonLabel,\r\n//       refreshButtonClassName,\r\n//       dismissButtonClassName,\r\n//     )) && location.reload();\r\n//   }\r\n\r\n//   /**\r\n//    * @description Creates a new JupyterLab notebook for use by the application\r\n//    * @param command The command registry\r\n//    * @returns Promise<NotebookPanel> - A promise containing the notebook panel object that was created (if successful).\r\n//    */\r\n//   public static async createNewNotebook(\r\n//     command: CommandRegistry,\r\n//   ): Promise<NotebookPanel> {\r\n//     const notebook: NotebookPanel = await command.execute(\r\n//       'notebook:create-new',\r\n//       {\r\n//         activate: true,\r\n//         path: '',\r\n//         preferredLanguage: '',\r\n//       },\r\n//     );\r\n//     await notebook.sessionContext.ready;\r\n//     return notebook;\r\n//   }\r\n\r\n//   /**\r\n//    * Safely saves the Jupyter notebook document contents to disk\r\n//    * @param notebookPanel The notebook panel containing the notebook to save\r\n//    * @param withPrompt Ask the user before saving the notebook\r\n//    * @param waitSave Await the save notebook operation\r\n//    */\r\n//   public static async saveNotebook(\r\n//     notebookPanel: NotebookPanel,\r\n//     withPrompt: boolean = false,\r\n//     waitSave: boolean = false,\r\n//   ): Promise<boolean> {\r\n//     if (notebookPanel && notebookPanel.model.dirty) {\r\n//       await notebookPanel.context.ready;\r\n//       if (\r\n//         withPrompt &&\r\n//         !(await this.showYesNoDialog('Unsaved changes', [\r\n//           'Do you want to save the notebook?',\r\n//         ]))\r\n//       ) {\r\n//         return false;\r\n//       }\r\n//       waitSave\r\n//         ? await notebookPanel.context.save()\r\n//         : notebookPanel.context.save();\r\n//       return true;\r\n//     }\r\n//     return false;\r\n//   }\r\n\r\n//   /**\r\n//    * Convert the notebook contents to JSON\r\n//    * @param notebookPanel The notebook panel containing the notebook to serialize\r\n//    */\r\n//   public static notebookToJSON(notebookPanel: NotebookPanel): any {\r\n//     if (notebookPanel) {\r\n//       return notebookPanel.content.model.toJSON();\r\n//     }\r\n//     return null;\r\n//   }\r\n\r\n//   /**\r\n//    * @description Gets the value of a key from specified notebook's metadata.\r\n//    * @param notebookPanel The notebook to get meta data from.\r\n//    * @param key The key of the value.\r\n//    * @returns any -The value of the metadata. Returns null if the key doesn't exist.\r\n//    */\r\n//   public static getMetaData(notebookPanel: NotebookPanel, key: string): any {\r\n//     if (!notebookPanel) {\r\n//       throw new Error(\r\n//         'The notebook is null or undefined. No meta data available.',\r\n//       );\r\n//     }\r\n//     if (notebookPanel.model && notebookPanel.model.metadata.has(key)) {\r\n//       return notebookPanel.model.metadata.get(key);\r\n//     }\r\n//     return null;\r\n//   }\r\n\r\n//   /**\r\n//    * @description Sets the key value pair in the notebook's metadata.\r\n//    * If the key doesn't exists it will add one.\r\n//    * @param notebookPanel The notebook to set meta data in.\r\n//    * @param key The key of the value to create.\r\n//    * @param value The value to set.\r\n//    * @param save Default is false. Whether the notebook should be saved after the meta data is set.\r\n//    * Note: This function will not wait for the save to complete, it only sends a save request.\r\n//    * @returns The old value for the key, or undefined if it did not exist.\r\n//    */\r\n//   public static setMetaData(\r\n//     notebookPanel: NotebookPanel,\r\n//     key: string,\r\n//     value: any,\r\n//     save: boolean = false,\r\n//   ): any {\r\n//     if (!notebookPanel) {\r\n//       throw new Error(\r\n//         'The notebook is null or undefined. No meta data available.',\r\n//       );\r\n//     }\r\n//     const oldVal = notebookPanel.model.metadata.set(key, value);\r\n//     if (save) {\r\n//       this.saveNotebook(notebookPanel);\r\n//     }\r\n//     return oldVal;\r\n//   }\r\n\r\n//   public static async runGlobalCells(\r\n//     notebook: NotebookPanel,\r\n//   ): Promise<IRunCellResponse> {\r\n//     let cell = { cell: notebook.content.widgets[0], index: 0 };\r\n//     const reservedCellsToBeIgnored = ['skip', 'pipeline-metrics'];\r\n//     for (let i = 0; i < notebook.model.cells.length; i++) {\r\n//       if (!isCodeCellModel(notebook.model.cells.get(i))) {\r\n//         continue;\r\n//       }\r\n//       const blockName = CellUtilities.getStepName(notebook, i);\r\n//       // If a cell of that type is found, run that\r\n//       // and all consequent cells getting merged to that one\r\n//       if (\r\n//         !reservedCellsToBeIgnored.includes(blockName) &&\r\n//         RESERVED_CELL_NAMES.includes(blockName)\r\n//       ) {\r\n//         while (i < notebook.model.cells.length) {\r\n//           if (!isCodeCellModel(notebook.model.cells.get(i))) {\r\n//             i++;\r\n//             continue;\r\n//           }\r\n//           const cellName = CellUtilities.getStepName(notebook, i);\r\n//           if (cellName !== blockName && cellName !== '') {\r\n//             // Decrement by 1 to parse that cell during the next for loop\r\n//             i--;\r\n//             break;\r\n//           }\r\n//           cell = { cell: notebook.content.widgets[i], index: i };\r\n//           this.selectAndScrollToCell(notebook, cell);\r\n//           // this.setState({ activeCellIndex: cell.index, activeCell: cell.cell });\r\n//           const kernelMsg = (await CodeCell.execute(\r\n//             notebook.content.widgets[i] as CodeCell,\r\n//             notebook.sessionContext,\r\n//           )) as KernelMessage.IExecuteReplyMsg;\r\n//           if (kernelMsg.content && kernelMsg.content.status === 'error') {\r\n//             return {\r\n//               status: 'error',\r\n//               cellType: blockName,\r\n//               cellIndex: i,\r\n//               ename: kernelMsg.content.ename,\r\n//               evalue: kernelMsg.content.evalue,\r\n//             };\r\n//           }\r\n//           i++;\r\n//         }\r\n//       }\r\n//     }\r\n//     return { status: 'ok' };\r\n//   }\r\n\r\n//   /**\r\n//    * Get a new Kernel, not tied to a Notebook\r\n//    * Source code here: https://github.com/jupyterlab/jupyterlab/tree/473348d25bcb258ca2f0c127dd8fb5b193217135/packages/services\r\n//    */\r\n//   public static async createNewKernel() {\r\n//     const defaultKernelSpec = await KernelSpecAPI.getSpecs().then(\r\n//       (res: KernelSpecAPI.ISpecModels) => res.default,\r\n//     );\r\n//     return await new KernelManager().startNew({ name: defaultKernelSpec });\r\n//   }\r\n\r\n//   // TODO: We can use this context manager to execute commands inside a new kernel\r\n//   //  and be sure that it will be disposed of at the end.\r\n//   //  Another approach could be to create a kale_rpc Kernel, as a singleton,\r\n//   //  created at startup. The only (possible) drawback is that we can not name\r\n//   //  a kernel instance with a custom id/name, so when refreshing JupyterLab we would\r\n//   //  not recognize the kernel. A solution could be to have a kernel spec dedicated to kale rpc calls.\r\n//   public static async executeWithNewKernel(action: Function, args: any[] = []) {\r\n//     // create brand new kernel\r\n//     const _k = await this.createNewKernel();\r\n//     // execute action inside kernel\r\n//     const res = await action(_k, ...args);\r\n//     // close kernel\r\n//     _k.shutdown();\r\n//     // return result\r\n//     return res;\r\n//   }\r\n\r\n//   /**\r\n//    * @description This function runs code directly in the notebook's kernel and then evaluates the\r\n//    * result and returns it as a promise.\r\n//    * @param kernel The kernel to run the code in.\r\n//    * @param runCode The code to run in the kernel.\r\n//    * @param userExpressions The expressions used to capture the desired info from the executed code.\r\n//    * @param runSilent Default is false. If true, kernel will execute as quietly as possible.\r\n//    * store_history will be set to false, and no broadcast on IOPUB channel will be made.\r\n//    * @param storeHistory Default is false. If true, the code executed will be stored in the kernel's history\r\n//    * and the counter which is shown in the cells will be incremented to reflect code was run.\r\n//    * @param allowStdIn Default is false. If true, code running in kernel can prompt user for input using\r\n//    * an input_request message.\r\n//    * @param stopOnError Default is false. If True, does not abort the execution queue, if an exception is encountered.\r\n//    * This allows the queued execution of multiple execute_requests, even if they generate exceptions.\r\n//    * @returns Promise<any> - A promise containing the execution results of the code as an object with\r\n//    * keys based on the user_expressions.\r\n//    * @example\r\n//    * //The code\r\n//    * const code = \"a=123\\nb=456\\nsum=a+b\";\r\n//    * //The user expressions\r\n//    * const expr = {sum: \"sum\",prod: \"a*b\",args:\"[a,b,sum]\"};\r\n//    * //Async function call (returns a promise)\r\n//    * sendKernelRequest(notebookPanel, code, expr,false);\r\n//    * //Result when promise resolves:\r\n//    * {\r\n//    *  sum:{status:\"ok\",data:{\"text/plain\":\"579\"},metadata:{}},\r\n//    *  prod:{status:\"ok\",data:{\"text/plain\":\"56088\"},metadata:{}},\r\n//    *  args:{status:\"ok\",data:{\"text/plain\":\"[123, 456, 579]\"}}\r\n//    * }\r\n//    * @see For more information on JupyterLab messages:\r\n//    * https://jupyter-client.readthedocs.io/en/latest/messaging.html#execution-results\r\n//    */\r\n//   public static async sendKernelRequest(\r\n//     kernel: Kernel.IKernelConnection,\r\n//     runCode: string,\r\n//     userExpressions: any,\r\n//     runSilent: boolean = false,\r\n//     storeHistory: boolean = false,\r\n//     allowStdIn: boolean = false,\r\n//     stopOnError: boolean = false,\r\n//   ): Promise<any> {\r\n//     if (!kernel) {\r\n//       throw new Error('Kernel is null or undefined.');\r\n//     }\r\n\r\n//     const message: KernelMessage.IShellMessage = await kernel.requestExecute({\r\n//       allow_stdin: allowStdIn,\r\n//       code: runCode,\r\n//       silent: runSilent,\r\n//       stop_on_error: stopOnError,\r\n//       store_history: storeHistory,\r\n//       user_expressions: userExpressions,\r\n//     }).done;\r\n\r\n//     const content: any = message.content;\r\n\r\n//     if (content.status !== 'ok') {\r\n//       // If response is not 'ok', throw contents as error, log code\r\n//       const msg: string = `Code caused an error:\\n${runCode}`;\r\n//       console.error(msg);\r\n//       if (content.traceback) {\r\n//         content.traceback.forEach((line: string) =>\r\n//           console.log(\r\n//             line.replace(\r\n//               /[\\u001b\\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,\r\n//               '',\r\n//             ),\r\n//           ),\r\n//         );\r\n//       }\r\n//       throw content;\r\n//     }\r\n//     // Return user_expressions of the content\r\n//     return content.user_expressions;\r\n//   }\r\n\r\n//   /**\r\n//    * Same as method sendKernelRequest but passing\r\n//    * a NotebookPanel instead of a Kernel\r\n//    */\r\n//   public static async sendKernelRequestFromNotebook(\r\n//     notebookPanel: NotebookPanel,\r\n//     runCode: string,\r\n//     userExpressions: any,\r\n//     runSilent: boolean = false,\r\n//     storeHistory: boolean = false,\r\n//     allowStdIn: boolean = false,\r\n//     stopOnError: boolean = false,\r\n//   ) {\r\n//     if (!notebookPanel) {\r\n//       throw new Error('Notebook is null or undefined.');\r\n//     }\r\n\r\n//     // Wait for notebook panel to be ready\r\n//     await notebookPanel.sessionContext.ready;\r\n\r\n//     return this.sendKernelRequest(\r\n//       notebookPanel.sessionContext.session.kernel,\r\n//       runCode,\r\n//       userExpressions,\r\n//       runSilent,\r\n//       storeHistory,\r\n//       allowStdIn,\r\n//       stopOnError,\r\n//     );\r\n//   }\r\n// }\r\n\r\n/*\r\n * Copyright 2019-2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport { Dialog, showDialog } from '@jupyterlab/apputils';\r\nimport { NotebookPanel } from '@jupyterlab/notebook';\r\nimport {\r\n  KernelMessage,\r\n  Kernel,\r\n  KernelManager,\r\n  KernelSpecAPI,\r\n} from '@jupyterlab/services';\r\nimport { CommandRegistry } from '@lumino/commands';\r\n// @ts-ignore\r\nimport SanitizedHTML from 'react-sanitized-html';\r\nimport * as React from 'react';\r\nimport { ReactElement } from 'react';\r\nimport {\r\n  Cell,\r\n  CodeCell,\r\n  CodeCellModel,\r\n  isCodeCellModel,\r\n} from '@jupyterlab/cells';\r\nimport { RESERVED_CELL_NAMES } from '../widgets/cell-metadata/CellMetadataEditor';\r\nimport CellUtilities from './CellUtils';\r\n\r\ninterface IRunCellResponse {\r\n  status: string;\r\n  cellType?: string;\r\n  cellIndex?: number;\r\n  ename?: string;\r\n  evalue?: string;\r\n}\r\n\r\n/** Contains utility functions for manipulating/handling notebooks in the application. */\r\nexport default class NotebookUtilities {\r\n  /**\r\n   * Clear the outputs of all the notebook' cells\r\n   * @param notebook NotebookPanel\r\n   */\r\n  public static clearCellOutputs(notebook: NotebookPanel): void {\r\n    if (!notebook.model) {\r\n      throw new Error('Notebook model is null');\r\n    }\r\n\r\n    for (let i = 0; i < notebook.model.cells.length; i++) {\r\n      const cell = notebook.model.cells.get(i);\r\n      if (!isCodeCellModel(cell)) {\r\n        continue;\r\n      }\r\n      (cell as CodeCellModel).executionCount = null;\r\n      (cell as CodeCellModel).outputs.clear();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Scroll the notebook to the specified cell, making it active\r\n   * @param notebook NotebookPanel\r\n   * @param cell The cell to be activated\r\n   */\r\n  public static selectAndScrollToCell(\r\n    notebook: NotebookPanel,\r\n    cell: { cell: Cell; index: number },\r\n  ): void {\r\n    notebook.content.select(cell.cell as any);\r\n    notebook.content.activeCellIndex = cell.index;\r\n    \r\n    // Modern way to scroll to a cell - use scrollToCell if available\r\n    // if ('scrollToCell' in notebook.content) {\r\n    (notebook.content as any).scrollToCell(cell.index);\r\n    // } else {\r\n    //   // Fallback for older versions\r\n    //   const cellElement = notebook.content.node.children[cell.index] as HTMLElement;\r\n    //   if (cellElement) {\r\n    //     cellElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n    //   }\r\n    // }\r\n  }\r\n\r\n  /**\r\n   * Builds an HTML container by sanitizing a list of strings and converting\r\n   * them in valid HTML\r\n   * @param msg A list of string with HTML formatting\r\n   * @returns a HTMLDivElement composed of a list of spans with formatted text\r\n   */\r\n  private static buildDialogBody(msg: string[]): ReactElement {\r\n    return (\r\n      <div className=\"dialog-body\">\r\n        {msg.map((s: string, i: number) => {\r\n          return (\r\n            <React.Fragment key={`msg-${i}`}>\r\n              <SanitizedHTML\r\n                allowedAttributes={{ a: ['href'] }}\r\n                allowedTags={['b', 'i', 'em', 'strong', 'a', 'pre']}\r\n                html={s}\r\n              />\r\n              <br />\r\n            </React.Fragment>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Opens a pop-up dialog in JupyterLab to display a simple message.\r\n   * @param title The title for the message popup\r\n   * @param msg The message as an array of strings\r\n   * @param buttonLabel The label to use for the button. Default is 'OK'\r\n   * @param buttonClassName The classname to give to the 'ok' button\r\n   * @returns Promise<void> - A promise once the message is closed.\r\n   */\r\n  public static async showMessage(\r\n    title: string,\r\n    msg: string[],\r\n    buttonLabel: string = 'Close',\r\n    buttonClassName: string = '',\r\n  ): Promise<void> {\r\n    const buttons: ReadonlyArray<Dialog.IButton> = [\r\n      Dialog.okButton({ label: buttonLabel, className: buttonClassName }),\r\n    ];\r\n    const messageBody = this.buildDialogBody(msg);\r\n    await showDialog({ title, buttons, body: messageBody });\r\n  }\r\n\r\n  /**\r\n   * Opens a pop-up dialog in JupyterLab to display a yes/no dialog.\r\n   * @param title The title for the message popup\r\n   * @param msg The message\r\n   * @param acceptLabel The label to use for the accept button. Default is 'YES'\r\n   * @param rejectLabel The label to use for the reject button. Default is 'NO'\r\n   * @param yesButtonClassName The classname to give to the accept button.\r\n   * @param noButtonClassName The  classname to give to the cancel button.\r\n   * @returns Promise<void> - A promise once the message is closed.\r\n   */\r\n  public static async showYesNoDialog(\r\n    title: string,\r\n    msg: string[],\r\n    acceptLabel: string = 'YES',\r\n    rejectLabel: string = 'NO',\r\n    yesButtonClassName: string = '',\r\n    noButtonClassName: string = '',\r\n  ): Promise<boolean> {\r\n    const buttons: ReadonlyArray<Dialog.IButton> = [\r\n      Dialog.okButton({ label: acceptLabel, className: yesButtonClassName }),\r\n      Dialog.cancelButton({ label: rejectLabel, className: noButtonClassName }),\r\n    ];\r\n    const messageBody = this.buildDialogBody(msg);\r\n    const result = await showDialog({ title, buttons, body: messageBody });\r\n    return result.button.label === acceptLabel;\r\n  }\r\n\r\n  /**\r\n   * Opens a pop-up dialog in JupyterLab with various information and button\r\n   * triggering reloading the page.\r\n   * @param title The title for the message popup\r\n   * @param msg The message\r\n   * @param refreshButtonLabel The label to use for the refresh button. Default is 'Refresh'\r\n   * @param refreshButtonClassName The  classname to give to the refresh button\r\n   * @param dismissButtonLabel The label to use for the dismiss button. Default is 'Dismiss'\r\n   * @param dismissButtonClassName The classname to give to the dismiss button\r\n   * @returns Promise<void> - A promise once the message is closed.\r\n   */\r\n  public static async showRefreshDialog(\r\n    title: string,\r\n    msg: string[],\r\n    refreshButtonLabel: string = 'Refresh',\r\n    dismissButtonLabel: string = 'Dismiss',\r\n    refreshButtonClassName: string = '',\r\n    dismissButtonClassName: string = '',\r\n  ): Promise<void> {\r\n    (await this.showYesNoDialog(\r\n      title,\r\n      msg,\r\n      refreshButtonLabel,\r\n      dismissButtonLabel,\r\n      refreshButtonClassName,\r\n      dismissButtonClassName,\r\n    )) && location.reload();\r\n  }\r\n\r\n  /**\r\n   * @description Creates a new JupyterLab notebook for use by the application\r\n   * @param command The command registry\r\n   * @returns Promise<NotebookPanel> - A promise containing the notebook panel object that was created (if successful).\r\n   */\r\n  public static async createNewNotebook(\r\n    command: CommandRegistry,\r\n  ): Promise<NotebookPanel> {\r\n    const notebook: NotebookPanel = await command.execute(\r\n      'notebook:create-new',\r\n      {\r\n        activate: true,\r\n        path: '',\r\n        preferredLanguage: '',\r\n      },\r\n    );\r\n    await notebook.sessionContext.ready;\r\n    return notebook;\r\n  }\r\n\r\n  /**\r\n   * Safely saves the Jupyter notebook document contents to disk\r\n   * @param notebookPanel The notebook panel containing the notebook to save\r\n   * @param withPrompt Ask the user before saving the notebook\r\n   * @param waitSave Await the save notebook operation\r\n   */\r\n  public static async saveNotebook(\r\n    notebookPanel: NotebookPanel,\r\n    withPrompt: boolean = false,\r\n    waitSave: boolean = false,\r\n  ): Promise<boolean> {\r\n    if (!notebookPanel?.model) {\r\n      return false;\r\n    }\r\n\r\n    if (notebookPanel.model.dirty) {\r\n      await notebookPanel.context.ready;\r\n      if (\r\n        withPrompt &&\r\n        !(await this.showYesNoDialog('Unsaved changes', [\r\n          'Do you want to save the notebook?',\r\n        ]))\r\n      ) {\r\n        return false;\r\n      }\r\n      waitSave\r\n        ? await notebookPanel.context.save()\r\n        : notebookPanel.context.save();\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Convert the notebook contents to JSON\r\n   * @param notebookPanel The notebook panel containing the notebook to serialize\r\n   */\r\n  public static notebookToJSON(notebookPanel: NotebookPanel): any {\r\n    if (notebookPanel?.content?.model) {\r\n      return notebookPanel.content.model.toJSON();\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @description Gets the value of a key from specified notebook's metadata.\r\n   * @param notebookPanel The notebook to get meta data from.\r\n   * @param key The key of the value.\r\n   * @returns any -The value of the metadata. Returns null if the key doesn't exist.\r\n   */\r\n  public static getMetaData(notebookPanel: NotebookPanel, key: string): any {\r\n    if (!notebookPanel) {\r\n      throw new Error(\r\n        'The notebook is null or undefined. No meta data available.',\r\n      );\r\n    }\r\n    \r\n    if (notebookPanel.model?.metadata) {\r\n      const metadata = notebookPanel.model.metadata as any;\r\n      if (typeof metadata.has === 'function' && metadata.has(key)) {\r\n        return metadata.get(key);\r\n      }\r\n      // Fallback for different metadata implementations\r\n      return (metadata as any)[key] || null;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @description Sets the key value pair in the notebook's metadata.\r\n   * If the key doesn't exists it will add one.\r\n   * @param notebookPanel The notebook to set meta data in.\r\n   * @param key The key of the value to create.\r\n   * @param value The value to set.\r\n   * @param save Default is false. Whether the notebook should be saved after the meta data is set.\r\n   * Note: This function will not wait for the save to complete, it only sends a save request.\r\n   * @returns The old value for the key, or undefined if it did not exist.\r\n   */\r\n  public static setMetaData(\r\n    notebookPanel: NotebookPanel,\r\n    key: string,\r\n    value: any,\r\n    save: boolean = false,\r\n  ): any {\r\n    if (!notebookPanel) {\r\n      throw new Error(\r\n        'The notebook is null or undefined. No meta data available.',\r\n      );\r\n    }\r\n    \r\n    if (!notebookPanel.model?.metadata) {\r\n      throw new Error('Notebook metadata is not available.');\r\n    }\r\n\r\n    const metadata = notebookPanel.model.metadata as any;\r\n    let oldVal: any;\r\n\r\n    if (typeof metadata.set === 'function') {\r\n      oldVal = metadata.set(key, value);\r\n    } else {\r\n      // Fallback for different metadata implementations\r\n      oldVal = (metadata as any)[key];\r\n      (metadata as any)[key] = value;\r\n    }\r\n\r\n    if (save) {\r\n      this.saveNotebook(notebookPanel);\r\n    }\r\n    return oldVal;\r\n  }\r\n\r\n  public static async runGlobalCells(\r\n    notebook: NotebookPanel,\r\n  ): Promise<IRunCellResponse> {\r\n    if (!notebook.model) {\r\n      throw new Error('Notebook model is null');\r\n    }\r\n\r\n    let cell = { cell: notebook.content.widgets[0], index: 0 };\r\n    const reservedCellsToBeIgnored = ['skip', 'pipeline-metrics'];\r\n    \r\n    for (let i = 0; i < notebook.model.cells.length; i++) {\r\n      const cellModel = notebook.model.cells.get(i);\r\n      if (!isCodeCellModel(cellModel as any)) {\r\n        continue;\r\n      }\r\n      const blockName = CellUtilities.getStepName(notebook, i);\r\n      // If a cell of that type is found, run that\r\n      // and all consequent cells getting merged to that one\r\n      if (\r\n        !reservedCellsToBeIgnored.includes(blockName) &&\r\n        RESERVED_CELL_NAMES.includes(blockName)\r\n      ) {\r\n        while (i < notebook.model.cells.length) {\r\n          const currentCellModel = notebook.model.cells.get(i);\r\n          if (!isCodeCellModel(currentCellModel as any)) {\r\n            i++;\r\n            continue;\r\n          }\r\n          const cellName = CellUtilities.getStepName(notebook, i);\r\n          if (cellName !== blockName && cellName !== '') {\r\n            // Decrement by 1 to parse that cell during the next for loop\r\n            i--;\r\n            break;\r\n          }\r\n          cell = { cell: notebook.content.widgets[i] as any, index: i };\r\n          this.selectAndScrollToCell(notebook, cell);\r\n          \r\n          // Execute the cell with proper error handling\r\n          try {\r\n            const kernelMsg = (await CodeCell.execute(\r\n              notebook.content.widgets[i] as unknown as CodeCell,\r\n              notebook.sessionContext,\r\n            )) as KernelMessage.IExecuteReplyMsg;\r\n            \r\n            if (kernelMsg.content && kernelMsg.content.status === 'error') {\r\n              return {\r\n                status: 'error',\r\n                cellType: blockName,\r\n                cellIndex: i,\r\n                ename: kernelMsg.content.ename,\r\n                evalue: kernelMsg.content.evalue,\r\n              };\r\n            }\r\n          } catch (error) {\r\n            return {\r\n              status: 'error',\r\n              cellType: blockName,\r\n              cellIndex: i,\r\n              ename: 'ExecutionError',\r\n              evalue: String(error),\r\n            };\r\n          }\r\n          i++;\r\n        }\r\n      }\r\n    }\r\n    return { status: 'ok' };\r\n  }\r\n\r\n  /**\r\n   * Get a new Kernel, not tied to a Notebook\r\n   * Source code here: https://github.com/jupyterlab/jupyterlab/tree/473348d25bcb258ca2f0c127dd8fb5b193217135/packages/services\r\n   */\r\n  public static async createNewKernel() {\r\n    const specs = await KernelSpecAPI.getSpecs();\r\n    const defaultKernelSpec = specs.default;\r\n    return await new KernelManager().startNew({ name: defaultKernelSpec });\r\n  }\r\n\r\n  // TODO: We can use this context manager to execute commands inside a new kernel\r\n  //  and be sure that it will be disposed of at the end.\r\n  //  Another approach could be to create a kale_rpc Kernel, as a singleton,\r\n  //  created at startup. The only (possible) drawback is that we can not name\r\n  //  a kernel instance with a custom id/name, so when refreshing JupyterLab we would\r\n  //  not recognize the kernel. A solution could be to have a kernel spec dedicated to kale rpc calls.\r\n  public static async executeWithNewKernel(action: Function, args: any[] = []) {\r\n    // create brand new kernel\r\n    const _k = await this.createNewKernel();\r\n    // execute action inside kernel\r\n    const res = await action(_k, ...args);\r\n    // close kernel\r\n    _k.shutdown();\r\n    // return result\r\n    return res;\r\n  }\r\n\r\n  /**\r\n   * @description This function runs code directly in the notebook's kernel and then evaluates the\r\n   * result and returns it as a promise.\r\n   * @param kernel The kernel to run the code in.\r\n   * @param runCode The code to run in the kernel.\r\n   * @param userExpressions The expressions used to capture the desired info from the executed code.\r\n   * @param runSilent Default is false. If true, kernel will execute as quietly as possible.\r\n   * store_history will be set to false, and no broadcast on IOPUB channel will be made.\r\n   * @param storeHistory Default is false. If true, the code executed will be stored in the kernel's history\r\n   * and the counter which is shown in the cells will be incremented to reflect code was run.\r\n   * @param allowStdIn Default is false. If true, code running in kernel can prompt user for input using\r\n   * an input_request message.\r\n   * @param stopOnError Default is false. If True, does not abort the execution queue, if an exception is encountered.\r\n   * This allows the queued execution of multiple execute_requests, even if they generate exceptions.\r\n   * @returns Promise<any> - A promise containing the execution results of the code as an object with\r\n   * keys based on the user_expressions.\r\n   * @example\r\n   * //The code\r\n   * const code = \"a=123\\nb=456\\nsum=a+b\";\r\n   * //The user expressions\r\n   * const expr = {sum: \"sum\",prod: \"a*b\",args:\"[a,b,sum]\"};\r\n   * //Async function call (returns a promise)\r\n   * sendKernelRequest(notebookPanel, code, expr,false);\r\n   * //Result when promise resolves:\r\n   * {\r\n   *  sum:{status:\"ok\",data:{\"text/plain\":\"579\"},metadata:{}},\r\n   *  prod:{status:\"ok\",data:{\"text/plain\":\"56088\"},metadata:{}},\r\n   *  args:{status:\"ok\",data:{\"text/plain\":\"[123, 456, 579]\"}}\r\n   * }\r\n   * @see For more information on JupyterLab messages:\r\n   * https://jupyter-client.readthedocs.io/en/latest/messaging.html#execution-results\r\n   */\r\n  public static async sendKernelRequest(\r\n    kernel: Kernel.IKernelConnection,\r\n    runCode: string,\r\n    userExpressions: any,\r\n    runSilent: boolean = false,\r\n    storeHistory: boolean = false,\r\n    allowStdIn: boolean = false,\r\n    stopOnError: boolean = false,\r\n  ): Promise<any> {\r\n    if (!kernel) {\r\n      throw new Error('Kernel is null or undefined.');\r\n    }\r\n\r\n    const message: KernelMessage.IShellMessage = await kernel.requestExecute({\r\n      allow_stdin: allowStdIn,\r\n      code: runCode,\r\n      silent: runSilent,\r\n      stop_on_error: stopOnError,\r\n      store_history: storeHistory,\r\n      user_expressions: userExpressions,\r\n    }).done;\r\n\r\n    const content: any = message.content;\r\n\r\n    if (content.status !== 'ok') {\r\n      // If response is not 'ok', throw contents as error, log code\r\n      const msg: string = `Code caused an error:\\n${runCode}`;\r\n      console.error(msg);\r\n      if (content.traceback) {\r\n        content.traceback.forEach((line: string) =>\r\n          console.log(\r\n            line.replace(\r\n              /[\\u001b\\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,\r\n              '',\r\n            ),\r\n          ),\r\n        );\r\n      }\r\n      throw content;\r\n    }\r\n    // Return user_expressions of the content\r\n    return content.user_expressions;\r\n  }\r\n\r\n  /**\r\n   * Same as method sendKernelRequest but passing\r\n   * a NotebookPanel instead of a Kernel\r\n   */\r\n  public static async sendKernelRequestFromNotebook(\r\n    notebookPanel: NotebookPanel,\r\n    runCode: string,\r\n    userExpressions: any,\r\n    runSilent: boolean = false,\r\n    storeHistory: boolean = false,\r\n    allowStdIn: boolean = false,\r\n    stopOnError: boolean = false,\r\n  ) {\r\n    if (!notebookPanel) {\r\n      throw new Error('Notebook is null or undefined.');\r\n    }\r\n\r\n    // Wait for notebook panel to be ready\r\n    await notebookPanel.sessionContext.ready;\r\n\r\n    const kernel = notebookPanel.sessionContext.session?.kernel;\r\n    if (!kernel) {\r\n      throw new Error('Kernel is not available.');\r\n    }\r\n\r\n    return this.sendKernelRequest(\r\n      kernel,\r\n      runCode,\r\n      userExpressions,\r\n      runSilent,\r\n      storeHistory,\r\n      allowStdIn,\r\n      stopOnError,\r\n    );\r\n  }\r\n}","/*\r\n * Copyright 2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as React from 'react';\r\nimport { NotebookPanel } from '@jupyterlab/notebook';\r\nimport { Kernel } from '@jupyterlab/services';\r\nimport NotebookUtils from './NotebookUtils';\r\nimport { isError, IError, IOutput } from '@jupyterlab/nbformat';\r\nexport const globalUnhandledRejection = async (event: any) => {\r\n  // console.error(event.reason);\r\n  if (event.reason instanceof BaseError) {\r\n    console.error(event.reason.message, event.reason.error);\r\n    event.reason.showDialog().then();\r\n  } else {\r\n    showError(\r\n      'An unexpected error has occurred',\r\n      'JS',\r\n      `${event.reason.name}: ${event.reason.message}`,\r\n      'Please see the console for more information',\r\n      true,\r\n    ).then();\r\n  }\r\n};\r\n\r\nexport interface IRPCError {\r\n  rpc: string;\r\n  code: number;\r\n  err_message: string;\r\n  err_details: string;\r\n  err_cls: string;\r\n  trans_id?: number;\r\n}\r\n\r\nexport enum RPC_CALL_STATUS {\r\n  OK = 0,\r\n  ImportError = 1,\r\n  EncodingError = 2,\r\n  NotFound = 3,\r\n  InternalError = 4,\r\n  ServiceUnavailable = 5,\r\n  UnhandledError = 6,\r\n}\r\n\r\nconst getRpcCodeName = (code: number) => {\r\n  switch (code) {\r\n    case RPC_CALL_STATUS.OK:\r\n      return 'OK';\r\n    case RPC_CALL_STATUS.ImportError:\r\n      return 'ImportError';\r\n    case RPC_CALL_STATUS.EncodingError:\r\n      return 'EncodingError';\r\n    case RPC_CALL_STATUS.NotFound:\r\n      return 'NotFound';\r\n    case RPC_CALL_STATUS.InternalError:\r\n      return 'InternalError';\r\n    case RPC_CALL_STATUS.ServiceUnavailable:\r\n      return 'ServiceUnavailable';\r\n    default:\r\n      return 'UnhandledError';\r\n  }\r\n};\r\n\r\nexport const rokErrorTooltip = (rokError: IRPCError) => {\r\n  return (\r\n    <React.Fragment>\r\n      <div>\r\n        This feature requires Rok.{' '}\r\n        <a onClick={_ => showRpcError(rokError)}>More info...</a>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst serialize = (obj: any) => window.btoa(JSON.stringify(obj));\r\nconst deserialize = (raw_data: string) =>\r\n  window.atob(raw_data.substring(1, raw_data.length - 1));\r\n\r\n/**\r\n * Execute kale.rpc module functions\r\n * Example: func_result = await this.executeRpc(kernel | notebookPanel, \"rpc_submodule.func\", {arg1, arg2})\r\n *    where func_result is a JSON object\r\n * @param func Function name to be executed\r\n * @param kwargs Dictionary with arguments to be passed to the function\r\n * @param ctx Dictionary with the RPC context (e.g., nb_path)\r\n * @param env instance of Kernel or NotebookPanel\r\n */\r\nexport const executeRpc = async (\r\n  env: Kernel.IKernelConnection | NotebookPanel,\r\n  func: string,\r\n  kwargs: any = {},\r\n  ctx: any = {},\r\n) => {\r\n  const cmd: string =\r\n    `from kale.rpc.run import run as __kale_rpc_run\\n` +\r\n    `__kale_rpc_result = __kale_rpc_run(\"${func}\", '${serialize(\r\n      kwargs,\r\n    )}', '${serialize(ctx)}')`;\r\n  console.log('Executing command: ' + cmd);\r\n  const expressions = { result: '__kale_rpc_result' };\r\n  let output: any = null;\r\n  try {\r\n    output =\r\n      env instanceof NotebookPanel\r\n        ? await NotebookUtils.sendKernelRequestFromNotebook(\r\n            env,\r\n            cmd,\r\n            expressions,\r\n          )\r\n        : await NotebookUtils.sendKernelRequest(env, cmd, expressions);\r\n  } catch (e)  {\r\n    if (typeof e === 'object' && e !== null) {\r\n      if ('output_type' in e && isError(e as IOutput)) {\r\n        console.warn(e);\r\n        const error = {\r\n          rpc: `${func}`,\r\n          status: `${(e as IError).ename}: ${(e as IError).evalue}`,\r\n          output: (e as IError).traceback,\r\n        };\r\n        throw new KernelError(error);\r\n      }\r\n    }\r\n    // Handle other types of errors\r\n    console.error('An unexpected error occurred:', e);\r\n    throw new Error('An unexpected error occurred.');\r\n  }\r\n\r\n  // const argsAsStr = Object.keys(kwargs).map(key => `${key}=${kwargs[key]}`).join(', ');\r\n  let msg = [`RPC: ${func}`];\r\n  // Log output\r\n  if (output.result.status !== 'ok') {\r\n    const title = `Kernel failed during code execution`;\r\n    msg = msg.concat([\r\n      `Status: ${output.result.status}`,\r\n      `Output: ${JSON.stringify(output, null, 3)}`,\r\n    ]);\r\n    const error = {\r\n      rpc: `${func}`,\r\n      status: output.result.status,\r\n      output: output,\r\n    };\r\n    throw new KernelError(error);\r\n  }\r\n\r\n  // console.log(msg.concat([output]));\r\n  const raw_data = output.result.data['text/plain'];\r\n  const json_data = deserialize(raw_data);\r\n\r\n  // Validate response is a JSON\r\n  // If successful, run() method returns json.dumps() of any result\r\n  let parsedResult = undefined;\r\n  try {\r\n    parsedResult = JSON.parse(json_data);\r\n  } catch (error) {\r\n    const title = `Failed to parse response as JSON`;\r\n    msg = msg.concat([\r\n      `Error: ${JSON.stringify(error, null, 3)}`,\r\n      `Response data: ${json_data}`,\r\n    ]);\r\n    const jsonError = {\r\n      rpc: `${func}`,\r\n      err_message: 'Failed to parse response as JSON',\r\n      error: error,\r\n      jsonData: json_data,\r\n    };\r\n    throw new JSONParseError(jsonError);\r\n  }\r\n\r\n  if (parsedResult.code !== 0) {\r\n    const title = `An error has occured`;\r\n    msg = msg.concat([\r\n      `Code: ${parsedResult.code} (${getRpcCodeName(parsedResult.code)})`,\r\n      `Message: ${parsedResult.err_message}`,\r\n      `Details: ${parsedResult.err_details}`,\r\n    ]);\r\n    let error = {\r\n      rpc: `${func}`,\r\n      code: parsedResult.code,\r\n      err_message: parsedResult.err_message,\r\n      err_details: parsedResult.err_details,\r\n      err_cls: parsedResult.err_cls,\r\n      trans_id: parsedResult.trans_id,\r\n    };\r\n    throw new RPCError(error);\r\n  } else {\r\n    // console.log(msg, parsedResult);\r\n    return parsedResult.result;\r\n  }\r\n};\r\n\r\nexport const showError = async (\r\n  title: string,\r\n  type: string,\r\n  message: string,\r\n  details: string,\r\n  refresh: boolean = true,\r\n  method: string | null = null,\r\n  code: number | null = null,\r\n  trans_id: number | null = null,\r\n): Promise<void> => {\r\n  let msg: string[] = [\r\n    `Browser: ${navigator ? navigator.userAgent : 'other'}`,\r\n    `Type: ${type}`,\r\n  ];\r\n  if (method) {\r\n    msg.push(`Method: ${method}()`);\r\n  }\r\n  if (code) {\r\n    msg.push(`Code: ${code} (${getRpcCodeName(code)})`);\r\n  }\r\n  if (trans_id) {\r\n    msg.push(`Transaction ID: ${trans_id}`);\r\n  }\r\n  msg.push(`Message: ${message}`, `Details: ${details}`);\r\n\r\n  if (refresh) {\r\n    await NotebookUtils.showRefreshDialog(title, msg);\r\n  } else {\r\n    await NotebookUtils.showMessage(title, msg);\r\n  }\r\n};\r\n\r\nexport const showRpcError = async (\r\n  error: IRPCError,\r\n  refresh: boolean = false,\r\n): Promise<void> => {\r\n  await showError(\r\n    'An RPC Error has occurred',\r\n    'RPC',\r\n    error.err_message,\r\n    error.err_details,\r\n    refresh,\r\n    error.rpc,\r\n    error.code,\r\n    error.trans_id,\r\n  );\r\n};\r\n\r\n// todo: refactor these legacy functions\r\nexport const _legacy_executeRpc = async (\r\n  notebook: NotebookPanel,\r\n  kernel: Kernel.IKernelConnection,\r\n  func: string,\r\n  args: any = {},\r\n  nb_path: string | null= null,\r\n) => {\r\n  if (!nb_path && notebook) {\r\n    nb_path = notebook.context.path;\r\n  }\r\n  let retryRpc = true;\r\n  let result: any = null;\r\n  // Kerned aborts the execution if busy\r\n  // If that is the case, retry the RPC\r\n  while (retryRpc) {\r\n    try {\r\n      result = await executeRpc(kernel, func, args, { nb_path });\r\n      retryRpc = false;\r\n    } catch (error) {\r\n      if (error instanceof KernelError && error.error.status === 'aborted') {\r\n        continue;\r\n      }\r\n      // If kernel not busy, throw the error\r\n      throw error;\r\n    }\r\n  }\r\n  return result;\r\n};\r\n\r\n// Execute RPC and if an RPCError is caught, show dialog and return null\r\n// This is our default behavior prior to this commit. This may probably\r\n// change in the future, setting custom logic for each RPC call. For\r\n// example, see getBaseImage().\r\nexport const _legacy_executeRpcAndShowRPCError = async (\r\n  notebook: NotebookPanel,\r\n  kernel: Kernel.IKernelConnection,\r\n  func: string,\r\n  args: any = {},\r\n  nb_path: string | null= null,\r\n) => {\r\n  try {\r\n    const result = await _legacy_executeRpc(\r\n      notebook,\r\n      kernel,\r\n      func,\r\n      args,\r\n      nb_path,\r\n    );\r\n    return result;\r\n  } catch (error) {\r\n    if (error instanceof RPCError) {\r\n      await error.showDialog();\r\n      return null;\r\n    }\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport abstract class BaseError extends Error {\r\n  constructor(message: string, public error: any) {\r\n    super(message);\r\n    this.name = this.constructor.name;\r\n    if (typeof Error.captureStackTrace === 'function') {\r\n      Error.captureStackTrace(this, this.constructor);\r\n    } else {\r\n      this.stack = new Error(message).stack;\r\n    }\r\n    Object.setPrototypeOf(this, BaseError.prototype);\r\n  }\r\n\r\n  public abstract showDialog(refresh: boolean): Promise<void>;\r\n}\r\n\r\nexport class KernelError extends BaseError {\r\n  constructor(error: any) {\r\n    super('Kernel error', error);\r\n    Object.setPrototypeOf(this, KernelError.prototype);\r\n  }\r\n\r\n  public async showDialog(refresh: boolean = true): Promise<void> {\r\n    await showError(\r\n      'A Kernel Error has occurred',\r\n      'Kernel',\r\n      this.error.status,\r\n      JSON.stringify(this.error.output, null, 3),\r\n      refresh,\r\n      this.error.rpc,\r\n    );\r\n  }\r\n}\r\n\r\nexport class JSONParseError extends BaseError {\r\n  constructor(error: any) {\r\n    super('JSON Parse error', error);\r\n    Object.setPrototypeOf(this, JSONParseError.prototype);\r\n  }\r\n\r\n  public async showDialog(refresh: boolean = false): Promise<void> {\r\n    await showError(\r\n      'Failed to parse RPC response as JSON',\r\n      'JSONParse',\r\n      this.error.error.message,\r\n      this.error.json_data,\r\n      refresh,\r\n      this.error.rpc,\r\n    );\r\n  }\r\n}\r\n\r\nexport class RPCError extends BaseError {\r\n  constructor(error: IRPCError) {\r\n    super('RPC Error', error);\r\n    Object.setPrototypeOf(this, RPCError.prototype);\r\n  }\r\n\r\n  public async showDialog(refresh: boolean = false): Promise<void> {\r\n    await showRpcError(this.error, refresh);\r\n  }\r\n}\r\n","/*\r\n * Copyright 2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport { Notebook, NotebookPanel } from '@jupyterlab/notebook';\r\nimport CellUtils from './CellUtils';\r\nimport { RESERVED_CELL_NAMES } from '../widgets/cell-metadata/CellMetadataEditor';\r\nimport { ICellModel, CodeCellModel } from '@jupyterlab/cells';\r\n\r\ninterface IKaleCellTags {\r\n  blockName: string;\r\n  prevBlockNames: string[];\r\n  limits?: { [id: string]: string };\r\n}\r\n\r\n/** Contains utility functions for manipulating/handling Kale cell tags. */\r\nexport default class TagsUtils {\r\n  /**\r\n   * Get all the `block:<name>` tags in the notebook.\r\n   * @param notebook Notebook object\r\n   * @returns Array<str> - a list of the block names (i.e. the pipeline steps'\r\n   *  names)\r\n   */\r\n  public static getAllBlocks(notebook: Notebook): string[] {\r\n    if (!notebook.model) {\r\n      return [];\r\n    }\r\n    let blocks = new Set<string>();\r\n    // iterate through the notebook cells\r\n    for (const idx of Array(notebook.model.cells.length).keys()) {\r\n      // get the tags of the current cell\r\n      let mt = this.getKaleCellTags(notebook, idx);\r\n      if (mt && mt.blockName && mt.blockName !== '') {\r\n        blocks.add(mt.blockName);\r\n      }\r\n    }\r\n    return Array.from(blocks);\r\n  }\r\n\r\n  /**\r\n   * Given a notebook cell index, get the closest previous cell that has a Kale\r\n   * tag\r\n   * @param notebook The notebook object\r\n   * @param current The index of the cell to start the search from\r\n   * @returns string - Name of the `block` tag of the closest previous cell\r\n   */\r\n  public static getPreviousBlock(notebook: Notebook, current: number): string {\r\n    for (let i = current - 1; i >= 0; i--) {\r\n      let mt = this.getKaleCellTags(notebook, i);\r\n      if (\r\n        mt &&\r\n        mt.blockName &&\r\n        mt.blockName !== 'skip' &&\r\n        mt.blockName !== ''\r\n      ) {\r\n        return mt.blockName;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Parse a notebook cell's metadata and return all the Kale tags\r\n   * @param notebook Notebook object\r\n   * @param index The index of the notebook cell\r\n   * @returns IKaleCellTags: an object containing all the cell's Kale tags\r\n   */\r\n  public static getKaleCellTags(\r\n    notebook: Notebook,\r\n    index: number,\r\n  ): IKaleCellTags {\r\n    const tags: string[] = CellUtils.getCellMetaData(notebook, index, 'tags');\r\n    if (tags) {\r\n      let b_name = tags.map(v => {\r\n        if (RESERVED_CELL_NAMES.includes(v)) {\r\n          return v;\r\n        }\r\n        if (v.startsWith('step:')) {\r\n          return v.replace('step:', '');\r\n        }\r\n      });\r\n\r\n      let prevs = tags\r\n        .filter(v => {\r\n          return v.startsWith('prev:');\r\n        })\r\n        .map(v => {\r\n          return v.replace('prev:', '');\r\n        });\r\n\r\n      let limits: { [id: string]: string } = {};\r\n      tags\r\n        .filter(v => v.startsWith('limit:'))\r\n        .map(lim => {\r\n          const values = lim.split(':');\r\n          // get the limit key and value\r\n          limits[values[1]] = values[2];\r\n        });\r\n      return {\r\n        blockName: b_name[0],\r\n        prevBlockNames: prevs,\r\n        limits: limits,\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Set the provided Kale metadata into the specified notebook cell\r\n   * @param notebookPanel NotebookPanel object\r\n   * @param index index of the target cell\r\n   * @param metadata Kale metadata\r\n   * @param save True to save the notebook after the operation\r\n   */\r\n  public static setKaleCellTags(\r\n    notebookPanel: NotebookPanel,\r\n    index: number,\r\n    metadata: IKaleCellTags,\r\n    save: boolean,\r\n  ): Promise<any> {\r\n    // make the dict to save to tags\r\n    let nb = metadata.blockName;\r\n    // not a reserved name\r\n    if (!RESERVED_CELL_NAMES.includes(metadata.blockName)) {\r\n      nb = 'block:' + nb;\r\n    }\r\n    const stepDependencies = metadata.prevBlockNames || [];\r\n    const limits = metadata.limits || {};\r\n    const tags = [nb]\r\n      .concat(stepDependencies.map(v => 'prev:' + v))\r\n      .concat(\r\n        Object.keys(limits).map(lim => 'limit:' + lim + ':' + limits[lim]),\r\n      );\r\n\r\n    return CellUtils.setCellMetaData(notebookPanel, index, 'tags', tags, save);\r\n  }\r\n\r\n  /**\r\n   * Parse the entire notebook cells to change a block name. This happens when\r\n   * the block name of a cell is changed by the user, using Kale's inline tag\r\n   * editor. We need to parse the entire notebook because all the `prev` dependencies\r\n   * specified in the cells must be bound to the new name.\r\n   * @param notebookPanel NotebookPanel object\r\n   * @param oldBlockName previous block name\r\n   * @param newBlockName new block name\r\n   */\r\n  public static updateKaleCellsTags(\r\n    notebookPanel: NotebookPanel,\r\n    oldBlockName: string,\r\n    newBlockName: string,\r\n  ) {\r\n    let i: number;\r\n    const allPromises = [];\r\n    for (i = 0; i < notebookPanel.model.cells.length; i++) {\r\n      const tags: string[] = CellUtils.getCellMetaData(\r\n        notebookPanel.content,\r\n        i,\r\n        'tags',\r\n      );\r\n      // If there is a prev tag that points to the old name, update it with the\r\n      // new one.\r\n      let newTags: string[] = (tags || [])\r\n        .map(t => {\r\n          if (t === 'prev:' + oldBlockName) {\r\n            return RESERVED_CELL_NAMES.includes(newBlockName)\r\n              ? ''\r\n              : 'prev:' + newBlockName;\r\n          } else {\r\n            return t;\r\n          }\r\n        })\r\n        .filter(t => t !== '' && t !== 'prev:');\r\n      allPromises.push(\r\n        CellUtils.setCellMetaData(notebookPanel, i, 'tags', newTags, false),\r\n      );\r\n    }\r\n    Promise.all(allPromises).then(() => {\r\n      notebookPanel.context.save();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Clean up the Kale tags from a cell. After cleaning the cell, loop though\r\n   * the notebook to remove all occurrences of the deleted block name.\r\n   * @param notebook NotebookPanel object\r\n   * @param activeCellIndex The active cell index\r\n   * @param stepName The old name of the active cell to be cleaned.\r\n   */\r\n  public static resetCell(\r\n    notebook: NotebookPanel,\r\n    activeCellIndex: number,\r\n    stepName: string,\r\n  ) {\r\n    const value = '';\r\n    const previousBlocks: string[] = [];\r\n\r\n    const oldBlockName: string = stepName;\r\n    let cellMetadata = {\r\n      prevBlockNames: previousBlocks,\r\n      blockName: value,\r\n    };\r\n    TagsUtils.setKaleCellTags(\r\n      notebook,\r\n      activeCellIndex,\r\n      cellMetadata,\r\n      false,\r\n    ).then(oldValue => {\r\n      TagsUtils.updateKaleCellsTags(notebook, oldBlockName, value);\r\n    });\r\n  }\r\n\r\n  public static cellsToArray(notebook: NotebookPanel) {\r\n    const cells = notebook.model.cells;\r\n    const cellsArray = [];\r\n    for (let index = 0; index < cells.length; index += 1) {\r\n      const cell = cells.get(index);\r\n      cellsArray.push(cell);\r\n    }\r\n    return cellsArray;\r\n  }\r\n\r\n  public static removeOldDependencies(\r\n    notebook: NotebookPanel,\r\n    removedCell: ICellModel,\r\n  ) {\r\n    if (!(removedCell instanceof CodeCellModel)) {\r\n      return;\r\n    }\r\n    const metadata = removedCell.metadata as any;\r\n    let tagsValue;\r\n    if (metadata && typeof metadata.get === 'function') {\r\n      tagsValue = metadata.get('tags');\r\n    } else if (metadata && metadata.tags) {\r\n      tagsValue = metadata.tags;\r\n    } else {\r\n      return; // No tags found\r\n    }\r\n    if (!Array.isArray(tagsValue)) {\r\n      return;\r\n    }\r\n    const tags = tagsValue.filter((tag): tag is string => typeof tag === 'string');\r\n    if (!tags) {\r\n      return;\r\n    }\r\n    const blockName = tags\r\n      .filter(t => t.startsWith('step:'))\r\n      .map(t => t.replace('step:', ''))[0];\r\n    if (!blockName) {\r\n      return;\r\n    }\r\n    const removedDependency = `prev:${blockName}`;\r\n    this.cellsToArray(notebook)\r\n      .filter(cell => {\r\n        const cellTags = cell.metadata.get('tags');\r\n        return Array.isArray(cellTags) && cellTags.includes(removedDependency);\r\n      })\r\n      .forEach(cell => {\r\n        const cellTags = cell.metadata.get('tags');\r\n        if (Array.isArray(cellTags)) {\r\n          const newTags = cellTags.filter(e => e !== removedDependency);\r\n          cell.metadata.set('tags', newTags);\r\n        }\r\n      });\r\n    notebook.context.save();\r\n  }\r\n}\r\n","/*\r\n * Copyright 2019-2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n///<reference path=\"../node_modules/@types/node/index.d.ts\"/>\r\n\r\nimport {\r\n  JupyterFrontEnd,\r\n  JupyterFrontEndPlugin,\r\n  ILabShell,\r\n  ILayoutRestorer,\r\n} from '@jupyterlab/application';\r\n\r\nimport { INotebookTracker, NotebookPanel } from '@jupyterlab/notebook';\r\n\r\nimport { IDocumentManager } from '@jupyterlab/docmanager';\r\n\r\nimport { ReactWidget } from '@jupyterlab/apputils';\r\n\r\nimport { Token } from '@lumino/coreutils';\r\nimport { Widget } from '@lumino/widgets';\r\nimport * as React from 'react';\r\n\r\nimport '../style/index.css';\r\n\r\nimport { KubeflowKaleLeftPanel } from './widgets/LeftPanel';\r\nimport NotebookUtils from './lib/NotebookUtils';\r\nimport {\r\n  executeRpc,\r\n  globalUnhandledRejection,\r\n  BaseError,\r\n  IRPCError,\r\n  RPCError,\r\n  RPC_CALL_STATUS,\r\n} from './lib/RPCUtils';\r\nimport { Kernel } from '@jupyterlab/services';\r\nimport { PageConfig } from '@jupyterlab/coreutils';\r\n\r\n/* tslint:disable */\r\nexport const IKubeflowKale = new Token<IKubeflowKale>(\r\n  'kubeflow-kale:IKubeflowKale',\r\n);\r\n\r\nexport interface IKubeflowKale {\r\n  widget: Widget;\r\n}\r\n\r\nconst id = 'kubeflow-kale:deploymentPanel';\r\n/**\r\n * Adds a visual Kubeflow Pipelines Deployment tool to the sidebar.\r\n */\r\nexport default {\r\n  activate,\r\n  id,\r\n  requires: [ILabShell, ILayoutRestorer, INotebookTracker, IDocumentManager],\r\n  provides: IKubeflowKale,\r\n  autoStart: true,\r\n} as JupyterFrontEndPlugin<IKubeflowKale>;\r\n\r\nasync function activate(\r\n  lab: JupyterFrontEnd,\r\n  labShell: ILabShell,\r\n  restorer: ILayoutRestorer,\r\n  tracker: INotebookTracker,\r\n  docManager: IDocumentManager,\r\n): Promise<IKubeflowKale> {\r\n  let widget: ReactWidget | undefined;\r\n  const kernel: Kernel.IKernelConnection = await NotebookUtils.createNewKernel();\r\n  window.addEventListener('beforeunload', () => kernel.shutdown());\r\n  window.addEventListener('unhandledrejection', globalUnhandledRejection);\r\n\r\n  /**\r\n   * Detect if Kale is installed\r\n   */\r\n  async function getBackend(kernel: Kernel.IKernelConnection) {\r\n    try {\r\n      await NotebookUtils.sendKernelRequest(kernel, `import kale`, {});\r\n    } catch (error) {\r\n      console.error('Kale backend is not installed.');\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  // TODO: backend can become an Enum that indicates the type of\r\n  //  env we are in (like Local Laptop, MiniKF, GCP, UI without Kale, ...)\r\n  const backend = await getBackend(kernel);\r\n  // let rokError: IRPCError = null;\r\n  if (backend) {\r\n    try {\r\n      await executeRpc(kernel, 'log.setup_logging');\r\n    } catch (error) {\r\n      globalUnhandledRejection({ reason: error });\r\n      throw error;\r\n    }\r\n  }\r\n  //   try {\r\n  //     await executeRpc(kernel, 'rok.check_rok_availability');\r\n  //   } catch (error) {\r\n  //     const unexpectedErrorCodes = [\r\n  //       RPC_CALL_STATUS.EncodingError,\r\n  //       RPC_CALL_STATUS.ImportError,\r\n  //       RPC_CALL_STATUS.UnhandledError,\r\n  //     ];\r\n  //     if (\r\n  //       error instanceof RPCError &&\r\n  //       !unexpectedErrorCodes.includes(error.error.code)\r\n  //     ) {\r\n  //       rokError = error.error;\r\n  //       console.warn('Rok is not available', rokError);\r\n  //     } else {\r\n  //       globalUnhandledRejection({ reason: error });\r\n  //       throw error;\r\n  //     }\r\n  //   }\r\n  // } else {\r\n  //   rokError = {\r\n  //     rpc: 'rok.check_rok_availability',\r\n  //     code: RPC_CALL_STATUS.ImportError,\r\n  //     err_message: 'Rok is not available',\r\n  //     err_details:\r\n  //       'To use this Rok feature you first need Kale running' +\r\n  //       ' in the backend.',\r\n  //     err_cls: 'importError',\r\n  //   };\r\n  //   console.warn('Rok is not available', rokError);\r\n\r\n  async function loadPanel() {\r\n    let reveal_widget = undefined;\r\n    if (backend) {\r\n      // Check if KALE_NOTEBOOK_PATH env variable exists and if so load\r\n      // that Notebook\r\n      const path = await executeRpc(kernel, 'nb.resume_notebook_path', {\r\n        server_root: PageConfig.getOption('serverRoot'),\r\n      });\r\n      if (path) {\r\n        console.log('Resuming notebook ' + path);\r\n        // open the notebook panel\r\n        reveal_widget = docManager.openOrReveal(path);\r\n      }\r\n    }\r\n\r\n    // add widget\r\n    if (widget && !widget.isAttached) {\r\n      labShell.add(widget, 'left');\r\n    }\r\n    // open widget if resuming from a notebook\r\n    if (reveal_widget && widget) {\r\n      // open kale panel\r\n      widget.activate();\r\n    }\r\n  }\r\n\r\n  // Creates the left side bar widget once the app has fully started\r\n  lab.started.then(() => {\r\n    // show list of commands in the commandRegistry\r\n    // console.log(lab.commands.listCommands());\r\n    widget = ReactWidget.create(\r\n      <KubeflowKaleLeftPanel\r\n        lab={lab}\r\n        tracker={tracker}\r\n        docManager={docManager}\r\n        backend={backend}\r\n        kernel={kernel}\r\n      />,\r\n    );\r\n    widget.id = 'kubeflow-kale/kubeflowDeployment';\r\n    widget.title.iconClass = 'jp-kale-logo jp-SideBar-tabIcon';\r\n    widget.title.caption = 'Kubeflow Pipelines Deployment Panel';\r\n    widget.node.classList.add('kale-panel');\r\n\r\n    restorer.add(widget, widget.id);\r\n  });\r\n\r\n  // Initialize once the application shell has been restored\r\n  // and all the widgets have been added to the NotebookTracker\r\n  lab.restored.then(() => {\r\n    loadPanel();\r\n  });\r\n\r\n  return {\r\n    get widget() {\r\n      if (!widget) {\r\n        throw new Error('Widget not initialized yet');\r\n      }\r\n      return widget;\r\n    }\r\n  };\r\n}\r\n","/*\r\n * Copyright 2019-2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as React from 'react';\r\nimport { INotebookTracker, NotebookPanel } from '@jupyterlab/notebook';\r\nimport NotebookUtils from '../lib/NotebookUtils';\r\nimport { IRPCError, rokErrorTooltip } from '../lib/RPCUtils';\r\n// import { AdvancedSettings } from '../components/AdvancedSettings';\r\nimport { InlineCellsMetadata } from './cell-metadata/InlineCellMetadata';\r\n// import { SELECT_VOLUME_TYPES, VolumesPanel } from './VolumesPanel';\r\nimport { SplitDeployButton } from '../components/DeployButton';\r\nimport { Kernel } from '@jupyterlab/services';\r\nimport { ExperimentInput } from '../components/ExperimentInput';\r\nimport {\r\n  DeployProgressState,\r\n  DeploysProgress,\r\n} from './deploys-progress/DeploysProgress';\r\nimport { JupyterFrontEnd } from '@jupyterlab/application';\r\nimport { IDocumentManager } from '@jupyterlab/docmanager';\r\nimport { ThemeProvider } from '@mui/material/styles';\r\nimport { theme } from '../Theme';\r\nimport { Button, Switch, Zoom } from '@mui/material';\r\n// import { KatibDialog } from './KatibDialog';\r\nimport { Input } from '../components/Input';\r\nimport { LightTooltip } from '../components/LightTooltip';\r\nimport Commands from '../lib/Commands';\r\nimport { IAnnotation } from '../components/AnnotationInput';\r\nimport { ISelectOption } from '../components/Select';\r\nimport { PageConfig } from '@jupyterlab/coreutils';\r\n\r\nconst KALE_NOTEBOOK_METADATA_KEY = 'kubeflow_notebook';\r\n\r\nexport interface IExperiment {\r\n  id: string;\r\n  name: string;\r\n}\r\n\r\nexport const NEW_EXPERIMENT: IExperiment = {\r\n  name: '+ New Experiment',\r\n  id: 'new',\r\n};\r\n\r\ninterface IProps {\r\n  lab: JupyterFrontEnd;\r\n  tracker: INotebookTracker;\r\n  docManager: IDocumentManager;\r\n  backend: boolean;\r\n  kernel: Kernel.IKernelConnection;\r\n}\r\n\r\ninterface IState {\r\n  metadata: IKaleNotebookMetadata;\r\n  runDeployment: boolean;\r\n  deploymentType: string;\r\n  deployDebugMessage: boolean;\r\n  experiments: IExperiment[];\r\n  gettingExperiments: boolean;\r\n  // notebookVolumes?: IVolumeMetadata[];\r\n  // volumes?: IVolumeMetadata[];\r\n  // selectVolumeTypes: ISelectOption[];\r\n  deploys: { [index: number]: DeployProgressState };\r\n  isEnabled: boolean;\r\n  // katibDialog: boolean;\r\n  namespace: string;\r\n}\r\n\r\n// Katib types\r\n// v1alpha3: https://github.com/kubeflow/katib/blob/v0.9.0/pkg/apis/controller/experiments/v1alpha3/experiment_types.go\r\n// v1beta1: https://github.com/kubeflow/katib/blob/v0.10.0/pkg/apis/controller/experiments/v1beta1/experiment_types.go\r\n// export interface IKatibParameter {\r\n//   name: string;\r\n//   parameterType: 'unknown' | 'double' | 'int' | 'categorical' | 'discrete';\r\n//   feasibleSpace: { min?: string; max?: string; list?: string[]; step?: string };\r\n// }\r\n\r\n// interface IKatibObjective {\r\n//   goal?: number;\r\n//   type: 'minimize' | 'maximize';\r\n//   objectiveMetricName: string;\r\n//   additionalMetricNames?: string[];\r\n// }\r\n\r\n// interface IKatibAlgorithm {\r\n//   algorithmName:\r\n//     | 'random'\r\n//     | 'grid'\r\n//     | 'bayesianoptimization'\r\n//     | 'hyperband'\r\n//     | 'tpe';\r\n//   algorithmSettings?: { name: string; value: string }[];\r\n//   earlyStopping?: {\r\n//     earlyStoppingAlgorithmName: { name: string; value: string }[];\r\n//   };\r\n// }\r\n\r\n// export interface IKatibMetadata {\r\n//   parameters: IKatibParameter[];\r\n//   objective: IKatibObjective;\r\n//   algorithm: IKatibAlgorithm;\r\n//   maxTrialCount: number;\r\n//   maxFailedTrialCount: number;\r\n//   parallelTrialCount: number;\r\n// }\r\n\r\n// const DefaultKatibMetadata: IKatibMetadata = {\r\n//   parameters: [],\r\n//   objective: {\r\n//     type: 'minimize',\r\n//     objectiveMetricName: '',\r\n//   },\r\n//   algorithm: {\r\n//     algorithmName: 'grid',\r\n//   },\r\n//   maxTrialCount: 12,\r\n//   maxFailedTrialCount: 3,\r\n//   parallelTrialCount: 3,\r\n// };\r\n\r\n// export interface IVolumeMetadata {\r\n//   type: string;\r\n//   // name field will have different meaning based on the type:\r\n//   //  - pv: name of the PV\r\n//   //  - pvc: name of the pvc\r\n//   //  - new_pvc: new pvc with dynamic provisioning\r\n//   //  - clone: clone a volume which is currently mounted to the Notebook Server\r\n//   //  - snap: new_pvc from Rok Snapshot\r\n//   name: string;\r\n//   mount_point: string;\r\n//   size?: number;\r\n//   size_type?: string;\r\n//   annotations: IAnnotation[];\r\n//   snapshot: boolean;\r\n//   snapshot_name?: string;\r\n// }\r\n\r\n// keep names with Python notation because they will be read\r\n// in python by Kale.\r\nexport interface IKaleNotebookMetadata {\r\n  experiment: IExperiment;\r\n  experiment_name: string; // Keep this for backwards compatibility\r\n  pipeline_name: string;\r\n  pipeline_description: string;\r\n  docker_image: string;\r\n  // volumes: IVolumeMetadata[];\r\n  // snapshot_volumes: boolean;\r\n  // autosnapshot: boolean;\r\n  // katib_run: boolean;\r\n  // katib_metadata?: IKatibMetadata;\r\n  steps_defaults?: string[];\r\n  storage_class_name?: string;\r\n  // volume_access_mode?: string;\r\n}\r\n\r\n// export interface IKatibExperiment {\r\n//   apiVersion: string;\r\n//   name?: string;\r\n//   namespace?: string;\r\n//   status: string;\r\n//   reason: string;\r\n//   message: string;\r\n//   trials?: number;\r\n//   trialsFailed?: number;\r\n//   trialsRunning?: number;\r\n//   trialsSucceeded?: number;\r\n//   maxTrialCount?: number;\r\n//   currentOptimalTrial?: {\r\n//     bestTrialName: string;\r\n//     parameterAssignments: { name: string; value: string }[];\r\n//     observation: {\r\n//       metrics: {\r\n//         name: string;\r\n//         value?: number; // v1alpha3\r\n//         latest?: string; //v1beta1\r\n//         max?: string; //v1beta1\r\n//         min?: string; //v1beta1\r\n//       }[];\r\n//     };\r\n//   };\r\n// }\r\n\r\nexport const DefaultState: IState = {\r\n  metadata: {\r\n    experiment: { id: '', name: '' },\r\n    experiment_name: '',\r\n    pipeline_name: '',\r\n    pipeline_description: '',\r\n    docker_image: '',\r\n    // volumes: [],\r\n    // snapshot_volumes: false,\r\n    // autosnapshot: false,\r\n    // katib_run: false,\r\n    steps_defaults: [],\r\n    // volume_access_mode: 'rwm',\r\n  },\r\n  runDeployment: false,\r\n  deploymentType: 'compile',\r\n  deployDebugMessage: false,\r\n  experiments: [],\r\n  gettingExperiments: false,\r\n  // notebookVolumes: [],\r\n  // volumes: [],\r\n  // selectVolumeTypes: SELECT_VOLUME_TYPES,\r\n  deploys: {},\r\n  isEnabled: false,\r\n  // katibDialog: false,\r\n  namespace: '',\r\n};\r\n\r\nlet deployIndex = 0;\r\n\r\nexport class KubeflowKaleLeftPanel extends React.Component<IProps, IState> {\r\n  // init state default values\r\n  state = DefaultState;\r\n\r\n  getActiveNotebook = (): NotebookPanel | null => {\r\n    return this.props.tracker.currentWidget;\r\n  };\r\n\r\n  getActiveNotebookPath = () => {\r\n    return (\r\n      this.getActiveNotebook() &&\r\n      // absolute path to the notebook's root (--notebook-dir option, if set)\r\n      PageConfig.getOption('serverRoot') +\r\n        '/' +\r\n        // relative path wrt to 'serverRoot'\r\n        this.getActiveNotebook()?.context.path\r\n    );\r\n  };\r\n\r\n  // update metadata state values: use destructure operator to update nested dict\r\n  updateExperiment = (experiment: IExperiment) =>\r\n    this.setState((prevState, props) => ({\r\n      metadata: {\r\n        ...prevState.metadata,\r\n        experiment: experiment,\r\n        experiment_name: experiment.name,\r\n      },\r\n    }));\r\n  updatePipelineName = (name: string) =>\r\n    this.setState((prevState, props) => ({\r\n      metadata: { ...prevState.metadata, pipeline_name: name },\r\n    }));\r\n  updatePipelineDescription = (desc: string) =>\r\n    this.setState((prevState, props) => ({\r\n      metadata: { ...prevState.metadata, pipeline_description: desc },\r\n    }));\r\n  updateDockerImage = (name: string) =>\r\n    this.setState((prevState, props) => ({\r\n      metadata: {\r\n        ...prevState.metadata,\r\n        docker_image: name,\r\n      },\r\n    }));\r\n  // updateVolumesSwitch = () => {\r\n  //   this.setState((prevState, props) => ({\r\n  //     volumes: prevState.notebookVolumes,\r\n  //     metadata: {\r\n  //       ...prevState.metadata,\r\n  //       volumes: prevState.notebookVolumes,\r\n  //       snapshot_volumes: !prevState.metadata.snapshot_volumes,\r\n  //       storage_class_name: undefined,\r\n  //       volume_access_mode: undefined,\r\n  //     },\r\n  //   }));\r\n  // };\r\n  // updateAutosnapshotSwitch = (autosnapshot?: boolean) =>\r\n  //   this.setState((prevState, props) => ({\r\n  //     metadata: {\r\n  //       ...prevState.metadata,\r\n  //       autosnapshot:\r\n  //         autosnapshot === undefined\r\n  //           ? !prevState.metadata.autosnapshot\r\n  //           : autosnapshot,\r\n  //     },\r\n  //   }));\r\n\r\n  // getNotebookMountPoints = (): { label: string; value: string }[] => {\r\n  //   const mountPoints: { label: string; value: string }[] = [];\r\n  //   this.state.notebookVolumes?.map(item => {   // check is optional using ?\r\n  //     mountPoints.push({ label: item.mount_point, value: item.mount_point });\r\n  //   });\r\n  //   return mountPoints;\r\n  // };\r\n\r\n  activateRunDeployState = (type: string) => {\r\n    if (!this.state.runDeployment) {\r\n      this.setState({ runDeployment: true, deploymentType: type });\r\n      this.runDeploymentCommand();\r\n    }\r\n  };\r\n\r\n  changeDeployDebugMessage = () =>\r\n    this.setState((prevState, props) => ({\r\n      deployDebugMessage: !prevState.deployDebugMessage,\r\n    }));\r\n\r\n  // updateStorageClassName = (storage_class_name: string) =>\r\n  //   this.setState((prevState, props) => ({\r\n  //     metadata: { ...prevState.metadata, storage_class_name },\r\n  //   }));\r\n\r\n  // updateVolumeAccessMode = (volume_access_mode: string) => {\r\n  //   this.setState((prevState, props) => ({\r\n  //     metadata: { ...prevState.metadata, volume_access_mode },\r\n  //   }));\r\n  // };\r\n\r\n  // updateKatibRun = () =>\r\n  //   this.setState((prevState, props) => ({\r\n  //     metadata: {\r\n  //       ...prevState.metadata,\r\n  //       katib_run: !prevState.metadata.katib_run,\r\n  //     },\r\n  //   }));\r\n\r\n  // updateKatibMetadata = (metadata: IKatibMetadata) =>\r\n  //   this.setState((prevState, props) => ({\r\n  //     metadata: {\r\n  //       ...prevState.metadata,\r\n  //       katib_metadata: metadata,\r\n  //     },\r\n  //   }));\r\n\r\n  // updateVolumes = (\r\n  //   volumes: IVolumeMetadata[],\r\n  //   metadataVolumes: IVolumeMetadata[],\r\n  // ) => {\r\n  //   this.setState((prevState, props) => ({\r\n  //     volumes,\r\n  //     metadata: { ...prevState.metadata, volumes: metadataVolumes },\r\n  //   }));\r\n  // };\r\n\r\n  // toggleKatibDialog = async () => {\r\n  //   // When opening the katib dialog, we sent and RPC to Kale to parse the\r\n  //   // current notebook to retrieve the pipeline parameters. In case the\r\n  //   // notebook is in an unsaved state, ask the user to save it.\r\n  //   if (!this.state.katibDialog) {\r\n  //     await NotebookUtils.saveNotebook(this.getActiveNotebook(), true, true);\r\n  //     // if the notebook is saved\r\n  //     if (!this.getActiveNotebook().context.model.dirty) {\r\n  //       this.setState({ katibDialog: true });\r\n  //     }\r\n  //   } else {\r\n  //     // close\r\n  //     this.setState({ katibDialog: false });\r\n  //   }\r\n  // };\r\n\r\n  // restore state to default values\r\n  resetState = () =>\r\n    this.setState((prevState, props) => ({\r\n      ...DefaultState,\r\n      isEnabled: prevState.isEnabled,\r\n    }));\r\n\r\n  componentDidMount = () => {\r\n    // Notebook tracker will signal when a notebook is changed\r\n    this.props.tracker.currentChanged.connect(this.handleNotebookChanged, this);\r\n    // Set notebook widget if one is open\r\n    if (this.props.tracker.currentWidget instanceof NotebookPanel) {\r\n      this.setNotebookPanel(this.props.tracker.currentWidget);\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = (\r\n    prevProps: Readonly<IProps>,\r\n    prevState: Readonly<IState>,\r\n  ) => {\r\n    // fast comparison of Metadata objects.\r\n    // warning: this method does not work if keys change order.\r\n    if (\r\n      JSON.stringify(prevState.metadata) !==\r\n        JSON.stringify(this.state.metadata) &&\r\n      this.getActiveNotebook()\r\n    ) {\r\n      const activeNotebook = this.getActiveNotebook();\r\n      if (activeNotebook) {\r\n      // Write new metadata to the notebook and save\r\n        NotebookUtils.setMetaData(\r\n          activeNotebook,\r\n          KALE_NOTEBOOK_METADATA_KEY,\r\n          this.state.metadata,\r\n          true,\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * This handles when a notebook is switched to another notebook.\r\n   * The parameters are automatically passed from the signal when a switch occurs.\r\n   */\r\n  handleNotebookChanged = async (\r\n    tracker: INotebookTracker,\r\n    notebook: NotebookPanel | null,\r\n  ) => {\r\n    // Set the current notebook and wait for the session to be ready\r\n    if (notebook) {\r\n      await this.setNotebookPanel(notebook);\r\n    } else {\r\n      // Handle null case - reset to default state\r\n      this.resetState()\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Read new notebook and assign its metadata to the state.\r\n   * @param notebook active NotebookPanel\r\n   */\r\n  setNotebookPanel = async (notebook: NotebookPanel | null) => {\r\n    // if there at least an open notebook\r\n    if (this.props.tracker.size > 0 && notebook) {\r\n      const commands = new Commands(\r\n        notebook,\r\n        this.props.kernel,\r\n      );\r\n      // wait for the session to be ready before reading metadata\r\n      await notebook.sessionContext.ready;\r\n\r\n      // get notebook metadata\r\n      const notebookMetadata = NotebookUtils.getMetaData(\r\n        notebook,\r\n        KALE_NOTEBOOK_METADATA_KEY,\r\n      );\r\n      console.log('Kubeflow metadata:');\r\n      console.log(notebookMetadata);\r\n\r\n      if (this.props.backend) {\r\n        // Retrieve the notebook's namespace\r\n        this.setState({ namespace: await commands.getNamespace() });\r\n        // Detect whether this is an exploration, i.e., recovery from snapshot\r\n        const nbFilePath = this.getActiveNotebookPath();\r\n        if (nbFilePath) {\r\n          await commands.resumeStateIfExploreNotebook(nbFilePath);\r\n        }\r\n        // if (!this.props.rokError) {\r\n        //   // Get information about volumes currently mounted on the notebook server\r\n        //   const {\r\n        //     notebookVolumes,\r\n        //     selectVolumeTypes,\r\n        //   } = await commands.getMountedVolumes(this.state.notebookVolumes);\r\n        //   this.setState({\r\n        //     notebookVolumes,\r\n        //     selectVolumeTypes,\r\n        //   });\r\n        // } else {\r\n        //   this.setState((prevState, props) => ({\r\n        //     selectVolumeTypes: prevState.selectVolumeTypes.map(t => {\r\n        //       return t.value === 'clone' || t.value === 'snap'\r\n        //         ? { ...t, tooltip: rokErrorTooltip(this.props.rokError) }\r\n        //         : t;\r\n        //     }),\r\n        //   }));\r\n        // }\r\n        // Detect the base image of the current Notebook Server\r\n        const baseImage = await commands.getBaseImage();\r\n        if (baseImage) {\r\n          DefaultState.metadata.docker_image = baseImage;\r\n        } else {\r\n          DefaultState.metadata.docker_image = '';\r\n        }\r\n\r\n        // Detect poddefault labels applied on server and add them as steps defaults\r\n        // fixme: This RPC could be called just when starting the widget\r\n        //        and not every time we set a new notebook\r\n        // const podDefaultLabels = await commands.findPodDefaultLabelsOnServer();\r\n        // Object.keys(podDefaultLabels)\r\n        //   .map(key => `label:${key}:${podDefaultLabels[key]}`)\r\n        //   .forEach(label => {\r\n        //     if (!DefaultState.metadata.steps_defaults?.includes(label)) {\r\n        //       DefaultState.metadata.steps_defaults?.push(label);\r\n        //     }\r\n        //   });\r\n\r\n        // Get experiment information last because it may take more time to respond\r\n        this.setState({ gettingExperiments: true });\r\n        const {\r\n          experiments,\r\n          experiment,\r\n          experiment_name,\r\n        } = await commands.getExperiments(\r\n          this.state.metadata.experiment,\r\n          this.state.metadata.experiment_name,\r\n        );\r\n        this.setState((prevState, props) => ({\r\n          experiments,\r\n          gettingExperiments: false,\r\n          metadata: {\r\n            ...prevState.metadata,\r\n            experiment,\r\n            experiment_name,\r\n          },\r\n        }));\r\n      }\r\n\r\n      // ********Commenting to just make the build run**********\r\n      // if the key exists in the notebook's metadata\r\n      if (notebookMetadata) {\r\n        let experiment: IExperiment = { id: '', name: '' };\r\n        let experiment_name: string = '';\r\n        if (notebookMetadata['experiment']) {\r\n          experiment = {\r\n            id: notebookMetadata['experiment']['id'] || '',\r\n            name: notebookMetadata['experiment']['name'] || '',\r\n          };\r\n          experiment_name = notebookMetadata['experiment']['name'];\r\n        } else if (notebookMetadata['experiment_name']) {\r\n          const matchingExperiments = this.state.experiments.filter(\r\n            e => e.name === notebookMetadata['experiment_name'],\r\n          );\r\n          if (matchingExperiments.length > 0) {\r\n            experiment = matchingExperiments[0];\r\n          } else {\r\n            experiment = {\r\n              id: NEW_EXPERIMENT.id,\r\n              name: notebookMetadata['experiment_name'],\r\n            };\r\n          }\r\n          experiment_name = notebookMetadata['experiment_name'];\r\n        } else {\r\n      this.resetState();\r\n      }\r\n\r\n    //     let metadataVolumes = (notebookMetadata['volumes'] || []).filter(\r\n    //       (v: IVolumeMetadata) => v.type !== 'clone',\r\n    //     );\r\n    //     let stateVolumes = this.props.rokError\r\n    //       ? metadataVolumes\r\n    //       : metadataVolumes.map((volume: IVolumeMetadata) => {\r\n    //           if (\r\n    //             volume.type === 'new_pvc' &&\r\n    //             volume.annotations.length > 0 &&\r\n    //             volume.annotations[0].key === 'rok/origin'\r\n    //           ) {\r\n    //             return { ...volume, type: 'snap' };\r\n    //           }\r\n    //           return volume;\r\n    //         });\r\n    //     if (stateVolumes.length === 0 && metadataVolumes.length === 0) {\r\n    //       metadataVolumes = stateVolumes = this.state.notebookVolumes;\r\n    //     } else {\r\n    //       metadataVolumes = metadataVolumes.concat(this.state.notebookVolumes);\r\n    //       stateVolumes = stateVolumes.concat(this.state.notebookVolumes);\r\n    //     }\r\n\r\n        let metadata: IKaleNotebookMetadata = {\r\n          ...notebookMetadata,\r\n          experiment: experiment,\r\n          experiment_name: experiment_name,\r\n          pipeline_name: notebookMetadata['pipeline_name'] || '',\r\n          pipeline_description: notebookMetadata['pipeline_description'] || '',\r\n          docker_image:\r\n            notebookMetadata['docker_image'] ||\r\n            DefaultState.metadata.docker_image,\r\n          steps_defaults: DefaultState.metadata.steps_defaults,\r\n        };\r\n        this.setState({\r\n          metadata: metadata,\r\n        });\r\n      } else {\r\n        this.setState((prevState, props) => ({\r\n          metadata: {\r\n            ...DefaultState.metadata\r\n          }\r\n        }));\r\n      }\r\n    } else {\r\n      this.resetState();\r\n    }\r\n  };\r\n\r\n  updateDeployProgress = (index: number, progress: DeployProgressState) => {\r\n    let deploy: { [index: number]: DeployProgressState };\r\n    if (!this.state.deploys[index]) {\r\n      deploy = { [index]: progress };\r\n    } else {\r\n      deploy = { [index]: { ...this.state.deploys[index], ...progress } };\r\n    }\r\n    this.setState({ deploys: { ...this.state.deploys, ...deploy } });\r\n  };\r\n\r\n  onPanelRemove = (index: number) => {\r\n    const deploys = { ...this.state.deploys };\r\n    deploys[index].deleted = true;\r\n    this.setState({ deploys });\r\n  };\r\n\r\n  runDeploymentCommand = async () => {\r\n    const activeNotebook = this.getActiveNotebook();\r\n    if (!activeNotebook) {\r\n      this.setState({ runDeployment: false });\r\n      return;\r\n    }\r\n\r\n    await activeNotebook.context.save();\r\n\r\n    const commands = new Commands(activeNotebook, this.props.kernel);\r\n    const _deployIndex = ++deployIndex;\r\n    const _updateDeployProgress = (x: DeployProgressState) => {\r\n      this.updateDeployProgress(_deployIndex, {\r\n        ...x,\r\n        namespace: this.state.namespace,\r\n      });\r\n    };\r\n\r\n    const metadata = JSON.parse(JSON.stringify(this.state.metadata)); // Deepcopy metadata\r\n\r\n    // assign the default docker image in case it is empty\r\n    if (metadata.docker_image === '') {\r\n      metadata.docker_image = DefaultState.metadata.docker_image;\r\n    }\r\n\r\n    const nbFilePath = this.getActiveNotebookPath();\r\n\r\n    if (!nbFilePath) {\r\n      // Handle the error, show a message, or return early\r\n      const extendedProgress: DeployProgressState = {\r\n        message: 'No active notebook path found.',\r\n      };\r\n      _updateDeployProgress(extendedProgress);\r\n      this.setState({ runDeployment: false });\r\n      return;\r\n    }\r\n\r\n    // VALIDATE METADATA\r\n    const validationSucceeded = await commands.validateMetadata(\r\n      nbFilePath,\r\n      metadata,\r\n      _updateDeployProgress,\r\n    );\r\n    if (!validationSucceeded) {\r\n      this.setState({ runDeployment: false });\r\n      return;\r\n    }\r\n    _updateDeployProgress({\r\n      message: 'Validation completed successfully',\r\n    });\r\n    // SNAPSHOT VOLUMES\r\n    // if (\r\n    //   metadata.volumes.filter((v: IVolumeMetadata) => v.type === 'clone')\r\n    //     .length > 0\r\n    // ) {\r\n    //   const task = await commands.runSnapshotProcedure(_updateDeployProgress);\r\n    //   console.log(task);\r\n    //   if (!task) {\r\n    //     this.setState({ runDeployment: false });\r\n    //     return;\r\n    //   }\r\n    //   metadata.volumes = await commands.replaceClonedVolumes(\r\n    //     task.bucket,\r\n    //     task.result.event.object,\r\n    //     task.result.event.version,\r\n    //     metadata.volumes,\r\n    //   );\r\n    // }\r\n\r\n    // CREATE PIPELINE\r\n    const compileNotebook = await commands.compilePipeline(\r\n      nbFilePath,\r\n      metadata,\r\n      this.props.docManager,\r\n      this.state.deployDebugMessage,\r\n      _updateDeployProgress,\r\n    );\r\n    if (!compileNotebook) {\r\n      this.setState({ runDeployment: false });\r\n      return;\r\n    }\r\n    _updateDeployProgress({\r\n        message: 'Notebook compiled successfully',\r\n      });\r\n\r\n    // UPLOAD\r\n    const uploadPipeline =\r\n      this.state.deploymentType === 'upload' ||\r\n      this.state.deploymentType === 'run'\r\n        ? await commands.uploadPipeline(\r\n            compileNotebook.pipeline_package_path,\r\n            compileNotebook.pipeline_metadata,\r\n            _updateDeployProgress,\r\n          )\r\n        : null;\r\n\r\n    if (!uploadPipeline) {\r\n      this.setState({ runDeployment: false });\r\n      _updateDeployProgress({ pipeline: false });\r\n      return;\r\n    }\r\n    _updateDeployProgress({\r\n      message: 'Pipeline uploaded successfully',\r\n      pipeline: true,\r\n    });\r\n    // RUN\r\n    if (this.state.deploymentType === 'run') {\r\n      // if (metadata.katib_run) {\r\n      //   try {\r\n      //     const katibExperiment = await commands.runKatib(\r\n      //       nbFilePath,\r\n      //       metadata,\r\n      //       uploadPipeline.pipeline.pipelineid,\r\n      //       uploadPipeline.pipeline.versionid,\r\n      //       _updateDeployProgress,\r\n      //     );\r\n      //     commands.pollKatib(katibExperiment, _updateDeployProgress);\r\n      //   } catch (error) {\r\n      //     this.setState({ runDeployment: false });\r\n      //     throw error;\r\n      //   }\r\n      // } else {\r\n      const runPipeline = await commands.runPipeline(\r\n        uploadPipeline.pipeline.pipelineid,\r\n        uploadPipeline.pipeline.versionid,\r\n        compileNotebook.pipeline_metadata,\r\n        compileNotebook.pipeline_package_path,\r\n        _updateDeployProgress,\r\n      );\r\n      if (runPipeline) {\r\n        commands.pollRun(runPipeline, _updateDeployProgress);\r\n      }\r\n    }\r\n    // stop deploy button icon spin\r\n    this.setState({ runDeployment: false });\r\n  };\r\n\r\n  onMetadataEnable = (isEnabled: boolean) => {\r\n    this.setState({ isEnabled });\r\n  };\r\n\r\n  render() {\r\n    // FIXME: What about human-created Notebooks? Match name and old API as well\r\n    const selectedExperiments: IExperiment[] = this.state.experiments.filter(\r\n      e =>\r\n        e.id === this.state.metadata.experiment.id ||\r\n        e.name === this.state.metadata.experiment.name\r\n    );\r\n    if (this.state.experiments.length > 0 && selectedExperiments.length === 0) {\r\n      selectedExperiments.push(this.state.experiments[0]);\r\n    }\r\n    let experimentInputSelected = '';\r\n    let experimentInputValue = '';\r\n    if (selectedExperiments.length > 0) {\r\n      experimentInputSelected = selectedExperiments[0].id;\r\n      if (selectedExperiments[0].id === NEW_EXPERIMENT.id) {\r\n        if (this.state.metadata.experiment.name !== '') {\r\n          experimentInputValue = this.state.metadata.experiment.name;\r\n        } else {\r\n          experimentInputValue = this.state.metadata.experiment_name;\r\n        }\r\n      } else {\r\n        experimentInputValue = selectedExperiments[0].name;\r\n      }\r\n    }\r\n    const experiment_name_input = (\r\n      <ExperimentInput\r\n        updateValue={this.updateExperiment}\r\n        options={this.state.experiments}\r\n        selected={experimentInputSelected}\r\n        value={experimentInputValue}\r\n        loading={this.state.gettingExperiments}\r\n      />\r\n    );\r\n\r\n    const pipeline_name_input = (\r\n      <Input\r\n        variant=\"standard\"\r\n        label={'Pipeline Name'}\r\n        updateValue={this.updatePipelineName}\r\n        value={this.state.metadata.pipeline_name}\r\n        regex={'^[a-z0-9]([-a-z0-9]*[a-z0-9])?$'}\r\n        regexErrorMsg={\r\n          \"Pipeline name must consist of lower case alphanumeric characters or '-', and must start and end with an alphanumeric character.\"\r\n        }\r\n      />\r\n    );\r\n\r\n    const pipeline_desc_input = (\r\n      <Input\r\n        variant=\"standard\"\r\n        label={'Pipeline Description'}\r\n        updateValue={this.updatePipelineDescription}\r\n        value={this.state.metadata.pipeline_description}\r\n      />\r\n    );\r\n\r\n    // const katib_run_input = (\r\n    //   <div className=\"input-container\">\r\n    //     <LightTooltip\r\n    //       title={'Enable this option to run HyperParameter Tuning with Katib'}\r\n    //       placement=\"top-start\"\r\n    //       interactive={true}\r\n    //       TransitionComponent={Zoom}\r\n    //     >\r\n    //       <div className=\"toolbar\">\r\n    //         <div className=\"switch-label\">HP Tuning with Katib</div>\r\n    //         <Switch\r\n    //           checked={this.state.metadata.katib_run}\r\n    //           onChange={_ => this.updateKatibRun()}\r\n    //           color=\"primary\"\r\n    //           name=\"enableKatib\"\r\n    //           className=\"material-switch\"\r\n    //           inputProps={{ 'aria-label': 'primary checkbox' }}\r\n    //         />\r\n    //       </div>\r\n    //     </LightTooltip>\r\n    //   </div>\r\n    // );\r\n\r\n    // const volsPanel = (\r\n    //   <VolumesPanel\r\n    //     volumes={this.state.volumes}\r\n    //     notebookVolumes={this.state.notebookVolumes}\r\n    //     metadataVolumes={this.state.metadata.volumes}\r\n    //     notebookMountPoints={this.getNotebookMountPoints()}\r\n    //     selectVolumeTypes={this.state.selectVolumeTypes}\r\n    //     useNotebookVolumes={this.state.metadata.snapshot_volumes}\r\n    //     updateVolumesSwitch={this.updateVolumesSwitch}\r\n    //     autosnapshot={this.state.metadata.autosnapshot}\r\n    //     updateAutosnapshotSwitch={this.updateAutosnapshotSwitch}\r\n    //     rokError={this.props.rokError}\r\n    //     updateVolumes={this.updateVolumes}\r\n    //     storageClassName={this.state.metadata.storage_class_name}\r\n    //     updateStorageClassName={this.updateStorageClassName}\r\n    //     volumeAccessMode={this.state.metadata.volume_access_mode}\r\n    //     updateVolumeAccessMode={this.updateVolumeAccessMode}\r\n    //   />\r\n    // );\r\n    const activeNotebook = this.getActiveNotebook();\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <div className={'kubeflow-widget'} key=\"kale-widget\">\r\n          <div className={'kubeflow-widget-content'}>\r\n            <div>\r\n              <p\r\n                style={{\r\n                  fontSize: 'var(--jp-ui-font-size3)',\r\n                  color: theme.kale.headers.main,\r\n                }}\r\n                className=\"kale-header\"\r\n              >\r\n                Kale Deployment Panel {this.state.isEnabled}\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"kale-component\">\r\n              {activeNotebook && (\r\n                <InlineCellsMetadata\r\n                  onMetadataEnable={this.onMetadataEnable}\r\n                  notebook={activeNotebook}\r\n                />\r\n              )}\r\n            </div>\r\n\r\n            <div\r\n              className={\r\n                'kale-component ' + (this.state.isEnabled ? '' : 'hidden')\r\n              }\r\n            >\r\n              <div>\r\n                <p\r\n                  className=\"kale-header\"\r\n                  style={{ color: theme.kale.headers.main }}\r\n                >\r\n                  Pipeline Metadata\r\n                </p>\r\n              </div>\r\n\r\n              <div className={'input-container'}>\r\n                {experiment_name_input}\r\n                {pipeline_name_input}\r\n                {pipeline_desc_input}\r\n              </div>\r\n            </div>\r\n\r\n            {/* <div\r\n              className={\r\n                'kale-component ' + (this.state.isEnabled ? '' : 'hidden')\r\n              }\r\n            >\r\n              <div>\r\n                <p\r\n                  className=\"kale-header\"\r\n                  style={{ color: theme.kale.headers.main }}\r\n                >\r\n                  Run\r\n                </p>\r\n              </div>\r\n              {katib_run_input}\r\n              <div className=\"input-container add-button\">\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  size=\"small\"\r\n                  title=\"SetupKatibJob\"\r\n                  onClick={this.toggleKatibDialog}\r\n                  disabled={!this.state.metadata.katib_run}\r\n                  style={{ marginLeft: '10px', marginTop: '0px' }}\r\n                >\r\n                  Set Up Katib Job\r\n                </Button>\r\n              </div>\r\n            </div> */}\r\n\r\n            <div\r\n              className={\r\n                'kale-component ' + (this.state.isEnabled ? '' : 'hidden')\r\n              }\r\n            >\r\n              {/* <AdvancedSettings\r\n                title={'Advanced Settings'}\r\n                dockerImageValue={this.state.metadata.docker_image}\r\n                dockerImageDefaultValue={DefaultState.metadata.docker_image}\r\n                dockerChange={this.updateDockerImage}\r\n                debug={this.state.deployDebugMessage}\r\n                volsPanel={volsPanel}\r\n                changeDebug={this.changeDeployDebugMessage}\r\n              /> */}\r\n            </div>\r\n          </div>\r\n          <div\r\n            className={this.state.isEnabled ? '' : 'hidden'}\r\n            style={{ marginTop: 'auto' }}\r\n          >\r\n            <DeploysProgress\r\n              deploys={this.state.deploys}\r\n              onPanelRemove={this.onPanelRemove}\r\n            />\r\n            <SplitDeployButton\r\n              running={this.state.runDeployment}\r\n              handleClick={this.activateRunDeployState}\r\n            />\r\n          </div>\r\n\r\n          {/* <KatibDialog\r\n            open={this.state.katibDialog}\r\n            nbFilePath={this.getActiveNotebookPath()}\r\n            toggleDialog={this.toggleKatibDialog}\r\n            katibMetadata={\r\n              this.state.metadata.katib_metadata || DefaultKatibMetadata\r\n            }\r\n            updateKatibMetadata={this.updateKatibMetadata}\r\n            kernel={this.props.kernel}\r\n          /> */}\r\n        </div>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n","/*\r\n * Copyright 2019-2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as React from 'react';\r\nimport { Notebook, NotebookPanel } from '@jupyterlab/notebook';\r\nimport TagsUtils from '../../lib/TagsUtils';\r\nimport { isCodeCellModel } from '@jupyterlab/cells';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport ColorUtils from '../../lib/ColorUtils';\r\nimport { CellMetadataContext } from '../../lib/CellMetadataContext';\r\nimport { Button, IconButton } from '@mui/material';\r\nimport { CellMetadataEditorDialog } from './CellMetadataEditorDialog';\r\nimport { Input } from '../../components/Input';\r\nimport { Select } from '../../components/Select';\r\nimport { SelectMulti } from '../../components/SelectMulti';\r\n\r\nconst CELL_TYPES = [\r\n  { value: 'imports', label: 'Imports' },\r\n  { value: 'functions', label: 'Functions' },\r\n  { value: 'pipeline-parameters', label: 'Pipeline Parameters' },\r\n  { value: 'pipeline-metrics', label: 'Pipeline Metrics' },\r\n  { value: 'step', label: 'Pipeline Step' },\r\n  { value: 'skip', label: 'Skip Cell' },\r\n];\r\n\r\nexport const RESERVED_CELL_NAMES = [\r\n  'imports',\r\n  'functions',\r\n  'pipeline-parameters',\r\n  'pipeline-metrics',\r\n  'skip',\r\n];\r\n\r\nexport const RESERVED_CELL_NAMES_HELP_TEXT: { [id: string]: string } = {\r\n  imports:\r\n    'The code in this cell will be pre-pended to every step of the pipeline.',\r\n  functions:\r\n    'The code in this cell will be pre-pended to every step of the pipeline,' +\r\n    ' after `imports`.',\r\n  'pipeline-parameters':\r\n    'The variables in this cell will be transformed into pipeline parameters,' +\r\n    ' preserving the current values as defaults.',\r\n  'pipeline-metrics':\r\n    'The variables in this cell will be transformed into pipeline metrics.',\r\n  skip: 'This cell will be skipped and excluded from pipeline steps',\r\n};\r\nexport const RESERVED_CELL_NAMES_CHIP_COLOR: { [id: string]: string } = {\r\n  skip: 'a9a9a9',\r\n  'pipeline-parameters': 'ee7a1a',\r\n  'pipeline-metrics': '773d0d',\r\n  imports: 'a32626',\r\n  functions: 'a32626',\r\n};\r\n\r\nconst STEP_NAME_ERROR_MSG = `Step name must consist of lower case alphanumeric\r\n characters or \\'_\\', and can not start with a digit.`;\r\n\r\nexport interface IProps {\r\n  notebook: NotebookPanel;\r\n  stepName?: string;\r\n  stepDependencies: string[];\r\n  // Resource limits, like gpu limits\r\n  limits?: { [id: string]: string };\r\n}\r\n\r\n// this stores the name of a block and its color (form the name hash)\r\ntype BlockDependencyChoice = { value: string; color: string };\r\ninterface IState {\r\n  // used to store the closest preceding block name. Used in case the current\r\n  // block name is empty, to suggest merging to the previous one.\r\n  previousStepName?: string;\r\n  stepNameErrorMsg?: string;\r\n  // a list of blocks that the current step can be dependent on.\r\n  blockDependenciesChoices: BlockDependencyChoice[];\r\n  // flag to open the metadata editor dialog dialog\r\n  // XXX (stefano): I would like to set this as required, but the return\r\n  // XXX (stefano): statement of updateBlockDependenciesChoices and\r\n  // XXX (stefano): updatePreviousStepName don't allow me.\r\n  cellMetadataEditorDialog: boolean;\r\n}\r\n\r\nconst DefaultState: IState = {\r\n  previousStepName: undefined,\r\n  stepNameErrorMsg: STEP_NAME_ERROR_MSG,\r\n  blockDependenciesChoices: [],\r\n  cellMetadataEditorDialog: false,\r\n};\r\n\r\n/**\r\n * Component that allow to edit the Kale cell tags of a notebook cell.\r\n */\r\nexport class CellMetadataEditor extends React.Component<IProps, IState> {\r\n  static contextType = CellMetadataContext;\r\n  context!: React.ContextType<typeof CellMetadataContext>;\r\n  editorRef: React.RefObject<HTMLDivElement>;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    // We use this element reference in order to move it inside Notebooks's cell\r\n    // element.\r\n    this.editorRef = React.createRef();\r\n    this.state = DefaultState;\r\n    this.updateCurrentBlockName = this.updateCurrentBlockName.bind(this);\r\n    this.updateCurrentCellType = this.updateCurrentCellType.bind(this);\r\n    this.updatePrevBlocksNames = this.updatePrevBlocksNames.bind(this);\r\n    this.toggleTagsEditorDialog = this.toggleTagsEditorDialog.bind(this);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const editor = this.editorRef.current;\r\n    if (editor) {\r\n      editor.remove();\r\n    }\r\n  }\r\n\r\n  updateCurrentCellType = (value: string) => {\r\n    if (RESERVED_CELL_NAMES.includes(value)) {\r\n      this.updateCurrentBlockName(value);\r\n    } else {\r\n      TagsUtils.resetCell(\r\n        this.props.notebook,\r\n        this.context.activeCellIndex,\r\n        this.props.stepName || '',\r\n      );\r\n    }\r\n  };\r\n\r\n  isEqual(a: any, b: any): boolean {\r\n    return JSON.stringify(a) === JSON.stringify(b);\r\n  }\r\n\r\n  /**\r\n   * When the activeCellIndex of the editor changes, the editor needs to be\r\n   * moved to the correct position.\r\n   */\r\n  moveEditor() {\r\n    if (!this.props.notebook) {\r\n      return;\r\n    }\r\n    // get the HTML element corresponding to the current active cell\r\n    const notebookContent = this.props.notebook.content as any;\r\n    if (!notebookContent?.node?.childNodes) {\r\n      return;\r\n    }\r\n    const metadataWrapper = notebookContent.node.childNodes[\r\n      this.context.activeCellIndex\r\n    ] as HTMLElement;\r\n    if (!metadataWrapper) {\r\n      return;\r\n    }\r\n    const editor = this.editorRef.current;\r\n    const inlineElement = metadataWrapper.querySelector(\r\n      '.kale-inline-cell-metadata',\r\n    );\r\n    const elem = metadataWrapper.querySelector('.moved');\r\n    if (editor && elem && !elem.querySelector('.kale-metadata-editor-wrapper') && inlineElement) {\r\n      elem.insertBefore(editor, inlineElement.nextSibling);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Readonly<IProps>, prevState: Readonly<IState>) {\r\n    this.hideEditorIfNotCodeCell();\r\n    this.moveEditor();\r\n    // this.setState(this.updateBlockDependenciesChoices);\r\n    // this.setState(this.updatePreviousStepName);\r\n    const dependenciesState = this.updateBlockDependenciesChoices(this.state, this.props);\r\n    if (dependenciesState) {\r\n      this.setState(dependenciesState);\r\n    }\r\n    \r\n    const previousStepState = this.updatePreviousStepName(this.state, this.props);\r\n    if (previousStepState) {\r\n      this.setState(previousStepState);\r\n    }\r\n  }\r\n\r\n  hideEditorIfNotCodeCell() {\r\n    if (this.props.notebook && !this.props.notebook.isDisposed && this.props.notebook.model) {\r\n      const cellModel = this.props.notebook.model.cells.get(\r\n        this.context.activeCellIndex,\r\n      );\r\n      if (!isCodeCellModel(cellModel) && this.context.isEditorVisible) {\r\n        this.closeEditor();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Scan the notebook for all block tags and get them all, excluded the current\r\n   * one (and the reserved cell tags) The value `previousBlockChoices` is used\r\n   * by the dependencies select option to select the current step's\r\n   * dependencies.\r\n   */\r\n  updateBlockDependenciesChoices(\r\n    state: Readonly<IState>,\r\n    props: Readonly<IProps>,\r\n  ): Pick<IState, 'blockDependenciesChoices'> | null {\r\n    if (!props.notebook) {\r\n      return null;\r\n    }\r\n    const allBlocks = TagsUtils.getAllBlocks(props.notebook.content);\r\n    const dependencyChoices: BlockDependencyChoice[] = allBlocks\r\n      // remove all reserved names and current step name\r\n      .filter(\r\n        el => !RESERVED_CELL_NAMES.includes(el) && !(el === props.stepName),\r\n      )\r\n      .map(name => ({ value: name, color: `#${ColorUtils.getColor(name)}` }));\r\n\r\n    if (this.isEqual(state.blockDependenciesChoices, dependencyChoices)) {\r\n      return null;\r\n    }\r\n    // XXX (stefano): By setting state.cellMetadataEditorDialog NOT optional,\r\n    // XXX (stefano): this return will require cellMetadataEditorDialog.\r\n    return { blockDependenciesChoices: dependencyChoices };\r\n  }\r\n\r\n  updatePreviousStepName(\r\n    state: Readonly<IState>,\r\n    props: Readonly<IProps>,\r\n  ): Pick<IState, 'previousStepName'> | null {\r\n    if (!props.notebook) {\r\n      return null;\r\n    }\r\n    const prevBlockName = TagsUtils.getPreviousBlock(\r\n      props.notebook.content,\r\n      this.context.activeCellIndex,\r\n    );\r\n    if (prevBlockName === this.state.previousStepName) {\r\n      return null;\r\n    }\r\n    // XXX (stefano): By setting state.cellMetadataEditorDialog NOT optional,\r\n    // XXX (stefano): this return will require cellMetadataEditorDialog.\r\n    return { previousStepName: prevBlockName };\r\n  }\r\n\r\n  updateCurrentBlockName = (value: string) => {\r\n    const oldBlockName: string = this.props.stepName || '';\r\n    let currentCellMetadata = {\r\n      prevBlockNames: this.props.stepDependencies,\r\n      limits: this.props.limits || {},\r\n      blockName: value,\r\n    };\r\n\r\n    TagsUtils.setKaleCellTags(\r\n      this.props.notebook,\r\n      this.context.activeCellIndex,\r\n      currentCellMetadata,\r\n      false,\r\n    ).then((oldValue: any) => {\r\n      TagsUtils.updateKaleCellsTags(this.props.notebook, oldBlockName, value);\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Even handler of the MultiSelect used to select the dependencies of a block\r\n   */\r\n  updatePrevBlocksNames = (previousBlocks: string[]) => {\r\n    let currentCellMetadata = {\r\n      blockName: this.props.stepName || '',\r\n      limits: this.props.limits || {},\r\n      prevBlockNames: previousBlocks,\r\n    };\r\n\r\n    TagsUtils.setKaleCellTags(\r\n      this.props.notebook,\r\n      this.context.activeCellIndex,\r\n      currentCellMetadata,\r\n      true,\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Event triggered when the the CellMetadataEditorDialog dialog is closed\r\n   */\r\n  updateCurrentLimits = (\r\n    actions: {\r\n      action: 'update' | 'delete';\r\n      limitKey: string;\r\n      limitValue?: string;\r\n    }[],\r\n  ) => {\r\n    let limits = { ...this.props.limits };\r\n    actions.forEach(action => {\r\n      if (action.action === 'update' && action.limitValue !== undefined) {\r\n        limits[action.limitKey] = action.limitValue;\r\n      }\r\n      if (\r\n        action.action === 'delete' &&\r\n        Object.keys(this.props.limits || {}).includes(action.limitKey)\r\n      ) {\r\n        delete limits[action.limitKey];\r\n      }\r\n    });\r\n\r\n    let currentCellMetadata = {\r\n      blockName: this.props.stepName || '',\r\n      prevBlockNames: this.props.stepDependencies,\r\n      limits: limits,\r\n    };\r\n\r\n    TagsUtils.setKaleCellTags(\r\n      this.props.notebook,\r\n      this.context.activeCellIndex,\r\n      currentCellMetadata,\r\n      true,\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Function called before updating the value of the block name input text\r\n   * field. It acts as a validator.\r\n   */\r\n  onBeforeUpdate = (value: string) => {\r\n    if (value === this.props.stepName) {\r\n      return false;\r\n    }\r\n    const blockNames = TagsUtils.getAllBlocks(this.props.notebook.content);\r\n    if (blockNames.includes(value)) {\r\n      this.setState({ stepNameErrorMsg: 'This name already exists.' });\r\n      return true;\r\n    }\r\n    this.setState({ stepNameErrorMsg: STEP_NAME_ERROR_MSG });\r\n    return false;\r\n  };\r\n\r\n  getPrevStepNotice = () => {\r\n    return this.state.previousStepName && this.props.stepName === ''\r\n      ? `Leave the step name empty to merge the cell to step '${this.state.previousStepName}'`\r\n      : null;\r\n  };\r\n\r\n  /**\r\n   * Event handler of close button, positioned on the top right of the cell\r\n   */\r\n  closeEditor() {\r\n    this.context.onEditorVisibilityChange(false);\r\n  }\r\n\r\n  toggleTagsEditorDialog() {\r\n    this.setState({\r\n      cellMetadataEditorDialog: !this.state.cellMetadataEditorDialog,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const cellType = RESERVED_CELL_NAMES.includes(this.props.stepName || '')\r\n      ? this.props.stepName\r\n      : 'step';\r\n    const cellColor = this.props.stepName\r\n      ? `#${ColorUtils.getColor(this.props.stepName)}`\r\n      : 'transparent';\r\n\r\n    const prevStepNotice = this.getPrevStepNotice();\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div>\r\n          <div\r\n            className={\r\n              'kale-metadata-editor-wrapper' +\r\n              (this.context.isEditorVisible ? ' opened' : '') +\r\n              (cellType === 'step' ? ' kale-is-step' : '')\r\n            }\r\n            ref={this.editorRef}\r\n          >\r\n            <div\r\n              className={\r\n                'kale-cell-metadata-editor' +\r\n                (this.context.isEditorVisible ? '' : ' hidden')\r\n              }\r\n              style={{ borderLeft: `2px solid ${cellColor}` }}\r\n            >\r\n              <Select\r\n                updateValue={this.updateCurrentCellType}\r\n                values={CELL_TYPES}\r\n                value={cellType || 'step'}\r\n                label={'Cell type'}\r\n                index={0}\r\n                variant=\"outlined\"\r\n                style={{ width: '30%' }}\r\n              />\r\n\r\n              {cellType === 'step' ? (\r\n                <Input\r\n                  label={'Step name'}\r\n                  updateValue={this.updateCurrentBlockName}\r\n                  value={this.props.stepName || ''}\r\n                  regex={'^([_a-z]([_a-z0-9]*)?)?$'}\r\n                  regexErrorMsg={this.state.stepNameErrorMsg}\r\n                  variant=\"outlined\"\r\n                  onBeforeUpdate={this.onBeforeUpdate}\r\n                  style={{ width: '30%' }}\r\n                />\r\n              ) : (\r\n                ''\r\n              )}\r\n              {cellType === 'step' ? (\r\n                <SelectMulti\r\n                  id=\"select-previous-blocks\"\r\n                  label=\"Depends on\"\r\n                  disabled={\r\n                    !(this.props.stepName && this.props.stepName.length > 0)\r\n                  }\r\n                  updateSelected={this.updatePrevBlocksNames}\r\n                  options={this.state.blockDependenciesChoices}\r\n                  variant=\"outlined\"\r\n                  selected={this.props.stepDependencies || []}\r\n                  style={{ width: '35%' }}\r\n                />\r\n              ) : (\r\n                ''\r\n              )}\r\n\r\n              {cellType === 'step' ? (\r\n                <div style={{ padding: 0 }}>\r\n                  <Button\r\n                    disabled={\r\n                      !(this.props.stepName && this.props.stepName.length > 0)\r\n                    }\r\n                    color=\"primary\"\r\n                    variant=\"contained\"\r\n                    size=\"small\"\r\n                    title=\"GPU\"\r\n                    onClick={() => this.toggleTagsEditorDialog()}\r\n                    style={{ width: '5%' }}\r\n                  >\r\n                    GPU\r\n                  </Button>\r\n                </div>\r\n              ) : (\r\n                ''\r\n              )}\r\n\r\n              <IconButton\r\n                aria-label=\"delete\"\r\n                onClick={() => this.closeEditor()}\r\n              >\r\n                <CloseIcon fontSize=\"small\" />\r\n              </IconButton>\r\n            </div>\r\n            <div\r\n              className={\r\n                'kale-cell-metadata-editor-helper-text' +\r\n                (this.context.isEditorVisible ? '' : ' hidden')\r\n              }\r\n            >\r\n              <p>{prevStepNotice}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <CellMetadataEditorDialog\r\n          open={this.state.cellMetadataEditorDialog}\r\n          toggleDialog={this.toggleTagsEditorDialog}\r\n          stepName={this.props.stepName || ''}\r\n          limits={this.props.limits || {}}\r\n          updateLimits={this.updateCurrentLimits}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n","/*\r\n * Copyright 2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as React from 'react';\r\nimport {\r\n  Button,\r\n  Chip,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Grid,\r\n  Switch,\r\n  Box\r\n} from '@mui/material';\r\nimport ColorUtils from '../../lib/ColorUtils';\r\nimport { Input } from '../../components/Input';\r\nimport { Select } from '../../components/Select';\r\n\r\nconst GPU_TYPES = [\r\n  { value: 'nvidia.com/gpu', label: 'Nvidia' },\r\n  { value: 'amd.com/gpu', label: 'AMD' },\r\n];\r\nconst DEFAULT_GPU_TYPE = GPU_TYPES[0].value;\r\n\r\ninterface ICellMetadataEditorDialog {\r\n  open: boolean;\r\n  stepName: string;\r\n  limits: { [id: string]: string };\r\n  updateLimits: Function;\r\n  toggleDialog: Function;\r\n}\r\n\r\nexport const CellMetadataEditorDialog: React.FunctionComponent<ICellMetadataEditorDialog> = props => {\r\n  const handleClose = () => {\r\n    props.toggleDialog();\r\n  };\r\n\r\n  const limitAction = (\r\n    action: string,\r\n    limitKey: string,\r\n    limitValue: string = null,\r\n  ) => {\r\n    return {\r\n      action,\r\n      limitKey,\r\n      limitValue,\r\n    };\r\n  };\r\n\r\n  // intersect the current limits and the GPU_TYPES. Assume there is at most 1.\r\n  const gpuType =\r\n    Object.keys(props.limits).filter(x =>\r\n      GPU_TYPES.map(t => t.value).includes(x),\r\n    )[0] || undefined;\r\n  const gpuCount = props.limits[gpuType] || undefined;\r\n\r\n  return (\r\n    <Dialog\r\n      open={props.open}\r\n      onClose={handleClose}\r\n      fullWidth={true}\r\n      maxWidth={'sm'}\r\n      scroll=\"paper\"\r\n      aria-labelledby=\"scroll-dialog-title\"\r\n      aria-describedby=\"scroll-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"scroll-dialog-title\">\r\n        <Grid\r\n          container\r\n          sx={{\r\n            flexDirection: 'row',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <Grid size={{xs: 9}}>\r\n            <Box\r\n              sx={{\r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                justifyContent: 'flex-start',\r\n                alignItems: 'center',\r\n              }}\r\n            >\r\n              <p>Require GPU for step </p>\r\n              <Chip\r\n                className={'kale-chip'}\r\n                style={{\r\n                  marginLeft: '10px',\r\n                  backgroundColor: `#${ColorUtils.getColor(props.stepName)}`,\r\n                }}\r\n                key={props.stepName}\r\n                label={props.stepName}\r\n              />\r\n            </Box>\r\n          </Grid>\r\n          <Grid size={{xs: 3}}>\r\n            <Box\r\n              sx={{\r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                justifyContent: 'flex-end',\r\n                alignItems: 'center',\r\n              }}\r\n            >\r\n              <Switch\r\n                checked={gpuType !== undefined}\r\n                onChange={c => {\r\n                  if (c.target.checked) {\r\n                    // default value\r\n                    props.updateLimits([\r\n                      limitAction('update', DEFAULT_GPU_TYPE, '1'),\r\n                    ]);\r\n                  } else {\r\n                    if (gpuType) {\r\n                      props.updateLimits([limitAction('delete', gpuType)]);\r\n                    }\r\n                  }\r\n                }}\r\n                color=\"primary\"\r\n                name=\"enableKale\"\r\n                inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                classes={{ root: 'material-switch' }}\r\n              />\r\n            </Box>\r\n          </Grid>\r\n        </Grid>\r\n      </DialogTitle>\r\n      <DialogContent dividers={true} style={{ paddingTop: 0 }}>\r\n        <Grid container sx={{ flexDirection: 'column', justifyContent: 'center', alignItems: 'center' }}>\r\n          <Grid\r\n            container\r\n            sx={{\r\n              flexDirection: 'row',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'center',\r\n              marginTop: '15px',\r\n            }}\r\n          >\r\n            <Grid size={{xs: 6}}>\r\n              <Input\r\n                disabled={gpuType === undefined}\r\n                variant=\"outlined\"\r\n                label=\"GPU Count\"\r\n                value={gpuCount || 1}\r\n                updateValue={(v: string) => {\r\n                  if (gpuType) {\r\n                    props.updateLimits([limitAction('update', gpuType, v)]);\r\n                  }\r\n                }}\r\n                style={{ width: '95%' }}\r\n              />\r\n            </Grid>\r\n            <Grid size={{xs: 6}}>\r\n              <Select\r\n                disabled={gpuType === undefined}\r\n                updateValue={(v: string) => {\r\n                  const actions = [];\r\n                  if (gpuType) {\r\n                    actions.push(limitAction('delete', gpuType));\r\n                  }\r\n                  actions.push(limitAction('update', v, gpuCount));\r\n                  props.updateLimits(actions);\r\n                }}\r\n                values={GPU_TYPES}\r\n                value={gpuType || DEFAULT_GPU_TYPE}\r\n                label=\"GPU Type\"\r\n                index={0}\r\n                variant=\"outlined\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Ok\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n","/*\r\n * Copyright 2019-2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as React from 'react';\r\nimport { Notebook, NotebookPanel } from '@jupyterlab/notebook';\r\nimport { DocumentRegistry } from '@jupyterlab/docregistry';\r\nimport {\r\n  IObservableList,\r\n  IObservableUndoableList,\r\n} from '@jupyterlab/observables';\r\nimport {\r\n  Cell,\r\n  CodeCellModel,\r\n  ICellModel,\r\n  isCodeCellModel,\r\n} from '@jupyterlab/cells';\r\nimport CellUtils from '../../lib/CellUtils';\r\nimport TagsUtils from '../../lib/TagsUtils';\r\nimport { InlineMetadata } from './InlineMetadata';\r\nimport {\r\n  CellMetadataEditor,\r\n  IProps as EditorProps,\r\n} from './CellMetadataEditor';\r\nimport { CellMetadataContext } from '../../lib/CellMetadataContext';\r\nimport { Switch } from '@mui/material';\r\nimport NotebookUtils from '../../lib/NotebookUtils';\r\n\r\ninterface IProps {\r\n  notebook: NotebookPanel;\r\n  onMetadataEnable: (isEnabled: boolean) => void;\r\n}\r\n\r\ntype Editors = { [index: string]: EditorProps };\r\n\r\ninterface IState {\r\n  activeCellIndex: number;\r\n  prevBlockName?: string;\r\n  metadataCmp?: JSX.Element[];\r\n  checked?: boolean;\r\n  editors?: Editors;\r\n  isEditorVisible: boolean;\r\n}\r\n\r\nconst DefaultState: IState = {\r\n  activeCellIndex: 0,\r\n  prevBlockName: undefined,\r\n  metadataCmp: [],\r\n  checked: false,\r\n  editors: {},\r\n  isEditorVisible: false,\r\n};\r\n\r\ntype SaveState = 'started' | 'completed' | 'failed';\r\n\r\nexport class InlineCellsMetadata extends React.Component<IProps, IState> {\r\n  state = DefaultState;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.onEditorVisibilityChange = this.onEditorVisibilityChange.bind(this);\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    if (this.props.notebook) {\r\n      this.connectAndInitWhenReady(this.props.notebook);\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async (\r\n    prevProps: Readonly<IProps>,\r\n    prevState: Readonly<IState>,\r\n  ) => {\r\n    if (!this.props.notebook && prevProps.notebook) {\r\n      // no notebook\r\n      this.clearEditorsPropsAndInlineMetadata();\r\n    }\r\n\r\n    const preNotebookId = prevProps.notebook ? prevProps.notebook.id : '';\r\n    const notebookId = this.props.notebook ? this.props.notebook.id : '';\r\n    if (preNotebookId !== notebookId) {\r\n      // notebook changed\r\n      if (prevProps.notebook) {\r\n        this.disconnectHandlersFromNotebook(prevProps.notebook);\r\n      }\r\n      if (this.props.notebook) {\r\n        this.connectAndInitWhenReady(this.props.notebook);\r\n      }\r\n      // hide editor on notebook change\r\n      this.setState({ isEditorVisible: false });\r\n    }\r\n  };\r\n\r\n  connectAndInitWhenReady = (notebook: NotebookPanel) => {\r\n    notebook.context.ready.then(() => {\r\n      this.connectHandlersToNotebook(this.props.notebook);\r\n      this.refreshEditorsPropsAndInlineMetadata();\r\n      this.setState({\r\n        activeCellIndex: notebook.content.activeCellIndex,\r\n      });\r\n    });\r\n  };\r\n\r\n  connectHandlersToNotebook = (notebook: NotebookPanel) => {\r\n    notebook.context.saveState.connect(this.handleSaveState);\r\n    notebook.content.activeCellChanged.connect(this.onActiveCellChanged);\r\n    if (notebook.model) {\r\n      notebook.model.cells.changed.connect(this.handleCellChange);\r\n    }\r\n  };\r\n\r\n  disconnectHandlersFromNotebook = (notebook: NotebookPanel) => {\r\n    notebook.context.saveState.disconnect(this.handleSaveState);\r\n    notebook.content.activeCellChanged.disconnect(this.onActiveCellChanged);\r\n    // when closing the notebook tab, notebook.model becomes null\r\n    if (notebook.model) {\r\n      notebook.model.cells.changed.disconnect(this.handleCellChange);\r\n    }\r\n  };\r\n\r\n  onActiveCellChanged = (notebook: Notebook, activeCell: Cell | null) => {\r\n    this.setState({\r\n      activeCellIndex: notebook.activeCellIndex,\r\n    });\r\n  };\r\n\r\n  handleSaveState = (context: DocumentRegistry.Context, state: SaveState) => {\r\n    if (this.state.checked && state === 'completed') {\r\n      this.generateEditorsPropsAndInlineMetadata();\r\n    }\r\n  };\r\n\r\n  handleCellChange = (\r\n    cells: any,\r\n    args: IObservableList.IChangedArgs<ICellModel>,\r\n  ) => {\r\n    this.refreshEditorsPropsAndInlineMetadata();\r\n\r\n    const prevValue = args.oldValues[0];\r\n    // Change type 'set' is when a cell changes its type. Even if a user changes\r\n    // multiple cells using Shift + click the args.oldValues has only one cell\r\n    // each time.\r\n    if (args.type === 'set' && prevValue instanceof CodeCellModel) {\r\n      CellUtils.setCellMetaData(\r\n        this.props.notebook,\r\n        args.newIndex,\r\n        'tags',\r\n        [],\r\n        true,\r\n      );\r\n    }\r\n\r\n    // Change type 'remove' is when a cell is removed from the notebook.\r\n    if (args.type === 'remove') {\r\n      TagsUtils.removeOldDependencies(this.props.notebook, prevValue);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Event handler for the global Kale switch (the one below the Kale title in\r\n   * the left panel). Enabling the switch propagates to the father component\r\n   * (LeftPanel) to enable the rest of the UI.\r\n   */\r\n  toggleGlobalKaleSwitch(checked: boolean) {\r\n    this.setState({ checked });\r\n    this.props.onMetadataEnable(checked);\r\n\r\n    if (checked) {\r\n      this.generateEditorsPropsAndInlineMetadata();\r\n\r\n      // When drawing cell metadata on Kale enable/disable, the targeted\r\n      // cell may be lost. Therefore, we select and scroll to the active\r\n      // cell.\r\n      if (this.props.notebook &&\r\n          this.props.notebook.content &&\r\n          this.props.notebook.content.activeCellIndex !== undefined &&\r\n          this.props.notebook.content.activeCellIndex >= 0) {\r\n        const activeCell = this.props.notebook.content.activeCell;\r\n        if (activeCell && activeCell.node) {\r\n          setTimeout(\r\n            NotebookUtils.selectAndScrollToCell,\r\n            200,\r\n            this.props.notebook,\r\n            {\r\n              cell: activeCell,\r\n              index: this.props.notebook.content.activeCellIndex,\r\n            },\r\n          );\r\n        }\r\n      }\r\n    } else {\r\n      this.setState({ isEditorVisible: false });\r\n      this.clearEditorsPropsAndInlineMetadata();\r\n    }\r\n  }\r\n\r\n  refreshEditorsPropsAndInlineMetadata() {\r\n    if (this.state.checked) {\r\n      this.clearEditorsPropsAndInlineMetadata(() => {\r\n        this.generateEditorsPropsAndInlineMetadata();\r\n      });\r\n      this.setState({ isEditorVisible: false });\r\n    }\r\n  }\r\n\r\n  clearEditorsPropsAndInlineMetadata = (callback?: () => void) => {\r\n    // triggers cleanup in InlineMetadata\r\n    this.setState({ metadataCmp: [], editors: {} }, () => {\r\n      if (callback) {\r\n        callback();\r\n      }\r\n    });\r\n  };\r\n\r\n  generateEditorsPropsAndInlineMetadata = () => {\r\n    if (!this.props.notebook || !this.props.notebook.model) {\r\n      return;\r\n    }\r\n    const metadata: any[] = [];\r\n    const editors: Editors = {};\r\n    const cells = this.props.notebook.model.cells;\r\n    for (let index = 0; index < cells.length; index++) {\r\n      const cellModel = this.props.notebook.model.cells.get(index);\r\n      const isCodeCell = isCodeCellModel(cellModel);\r\n      if (!isCodeCell) {\r\n        continue;\r\n      }\r\n\r\n      let tags = TagsUtils.getKaleCellTags(this.props.notebook.content, index);\r\n      if (!tags) {\r\n        tags = {\r\n          blockName: '',\r\n          prevBlockNames: [],\r\n        };\r\n      }\r\n      let previousBlockName = '';\r\n\r\n      if (!tags.blockName) {\r\n        previousBlockName = TagsUtils.getPreviousBlock(\r\n          this.props.notebook.content,\r\n          index,\r\n        );\r\n      }\r\n      editors[index] = {\r\n        notebook: this.props.notebook,\r\n        stepName: tags.blockName || '',\r\n        stepDependencies: tags.prevBlockNames || [],\r\n        limits: tags.limits || {},\r\n      };\r\n\r\n      const cellElement = this.props.notebook.content.widgets[index].node as HTMLElement;\r\n\r\n      if (!cellElement) {\r\n        console.warn(`Failed to get cell element for index ${index}, skipping metadata creation`);\r\n        continue;\r\n      }\r\n      metadata.push(\r\n        <InlineMetadata\r\n          key={index}\r\n          cellElement={cellElement}\r\n          blockName={tags.blockName}\r\n          stepDependencies={tags.prevBlockNames}\r\n          limits={tags.limits || {}}\r\n          previousBlockName={previousBlockName}\r\n          cellIndex={index}\r\n        />,\r\n      );\r\n    }\r\n\r\n    this.setState({\r\n      metadataCmp: metadata,\r\n      editors: editors,\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Callback passed to the CellMetadataEditor context\r\n   */\r\n  onEditorVisibilityChange(isEditorVisible: boolean) {\r\n    this.setState({ isEditorVisible });\r\n  }\r\n\r\n  render() {\r\n    // Get the editor props of the active cell, so that just one editor is\r\n    // rendered at any given time.\r\n    const activeEditorData = this.state.editors?.[this.state.activeCellIndex];\r\n\r\n    //notebook is always a NotebookPanel (never undefined)\r\n    // stepName is always a string (never undefined)\r\n    // stepDependencies is always a string array (never undefined)\r\n    // limits is always an object (never undefined)\r\n    const editorProps: EditorProps = activeEditorData ? {\r\n      notebook: activeEditorData.notebook,\r\n      stepName: activeEditorData.stepName || '',\r\n      stepDependencies: activeEditorData.stepDependencies || [],\r\n      limits: activeEditorData.limits || {},\r\n    } : {\r\n      notebook: this.props.notebook,\r\n      stepName: '',\r\n      stepDependencies: [],\r\n      limits: {},\r\n    };\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"toolbar input-container\">\r\n          <div className={'switch-label'}>Enable</div>\r\n          <Switch\r\n            checked={this.state.checked}\r\n            onChange={c => this.toggleGlobalKaleSwitch(c.target.checked)}\r\n            color=\"primary\"\r\n            name=\"enableKale\"\r\n            inputProps={{ 'aria-label': 'primary checkbox' }}\r\n            classes={{ root: 'material-switch' }}\r\n          />\r\n        </div>\r\n        <div className=\"hidden\">\r\n          <CellMetadataContext.Provider\r\n            value={{\r\n              activeCellIndex: this.state.activeCellIndex,\r\n              isEditorVisible: this.state.isEditorVisible,\r\n              onEditorVisibilityChange: this.onEditorVisibilityChange,\r\n            }}\r\n          >\r\n            <CellMetadataEditor\r\n              notebook={editorProps.notebook}\r\n              stepName={editorProps.stepName}\r\n              stepDependencies={editorProps.stepDependencies}\r\n              limits={editorProps.limits}\r\n            />\r\n            {this.state.metadataCmp}\r\n          </CellMetadataContext.Provider>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n","/*\r\n * Copyright 2019-2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as React from 'react';\r\nimport { Chip, Tooltip } from '@mui/material';\r\nimport ColorUtils from '../../lib/ColorUtils';\r\nimport {\r\n  RESERVED_CELL_NAMES,\r\n  RESERVED_CELL_NAMES_HELP_TEXT,\r\n} from './CellMetadataEditor';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport { CellMetadataContext } from '../../lib/CellMetadataContext';\r\n\r\ninterface IProps {\r\n  blockName: string;\r\n  previousBlockName: string;\r\n  stepDependencies: string[];\r\n  limits: { [id: string]: string };\r\n  cellElement: any;\r\n  cellIndex: number;\r\n}\r\n\r\ninterface IState {\r\n  cellTypeClass: string;\r\n  color: string;\r\n  dependencies: any[];\r\n  showEditor: boolean;\r\n  isMergedCell: boolean;\r\n}\r\n\r\nconst DefaultState: IState = {\r\n  cellTypeClass: '',\r\n  color: '',\r\n  dependencies: [],\r\n  showEditor: false,\r\n  isMergedCell: false,\r\n};\r\n// Check if an object is DOMElement\r\nfunction isDOMElement(obj: any): obj is HTMLElement {\r\n  return obj && \r\n         typeof obj === 'object' && \r\n         obj.nodeType === 1 && \r\n         typeof obj.classList !== 'undefined' &&\r\n         typeof obj.querySelector === 'function';\r\n}\r\n\r\n/**\r\n * This component is used by InlineCellMetadata to display some state information\r\n * on top of each cell that is tagged with Kale tags.\r\n *\r\n * When a cell is tagged with a step name and some dependencies, a chip with the\r\n * step name and a series of coloured dots for its dependencies are show.\r\n */\r\nexport class InlineMetadata extends React.Component<IProps, IState> {\r\n  static contextType = CellMetadataContext;\r\n  context!: React.ContextType<typeof CellMetadataContext>;\r\n  wrapperRef: React.RefObject<HTMLDivElement> = null;\r\n  state = DefaultState;\r\n  private retryCount = 0;\r\n  private maxRetries = 5;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    // We use this element referene in order to move it inside Notebooks's cell\r\n    // element.\r\n    this.wrapperRef = React.createRef();\r\n    this.openEditor = this.openEditor.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState(this.updateIsMergedState);\r\n    this.checkIfReservedName();\r\n    this.updateStyles();\r\n    this.updateDependencies();\r\n    this.attemptToMoveComponent();\r\n  }\r\n\r\n  attemptToMoveComponent() {\r\n    if (!isDOMElement(this.props.cellElement)) {\r\n      console.warn(`InlineMetadata: cellElement is not a valid DOM element (attempt ${this.retryCount + 1}/${this.maxRetries})`);\r\n      \r\n      if (this.retryCount < this.maxRetries) {\r\n        this.retryCount++;\r\n        // Exponential backoff: 100ms, 200ms, 400ms, 800ms, 1600ms\r\n        const delay = 100 * Math.pow(2, this.retryCount - 1);\r\n        setTimeout(() => {\r\n          this.attemptToMoveComponent();\r\n        }, delay);\r\n      } else {\r\n        console.error('InlineMetadata: Failed to find valid cellElement after maximum retries');\r\n      }\r\n      return;\r\n    }\r\n\r\n    this.moveComponentElementInCell();\r\n  }\r\n\r\n  moveComponentElementInCell() {\r\n    console.info('props value')\r\n    console.info(this.props)\r\n    if (!this.props.cellElement) {\r\n      console.warn('InlineMetadata: cellElement is undefined, cannot move component');\r\n      return;\r\n    }\r\n\r\n    if (!this.wrapperRef.current) {\r\n      console.warn('InlineMetadata: wrapperRef.current is null, cannot move component');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (!this.wrapperRef.current.classList.contains('moved')) {\r\n        this.wrapperRef.current.classList.add('moved');\r\n        this.props.cellElement.insertAdjacentElement(\r\n          'afterbegin',\r\n          this.wrapperRef.current,\r\n        );\r\n        console.log('InlineMetadata: Succesfully moved component to cell');\r\n      }\r\n    } catch (error) {\r\n      console.error('InlineMetadata: Error moving component element:', error);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const cellElement = this.props.cellElement;\r\n\r\n    if (isDOMElement(cellElement)) {\r\n      cellElement.classList.remove('kale-merged-cell');\r\n      const codeMirrorElem = cellElement.querySelector('.CodeMirror') as HTMLElement;\r\n      if (codeMirrorElem) {\r\n        codeMirrorElem.style.border = '';\r\n      }\r\n    }\r\n\r\n    if (this.wrapperRef?.current) {\r\n      this.wrapperRef.current.remove();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Readonly<IProps>, prevState: Readonly<IState>) {\r\n    const mergedState = this.updateIsMergedState(this.state, this.props);\r\n    if (mergedState) {\r\n      this.setState(mergedState);\r\n    }\r\n\r\n    if (\r\n      prevProps.blockName !== this.props.blockName ||\r\n      prevProps.previousBlockName !== this.props.previousBlockName\r\n    ) {\r\n      this.updateStyles();\r\n    }\r\n\r\n    if (prevProps.stepDependencies !== this.props.stepDependencies) {\r\n      this.updateDependencies();\r\n    }\r\n\r\n    if (prevProps.cellElement !== this.props.cellElement) {\r\n      this.retryCount = 0; // Reset retry count for new cellElement\r\n      this.attemptToMoveComponent();\r\n    }\r\n\r\n    this.checkIfReservedName();\r\n    const editorState = this.updateEditorState(this.state, this.props);\r\n    if (editorState) {\r\n      this.setState(editorState);\r\n    }\r\n  }\r\n\r\n  updateEditorState = (state: IState, props: IProps) => {\r\n    let showEditor = false;\r\n\r\n    if (this.context && this.context.isEditorVisible) {\r\n      if (this.context.activeCellIndex === props.cellIndex) {\r\n        showEditor = true;\r\n      }\r\n    }\r\n\r\n    if (showEditor === state.showEditor) {\r\n      return null;\r\n    }\r\n\r\n    return { showEditor };\r\n  };\r\n\r\n  updateIsMergedState = (state: IState, props: IProps) => {\r\n    let newIsMergedCell = false;\r\n    const cellElement = props.cellElement;\r\n    // Debug logging\r\n    // console.log('updateIsMergedState - cellElement:', cellElement);\r\n    // console.log('updateIsMergedState - cellElement type:', typeof cellElement);\r\n    // console.log('updateIsMergedState - has classList:', cellElement && 'classList' in cellElement);\r\n    if (!props.blockName) {\r\n      newIsMergedCell = true;\r\n\r\n      // TODO: This is a side effect, consider moving it somewhere else.\r\n      if (isDOMElement(cellElement)) {\r\n        cellElement.classList.add('kale-merged-cell');\r\n      }\r\n    } else {\r\n      if (isDOMElement(cellElement)) {\r\n        cellElement.classList.remove('kale-merged-cell');\r\n      }\r\n    }\r\n\r\n    if (newIsMergedCell === state.isMergedCell) {\r\n      return null;\r\n    }\r\n\r\n    return { isMergedCell: newIsMergedCell };\r\n  };\r\n\r\n  /**\r\n   * Check if the block tag of che current cell has a reserved name. If so,\r\n   * apply the corresponding css class to the HTML Cell element.\r\n   */\r\n  checkIfReservedName() {\r\n    this.setState((state: IState, props: IProps) => {\r\n      let cellTypeClass = '';\r\n      if (RESERVED_CELL_NAMES.includes(props.blockName)) {\r\n        cellTypeClass = 'kale-reserved-cell';\r\n      }\r\n\r\n      if (cellTypeClass === state.cellTypeClass) {\r\n        return null;\r\n      }\r\n      return { cellTypeClass };\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Update the style of the active cell, by changing the left border with\r\n   * the correct color, based on the current block name.\r\n   */\r\n  updateStyles() {\r\n    if (!isDOMElement(this.props.cellElement)) {\r\n      return;\r\n    }\r\n    const name = this.props.blockName || this.props.previousBlockName;\r\n    const codeMirrorElem = this.props.cellElement.querySelector(\r\n      '.CodeMirror',\r\n    ) as HTMLElement;\r\n\r\n    if (codeMirrorElem) {\r\n      codeMirrorElem.style.borderLeft = `2px solid transparent`;\r\n    }\r\n    if (!name) {\r\n      this.setState({ color: '' });\r\n      return;\r\n    }\r\n    const rgb = this.getColorFromName(name);\r\n    this.setState({ color: rgb });\r\n\r\n    if (codeMirrorElem) {\r\n      codeMirrorElem.style.borderLeft = `2px solid #${rgb}`;\r\n    }\r\n  }\r\n\r\n  getColorFromName(name: string) {\r\n    return ColorUtils.getColor(name);\r\n  }\r\n\r\n  createLimitsText() {\r\n    const gpuType = Object.keys(this.props.limits).includes('nvidia.com/gpu')\r\n      ? 'nvidia.com/gpu'\r\n      : Object.keys(this.props.limits).includes('amd.com/gpu')\r\n      ? 'amd.com/gpu'\r\n      : undefined;\r\n\r\n    return gpuType !== undefined ? (\r\n      <React.Fragment>\r\n        <p style={{ fontStyle: 'italic', marginLeft: '10px' }}>\r\n          GPU request: {gpuType + ' - '}\r\n          {this.props.limits[gpuType]}\r\n        </p>\r\n      </React.Fragment>\r\n    ) : (\r\n      ''\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Create a list of div dots that represent the dependencies of the current\r\n   * block\r\n   */\r\n  updateDependencies() {\r\n    const dependencies = this.props.stepDependencies.map((name, i) => {\r\n      const rgb = this.getColorFromName(name);\r\n      return (\r\n        <Tooltip placement=\"top\" key={i} title={name}>\r\n          <div\r\n            className=\"kale-inline-cell-dependency\"\r\n            style={{\r\n              backgroundColor: `#${rgb}`,\r\n            }}\r\n          ></div>\r\n        </Tooltip>\r\n      );\r\n    });\r\n    this.setState({ dependencies });\r\n  }\r\n\r\n  openEditor() {\r\n    console.log('=== openEditor DEBUG START ===');\r\n    console.log('1. openEditor called');\r\n    console.log('2. this:', this);\r\n    console.log('3. this.context:', this.context);\r\n    console.log('4. Current state:', this.state);\r\n    \r\n    try {\r\n      const showEditor = true;\r\n      console.log('5. About to setState with showEditor:', showEditor);\r\n      \r\n      this.setState({ showEditor }, () => {\r\n        console.log('6. setState callback - new state:', this.state);\r\n      });\r\n      \r\n      if (this.context) {\r\n        console.log('7. Context exists, checking onEditorVisibilityChange');\r\n        if (this.context.onEditorVisibilityChange) {\r\n          console.log('8. Calling context.onEditorVisibilityChange');\r\n          this.context.onEditorVisibilityChange(showEditor);\r\n        } else {\r\n          console.error('9. onEditorVisibilityChange method missing from context');\r\n        }\r\n      } else {\r\n        console.error('10. Context is null/undefined');\r\n      }\r\n      \r\n      console.log('11. openEditor completed successfully');\r\n    } catch (error) {\r\n      console.error('12. Error in openEditor:', error);\r\n    }\r\n    console.log('=== openEditor DEBUG END ===');\r\n  }\r\n\r\n  render() {\r\n    const details = RESERVED_CELL_NAMES.includes(\r\n      this.props.blockName,\r\n    ) ? null : (\r\n      <>\r\n        {/* Add a `depends on: ` string before the deps dots in case there are some*/}\r\n        {this.state.dependencies.length > 0 ? (\r\n          <p style={{ fontStyle: 'italic', margin: '0 5px' }}>depends on: </p>\r\n        ) : null}\r\n        {this.state.dependencies}\r\n\r\n        {this.createLimitsText()}\r\n      </>\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <div ref={this.wrapperRef}>\r\n          <div\r\n            className={\r\n              'kale-inline-cell-metadata' +\r\n              (this.state.isMergedCell ? ' hidden' : '')\r\n            }\r\n          >\r\n            {/* Add a `step: ` string before the Chip in case the chip belongs to a pipeline step*/}\r\n            {RESERVED_CELL_NAMES.includes(this.props.blockName) ? (\r\n              ''\r\n            ) : (\r\n              <p style={{ fontStyle: 'italic', marginRight: '5px' }}>step: </p>\r\n            )}\r\n\r\n            <Tooltip\r\n              placement=\"top\"\r\n              key={this.props.blockName + 'tooltip'}\r\n              title={\r\n                RESERVED_CELL_NAMES.includes(this.props.blockName)\r\n                  ? RESERVED_CELL_NAMES_HELP_TEXT[this.props.blockName]\r\n                  : 'This cell starts the pipeline step: ' +\r\n                    this.props.blockName\r\n              }\r\n            >\r\n              <Chip\r\n                className={`kale-chip ${this.state.cellTypeClass}`}\r\n                style={{ backgroundColor: `#${this.state.color}` }}\r\n                key={this.props.blockName}\r\n                label={this.props.blockName}\r\n              />\r\n            </Tooltip>\r\n\r\n            {details}\r\n          </div>\r\n\r\n          {/* <div\r\n            style={{ position: 'relative', minHeight: '24px' }}\r\n            className={this.state.showEditor ? ' hidden' : ''}\r\n            onClick={(e) => e.stopPropagation()} // Prevent cell selection on container\r\n            onMouseDown={(e) => e.stopPropagation()}\r\n          >\r\n            <button \r\n              className=\"kale-editor-toggle\"\r\n              onClick={(e) => {\r\n                console.log('Button clicked');\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                (e.nativeEvent as Event).stopImmediatePropagation?.();\r\n                this.openEditor();\r\n              }}\r\n              onMouseDown={(e) => {\r\n                console.log('Button mousedown - preventing propagation');\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                (e.nativeEvent as Event).stopImmediatePropagation?.();\r\n              }}\r\n              onMouseUp={(e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                (e.nativeEvent as Event).stopImmediatePropagation?.();\r\n              }}\r\n              title=\"Edit cell metadata\"\r\n              type=\"button\"\r\n              >\r\n              <EditIcon />\r\n            </button>\r\n          </div> */}\r\n          <button \r\n            onClick={(e) => {\r\n              console.log('=== BUTTON CLICK DEBUG START ===');\r\n              console.log('Button clicked event:', e);\r\n              console.log('Event target:', e.target);\r\n              console.log('Event currentTarget:', e.currentTarget);\r\n              alert('Button was clicked!'); // Visual confirmation\r\n              this.openEditor();\r\n              console.log('=== BUTTON CLICK DEBUG END ===');\r\n            }}\r\n            style={{\r\n              position: 'fixed', \r\n              top: '100px', \r\n              right: '10px', \r\n              zIndex: 9999,\r\n              backgroundColor: 'red',\r\n              color: 'white',\r\n              padding: '10px',\r\n              border: 'none',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            TEST EDIT\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/*\r\n * Copyright 2019-2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as React from 'react';\r\nimport { LinearProgress } from '@mui/material';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport LaunchIcon from '@mui/icons-material/Launch';\r\nimport ErrorIcon from '@mui/icons-material/Error';\r\nimport UnknownIcon from '@mui/icons-material/Help';\r\nimport PendingIcon from '@mui/icons-material/Schedule';\r\nimport SkippedIcon from '@mui/icons-material/SkipNext';\r\nimport SuccessIcon from '@mui/icons-material/CheckCircle';\r\nimport CancelIcon from '@mui/icons-material/Cancel';\r\n\r\nimport StatusRunning from '../../icons/statusRunning';\r\nimport TerminatedIcon from '../../icons/statusTerminated';\r\nimport { DeployProgressState } from './DeploysProgress';\r\nimport DeployUtils from './DeployUtils';\r\n// import { KatibProgress } from './KatibProgress';\r\n\r\n// From kubeflow/pipelines repo\r\nenum PipelineStatus {\r\n  ERROR = 'Error',\r\n  FAILED = 'Failed',\r\n  PENDING = 'Pending',\r\n  RUNNING = 'Running',\r\n  SKIPPED = 'Skipped',\r\n  SUCCEEDED = 'Succeeded',\r\n  TERMINATING = 'Terminating',\r\n  TERMINATED = 'Terminated',\r\n  UNKNOWN = 'Unknown',\r\n}\r\n\r\ninterface DeployProgress extends DeployProgressState {\r\n  onRemove?: () => void;\r\n}\r\n\r\nexport const DeployProgress: React.FunctionComponent<DeployProgress> = props => {\r\n  // const getSnapshotLink = (task: any) => {\r\n  //   if (!task.result || !task.result.event) {\r\n  //     return '#';\r\n  //   }\r\n  //   const link = `${window.location.origin}/_/rok/buckets/${task.bucket}/files/${task.result.event.object}/versions/${task.result.event.version}`;\r\n  //   return props.namespace ? `${link}?ns=${props.namespace}` : link;\r\n  // };\r\n\r\n  // const getTaskLink = (task: any) => {\r\n  //   const link = `${window.location.origin}/_/rok/buckets/${task.bucket}/tasks/${task.id}`;\r\n  //   return props.namespace ? `${link}?ns=${props.namespace}` : link;\r\n  // };\r\n\r\n  const getUploadLink = (pipeline: any) => {\r\n    // link: /_/pipeline/#/pipelines/details/<id>\r\n    // id = uploadPipeline.pipeline.id\r\n    if (!pipeline.pipeline || !pipeline.pipeline.pipelineid) {\r\n      return '#';\r\n    }\r\n    const link = `${window.location.origin}/_/pipeline/#/pipelines/details/${pipeline.pipeline.pipelineid}/version/${pipeline.pipeline.versionid}`;\r\n    return props.namespace\r\n      ? link.replace('#', `?ns=${props.namespace}#`)\r\n      : link;\r\n  };\r\n\r\n  const getRunLink = (run: any) => {\r\n    // link: /_/pipeline/#/runs/details/<id>\r\n    // id = runPipeline.id\r\n    if (!run.id) {\r\n      return '#';\r\n    }\r\n    const link = `${window.location.origin}/_/pipeline/#/runs/details/${run.id}`;\r\n    return props.namespace\r\n      ? link.replace('#', `?ns=${props.namespace}#`)\r\n      : link;\r\n  };\r\n\r\n  const getRunText = (pipeline: any) => {\r\n    switch (pipeline.status) {\r\n      case null:\r\n      case 'Running':\r\n        return 'View';\r\n      case 'Terminating':\r\n      case 'Failed':\r\n        return pipeline.status as string;\r\n      default:\r\n        return 'Done';\r\n    }\r\n  };\r\n\r\n  const getRunComponent = (pipeline: any) => {\r\n    let title = 'Unknown status';\r\n    let IconComponent: any = UnknownIcon;\r\n    let iconColor = '#5f6368';\r\n\r\n    switch (pipeline.status) {\r\n      case PipelineStatus.ERROR:\r\n        IconComponent = ErrorIcon;\r\n        iconColor = DeployUtils.color.errorText;\r\n        // title = 'Error';\r\n        break;\r\n      case PipelineStatus.FAILED:\r\n        IconComponent = ErrorIcon;\r\n        iconColor = DeployUtils.color.errorText;\r\n        // title = 'Failed';\r\n        break;\r\n      case PipelineStatus.PENDING:\r\n        IconComponent = PendingIcon;\r\n        iconColor = DeployUtils.color.weak;\r\n        // title = 'Pendig';\r\n        break;\r\n      case PipelineStatus.RUNNING:\r\n        IconComponent = StatusRunning;\r\n        iconColor = DeployUtils.color.blue;\r\n        // title = 'Running';\r\n        break;\r\n      case PipelineStatus.TERMINATING:\r\n        IconComponent = StatusRunning;\r\n        iconColor = DeployUtils.color.blue;\r\n        // title = 'Terminating';\r\n        break;\r\n      case PipelineStatus.SKIPPED:\r\n        IconComponent = SkippedIcon;\r\n        // title = 'Skipped';\r\n        break;\r\n      case PipelineStatus.SUCCEEDED:\r\n        IconComponent = SuccessIcon;\r\n        iconColor = DeployUtils.color.success;\r\n        // title = 'Succeeded';\r\n        break;\r\n      case PipelineStatus.TERMINATED:\r\n        IconComponent = TerminatedIcon;\r\n        iconColor = DeployUtils.color.terminated;\r\n        // title = 'Terminated';\r\n        break;\r\n      case PipelineStatus.UNKNOWN:\r\n        break;\r\n      default:\r\n        console.error('pipeline status:', pipeline.status);\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {getRunText(pipeline)}\r\n        <IconComponent style={{ color: iconColor, height: 18, width: 18 }} />\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  const handleCompileClick = () => {\r\n    if (props.docManager && props.compiledPath) {\r\n      try {\r\n        props.docManager.openOrReveal(props.compiledPath);\r\n      } catch (error) {\r\n        console.error('Error opening compiled path:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Handle close click safely\r\n  const handleCloseClick = () => {\r\n    if (props.onRemove) {\r\n      props.onRemove();\r\n    }\r\n  };\r\n\r\n  // const getKatibKfpExperimentLink = (experimentId: string) => {\r\n  //   // link: /_/pipeline/#/experiments/details/<ud>\r\n  //   if (!experimentId) {\r\n  //     return '#';\r\n  //   }\r\n  //   const link = `${window.location.origin}/_/pipeline/#/experiments/details/${experimentId}`;\r\n  //   return props.namespace\r\n  //     ? link.replace('#', `?ns=${props.namespace}#`)\r\n  //     : link;\r\n  // };\r\n\r\n  // const getSnapshotTpl = () => {\r\n  //   if (!props.task) {\r\n  //     return (\r\n  //       <React.Fragment>\r\n  //         Unknown status\r\n  //         <UnknownIcon\r\n  //           style={{\r\n  //             color: DeployUtils.color.terminated,\r\n  //             height: 18,\r\n  //             width: 18,\r\n  //           }}\r\n  //         />\r\n  //       </React.Fragment>\r\n  //     );\r\n  //   }\r\n\r\n  //   if (!['success', 'error', 'canceled'].includes(props.task.status)) {\r\n  //     const progress = props.task.progress || 0;\r\n  //     return (\r\n  //       <LinearProgress\r\n  //         variant=\"determinate\"\r\n  //         color=\"primary\"\r\n  //         value={progress}\r\n  //       />\r\n  //     );\r\n  //   }\r\n\r\n  //   let getLink: (task: any) => string = () => '#';\r\n  //   let message = props.task.message;\r\n  //   let IconComponent: any = UnknownIcon;\r\n  //   let iconColor = DeployUtils.color.blue;\r\n\r\n  //   switch (props.task.status) {\r\n  //     case 'success':\r\n  //       getLink = getSnapshotLink;\r\n  //       message = 'Done';\r\n  //       IconComponent = LaunchIcon;\r\n  //       break;\r\n  //     case 'error':\r\n  //       getLink = getTaskLink;\r\n  //       IconComponent = ErrorIcon;\r\n  //       iconColor = DeployUtils.color.errorText;\r\n  //       break;\r\n  //     case 'canceled':\r\n  //       IconComponent = CancelIcon;\r\n  //       getLink = getTaskLink;\r\n  //       iconColor = DeployUtils.color.canceled;\r\n  //       break;\r\n  //   }\r\n\r\n  //   return (\r\n  //     <React.Fragment>\r\n  //       <a href={getLink(props.task)} target=\"_blank\" rel=\"noopener noreferrer\">\r\n  //         {message}\r\n  //         <IconComponent style={{ color: iconColor, height: 18, width: 18 }} />\r\n  //       </a>\r\n  //     </React.Fragment>\r\n  //   );\r\n  // };\r\n\r\n  let validationTpl;\r\n  if (props.notebookValidation === true) {\r\n    validationTpl = (\r\n      <React.Fragment>\r\n        <SuccessIcon\r\n          style={{ color: DeployUtils.color.success, height: 18, width: 18 }}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  } else if (props.notebookValidation === false) {\r\n    validationTpl = (\r\n      <React.Fragment>\r\n        <ErrorIcon\r\n          style={{ color: DeployUtils.color.errorText, height: 18, width: 18 }}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  } else {\r\n    validationTpl = <LinearProgress color=\"primary\" />;\r\n  }\r\n\r\n  let compileTpl;\r\n  if (props.compiledPath && props.compiledPath !== 'error') {\r\n    compileTpl = (\r\n      <React.Fragment>\r\n        <a \r\n          onClick={handleCompileClick}\r\n          style={{ cursor: 'pointer' }}\r\n          role=\"button\"\r\n          tabIndex={0}\r\n          onKeyPress={(e) => {\r\n            if (e.key === 'Enter' || e.key === ' ') {\r\n              handleCompileClick();\r\n            }\r\n          }}\r\n        >\r\n          Done\r\n          <SuccessIcon\r\n            style={{ color: DeployUtils.color.success, height: 18, width: 18 }}\r\n          />\r\n        </a>\r\n      </React.Fragment>\r\n    );\r\n  } else if (props.compiledPath === 'error') {\r\n    compileTpl = (\r\n      <React.Fragment>\r\n        <ErrorIcon\r\n          style={{ color: DeployUtils.color.errorText, height: 18, width: 18 }}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  } else {\r\n    compileTpl = <LinearProgress color=\"primary\" />;\r\n  }\r\n\r\n  let uploadTpl;\r\n  if (props.pipeline) {\r\n    uploadTpl = (\r\n      <React.Fragment>\r\n        <a\r\n          href={getUploadLink(props.pipeline)}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          Done\r\n          <LaunchIcon style={{ height: 18, width: 18 }} />\r\n        </a>\r\n      </React.Fragment>\r\n    );\r\n  } else if (props.pipeline === false) {\r\n    uploadTpl = (\r\n      <React.Fragment>\r\n        <ErrorIcon\r\n          style={{ color: DeployUtils.color.errorText, height: 18, width: 18 }}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  } else {\r\n    uploadTpl = <LinearProgress color=\"primary\" />;\r\n  }\r\n\r\n  let runTpl;\r\n  if (props.runPipeline) {\r\n    runTpl = (\r\n      <React.Fragment>\r\n        <a\r\n          href={getRunLink(props.runPipeline)}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          {getRunComponent(props.runPipeline)}\r\n        </a>\r\n      </React.Fragment>\r\n    );\r\n  } else if (props.runPipeline === false) {\r\n    runTpl = (\r\n      <React.Fragment>\r\n        <ErrorIcon\r\n          style={{ color: DeployUtils.color.errorText, height: 18, width: 18 }}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  } else {\r\n    runTpl = <LinearProgress color=\"primary\" />;\r\n  }\r\n\r\n  // let katibKfpExpTpl;\r\n  // if (!props.katibKFPExperiment) {\r\n  //   katibKfpExpTpl = <LinearProgress color=\"primary\" />;\r\n  // } else if (props.katibKFPExperiment.id !== 'error') {\r\n  //   katibKfpExpTpl = (\r\n  //     <React.Fragment>\r\n  //       <a\r\n  //         href={getKatibKfpExperimentLink(props.katibKFPExperiment.id)}\r\n  //         target=\"_blank\"\r\n  //         rel=\"noopener noreferrer\"\r\n  //       >\r\n  //         Done\r\n  //         <LaunchIcon style={{ fontSize: '1rem' }} />\r\n  //       </a>\r\n  //     </React.Fragment>\r\n  //   );\r\n  // } else {\r\n  //   katibKfpExpTpl = (\r\n  //     <React.Fragment>\r\n  //       <ErrorIcon\r\n  //         style={{ color: DeployUtils.color.errorText, height: 18, width: 18 }}\r\n  //       />\r\n  //     </React.Fragment>\r\n  //   );\r\n  // }\r\n\r\n  return (\r\n    <div className=\"deploy-progress\">\r\n      <div\r\n        style={{\r\n          justifyContent: 'flex-end',\r\n          textAlign: 'right',\r\n          paddingRight: '4px',\r\n          height: '1rem',\r\n        }}\r\n      >\r\n        <CloseIcon\r\n          style={{ fontSize: '1rem', cursor: 'pointer' }}\r\n          onClick={handleCloseClick}\r\n        />\r\n      </div>\r\n\r\n      {props.showValidationProgress ? (\r\n        <div className=\"deploy-progress-row\">\r\n          <div className=\"deploy-progress-label\">Validating notebook...</div>\r\n          <div className=\"deploy-progress-value\">\r\n            {validationTpl}\r\n            {DeployUtils.getWarningBadge(\r\n              'Validation Warnings',\r\n              props.validationWarnings,\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n\r\n      {/* {props.showSnapshotProgress ? (\r\n        <div className=\"deploy-progress-row\">\r\n          <div className=\"deploy-progress-label\">Taking snapshot...</div>\r\n          <div className=\"deploy-progress-value\">\r\n            {getSnapshotTpl()}{' '}\r\n            {DeployUtils.getWarningBadge(\r\n              'Snapshot Warnings',\r\n              props.snapshotWarnings,\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : null} */}\r\n\r\n      {props.showCompileProgress ? (\r\n        <div className=\"deploy-progress-row\">\r\n          <div className=\"deploy-progress-label\">Compiling notebook...</div>\r\n          <div className=\"deploy-progress-value\">\r\n            {compileTpl}\r\n            {DeployUtils.getWarningBadge(\r\n              'Compile Warnings',\r\n              props.compileWarnings,\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n\r\n      {props.showUploadProgress ? (\r\n        <div className=\"deploy-progress-row\">\r\n          <div className=\"deploy-progress-label\">Uploading pipeline...</div>\r\n          <div className=\"deploy-progress-value\">\r\n            {uploadTpl}\r\n            {DeployUtils.getWarningBadge(\r\n              'Upload Warnings',\r\n              props.uploadWarnings,\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n\r\n      {props.showRunProgress ? (\r\n        <div className=\"deploy-progress-row\">\r\n          <div className=\"deploy-progress-label\">Running pipeline...</div>\r\n          <div className=\"deploy-progress-value\">\r\n            {runTpl}\r\n            {DeployUtils.getWarningBadge('Run Warnings', props.runWarnings)}\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n\r\n      {/* {props.showKatibKFPExperiment ? (\r\n        <div className=\"deploy-progress-row\">\r\n          <div className=\"deploy-progress-label\">\r\n            Creating KFP experiment...\r\n          </div>\r\n          <div className=\"deploy-progress-value\">{katibKfpExpTpl}</div>\r\n        </div>\r\n      ) : null} */}\r\n\r\n      {/* {props.showKatibProgress ? (\r\n        <KatibProgress experiment={props.katib} />\r\n      ) : null} */}\r\n      {/* KatibProgress disabled in this build */}\r\n    </div>\r\n  );\r\n};\r\n","/*\r\n * Copyright 2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport * as React from 'react';\r\nimport WarningIcon from '@mui/icons-material/Warning';\r\nimport InfoIcon from '@mui/icons-material/Info';\r\n\r\nimport NotebookUtils from '../../lib/NotebookUtils';\r\n\r\nexport default class DeployUtils {\r\n  static color = {\r\n    // From kubeflow/pipelines repo\r\n    activeBg: '#eaf1fd',\r\n    alert: '#f9ab00', // Google yellow 600\r\n    background: '#fff',\r\n    blue: '#4285f4', // Google blue 500\r\n    disabledBg: '#ddd',\r\n    divider: '#e0e0e0',\r\n    errorBg: '#fbe9e7',\r\n    errorText: '#d50000',\r\n    foreground: '#000',\r\n    graphBg: '#f2f2f2',\r\n    grey: '#5f6368', // Google grey 500\r\n    inactive: '#5f6368',\r\n    lightGrey: '#eee', // Google grey 200\r\n    lowContrast: '#80868b', // Google grey 600\r\n    secondaryText: 'rgba(0, 0, 0, .88)',\r\n    separator: '#e8e8e8',\r\n    strong: '#202124', // Google grey 900\r\n    success: '#34a853',\r\n    successWeak: '#e6f4ea', // Google green 50\r\n    terminated: '#80868b',\r\n    theme: '#1a73e8',\r\n    themeDarker: '#0b59dc',\r\n    warningBg: '#f9f9e1',\r\n    warningText: '#ee8100',\r\n    weak: '#9aa0a6',\r\n    // From Rok repo\r\n    canceled: '#ff992a',\r\n  };\r\n\r\n  public static getInfoBadge(title: string, content: any) {\r\n    return (\r\n      content && (\r\n        <a\r\n          onClick={_ => {\r\n            NotebookUtils.showMessage(title, content);\r\n          }}\r\n        >\r\n          <InfoIcon style={{ color: this.color.blue, height: 18, width: 18 }} />\r\n        </a>\r\n      )\r\n    );\r\n  }\r\n\r\n  public static getWarningBadge(title: string, content: any) {\r\n    return (\r\n      content && (\r\n        <a\r\n          onClick={_ => {\r\n            NotebookUtils.showMessage(title, content);\r\n          }}\r\n        >\r\n          <WarningIcon\r\n            style={{\r\n              color: this.color.alert,\r\n              height: 18,\r\n              width: 18,\r\n            }}\r\n          />\r\n        </a>\r\n      )\r\n    );\r\n  }\r\n}\r\n","/*\r\n * Copyright 2019-2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as React from 'react';\r\nimport { CircularProgress } from '@mui/material';\r\nimport { IDocumentManager } from '@jupyterlab/docmanager';\r\n\r\nimport { DeployProgress } from './DeployProgress';\r\n// import { IKatibExperiment } from '../LeftPanel';\r\n\r\nexport type DeployProgressState = {\r\n  showValidationProgress?: boolean;\r\n  notebookValidation?: boolean;\r\n  validationWarnings?: boolean;\r\n  // showSnapshotProgress?: boolean;\r\n  task?: any;\r\n  // snapshotWarnings?: any;\r\n  showCompileProgress?: boolean;\r\n  compiledPath?: string;\r\n  compileWarnings?: any;\r\n  showUploadProgress?: boolean;\r\n  pipeline?: false | any;\r\n  uploadWarnings?: any;\r\n  showRunProgress?: boolean;\r\n  runPipeline?: any;\r\n  runWarnings?: any;\r\n  // showKatibProgress?: boolean;\r\n  // katib?: IKatibExperiment;\r\n  // showKatibKFPExperiment?: boolean;\r\n  // katibKFPExperiment?: { id: string; name: string };\r\n  deleted?: boolean;\r\n  docManager?: IDocumentManager;\r\n  namespace?: string;\r\n  message?: string;\r\n};\r\n\r\ninterface DeploysProgress {\r\n  deploys: { [key: number]: DeployProgressState };\r\n  onPanelRemove: (index: number) => void;\r\n}\r\n\r\nexport const DeploysProgress: React.FunctionComponent<DeploysProgress> = props => {\r\n  const [items, setItems] = React.useState<React.JSX.Element[]>([]);\r\n  const getItems = (_deploys: { [key: number]: DeployProgressState }): React.JSX.Element[] => {\r\n    return Object.entries(_deploys)\r\n      .filter((dp): dp is [string, DeployProgressState] => {\r\n        // Type guard to ensure proper typing\r\n        return dp[1] && typeof dp[1] === 'object' && !dp[1].deleted;\r\n      })\r\n      .map((dp: [string, DeployProgressState]): React.JSX.Element => {\r\n        const index = dp[0];\r\n        const dpState = dp[1];\r\n        return (\r\n          <DeployProgress\r\n            key={`d-${index}`}\r\n            showValidationProgress={dpState.showValidationProgress}\r\n            notebookValidation={dpState.notebookValidation}\r\n            validationWarnings={dpState.validationWarnings}\r\n            // showSnapshotProgress={dpState.showSnapshotProgress}\r\n            task={dpState.task}\r\n            // snapshotWarnings={dpState.snapshotWarnings}\r\n            showCompileProgress={dpState.showCompileProgress}\r\n            compiledPath={dpState.compiledPath}\r\n            compileWarnings={dpState.compileWarnings}\r\n            showUploadProgress={dpState.showUploadProgress}\r\n            pipeline={dpState.pipeline}\r\n            uploadWarnings={dpState.uploadWarnings}\r\n            showRunProgress={dpState.showRunProgress}\r\n            runPipeline={dpState.runPipeline}\r\n            runWarnings={dpState.runWarnings}\r\n            // showKatibProgress={dpState.showKatibProgress}\r\n            // katib={dpState.katib}\r\n            // showKatibKFPExperiment={dpState.showKatibKFPExperiment}\r\n            // katibKFPExperiment={dpState.katibKFPExperiment}\r\n            onRemove={_onPanelRemove(Number(index))}\r\n            docManager={dpState.docManager}\r\n            namespace={dpState.namespace}\r\n          />\r\n        );\r\n      });\r\n  };\r\n\r\n  const _onPanelRemove = (index?: number) => {\r\n    return () => {\r\n      console.log('remove', index);\r\n      if (typeof index === 'number') {\r\n        props.onPanelRemove(index);\r\n      }\r\n    };\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    setItems(getItems(props.deploys));\r\n  }, [props.deploys]); // Only re-run the effect if props.deploys changes\r\n\r\n  return <div className=\"deploys-progress\">{items}</div>;\r\n};\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/@jupyterlab/builder/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/@jupyterlab/builder/node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../node_modules/@jupyterlab/builder/node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"data:image/svg+xml,%3Csvg id=%27Kale_Logo%27 data-name=%27Kale Logo%27 xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 48 48%27%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23753bbd%7D%3C/style%3E%3C/defs%3E%3Cpath class=%27cls-1%27 d=%27M25.37 14.35a14.94 14.94 0 0110.7-6c0-.08-.08-.16-.14-.23a5 5 0 00-1.66-1.35 3.79 3.79 0 01-.54-.35 3.29 3.29 0 01-.32-.64 4.7 4.7 0 00-1.08-1.72 5.22 5.22 0 00-2-1 4.1 4.1 0 01-.56-.22 3.5 3.5 0 01-.53-.62A4.49 4.49 0 0027.81.81 4.48 4.48 0 0025.65.3a1.42 1.42 0 00-.28 0zM22.37.34a1.29 1.29 0 00-.28 0 4.48 4.48 0 00-2.16.52 4.49 4.49 0 00-1.47 1.42 3.51 3.51 0 01-.53.62 4.1 4.1 0 01-.56.22 5.22 5.22 0 00-2 1 4.69 4.69 0 00-1.08 1.72 3.3 3.3 0 01-.32.64 3.79 3.79 0 01-.54.35 5 5 0 00-1.66 1.35 4.67 4.67 0 00-.73 1.92 3.36 3.36 0 01-.18.67 3.61 3.61 0 01-.46.46 4.83 4.83 0 00-1.3 1.64 4.6 4.6 0 00-.29 2.06 3.33 3.33 0 010 .68 3.54 3.54 0 01-.34.55 4.7 4.7 0 00-.9 1.95 4.56 4.56 0 00.25 2.08 4 4 0 01.16.63c0 .09-.11.26-.17.38a3.72 3.72 0 00-.48 1.8A3.88 3.88 0 008 24.85l.16.27c0 .1-.07.25-.1.35a3.67 3.67 0 00-.18 1.87 3.88 3.88 0 001 1.75l.2.24v.38a3.62 3.62 0 00.23 1.9 3.91 3.91 0 001.4 1.52l.26.19c0 .1.06.26.08.38a3.64 3.64 0 00.74 1.8 4 4 0 001.79 1.11l.31.12c.06.09.14.24.19.36a3.72 3.72 0 001.21 1.52 6.55 6.55 0 002.34.64 11.24 11.24 0 013.74 8.39h1zM39.58 25.12l.16-.27A3.88 3.88 0 0040.4 23a3.73 3.73 0 00-.47-1.79 3.8 3.8 0 01-.17-.38 4.06 4.06 0 01.16-.63 4.56 4.56 0 00.25-2.08 4.69 4.69 0 00-.9-1.95 3.56 3.56 0 01-.34-.55 3.34 3.34 0 010-.68 4.6 4.6 0 00-.29-2.06 4.52 4.52 0 00-1.22-1.55h-.09a12 12 0 00-11.94 11.59A14.89 14.89 0 0137.27 33a3.57 3.57 0 001.2-1.37 3.62 3.62 0 00.23-1.9v-.38l.2-.24a3.89 3.89 0 001-1.75 3.66 3.66 0 00-.18-1.87c-.07-.12-.12-.27-.14-.37zM25.37 26v21.63h1a11.19 11.19 0 013.81-8.39 6.55 6.55 0 002.34-.64 3.71 3.71 0 001.21-1.52c.06-.11.14-.27.19-.36l.31-.12a7 7 0 00.81-.34C34.26 31 30.1 26.73 25.37 26z%27/%3E%3C/svg%3E\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*\r\n * Copyright 2019-2020 The Kale Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/*-----------------------------------------------------------------------------\r\n| Icons\r\n|----------------------------------------------------------------------------*/\r\n\r\n.jp-kale-logo {\r\n  background-image: url(${___CSS_LOADER_URL_REPLACEMENT_0___});\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n\r\n/*-----------------------------------------------------------------------------\r\n| Components\r\n|----------------------------------------------------------------------------*/\r\n\r\n.kale-component {\r\n  padding: 5px 0px;\r\n}\r\n\r\n.kale-header {\r\n  color: #477ef0;\r\n  letter-spacing: 0.4px;\r\n  /*margin-top: 8px;*/\r\n  padding: 5px;\r\n  font-size: var(--jp-ui-font-size2);\r\n  font-weight: 800;\r\n  /* text-transform: uppercase; */\r\n  /*border-bottom: solid var(--jp-border-width) var(--jp-border-color2);*/\r\n}\r\n\r\n.kale-header.katib-dialog-header {\r\n  padding: 5px 0;\r\n  margin: 20px 0 10px 0;\r\n}\r\n\r\n.kale-header.katib-headers-tooltip {\r\n  height: 0.7em;\r\n  opacity: 0.75;\r\n}\r\n\r\n.kale-header-switch {\r\n  flex: 0 0 auto;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  display: -webkit-box; /* OLD - iOS 6-, Safari 3.1-6 */\r\n  display: -moz-box; /* OLD - Firefox 19- (buggy but mostly works) */\r\n  display: -ms-flexbox; /* TWEENER - IE 10 */\r\n  display: -webkit-flex; /* NEW - Chrome */\r\n  display: flex;\r\n}\r\n\r\n.kale-footer {\r\n  padding: 5px 0px;\r\n  bottom: 0;\r\n  width: 100%;\r\n  z-index: 10;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-top: 1px solid var(--jp-border-color2);\r\n  margin-top: auto;\r\n}\r\n\r\n/*-----------------------------------------------------------------------------\r\n| Deploy Button\r\n|----------------------------------------------------------------------------*/\r\n\r\n.kale-panel {\r\n  min-width: 300px !important;\r\n}\r\n\r\n.kubeflow-widget {\r\n  flex-direction: column;\r\n  min-width: var(--jp-sidebar-min-width);\r\n  color: var(--jp-ui-font-color1);\r\n  background: var(--jp-layout-color1);\r\n  font-size: var(--jp-ui-font-size1);\r\n  overflow: auto;\r\n  height: 100%;\r\n  display: -webkit-box; /* OLD - iOS 6-, Safari 3.1-6 */\r\n  display: -moz-box; /* OLD - Firefox 19- (buggy but mostly works) */\r\n  display: -ms-flexbox; /* TWEENER - IE 10 */\r\n  display: -webkit-flex; /* NEW - Chrome */\r\n  display: flex;\r\n}\r\n\r\n.kubeflow-widget-content {\r\n  min-width: var(--jp-sidebar-min-width);\r\n  /* height: calc(100% - 42px); */\r\n  overflow: auto;\r\n  /* border-bottom: 1px solid var(--jp-border-color2); */\r\n}\r\n\r\n/*-----------------------------------------------------------------------------\r\n| Deploy Button\r\n|----------------------------------------------------------------------------*/\r\n/*\r\n.deploy-button {\r\n\r\n}\r\n*/\r\n\r\n.deploy-button button {\r\n  height: 30px;\r\n  width: 95%;\r\n  border-radius: 2px;\r\n  font-size: 12px;\r\n  border-width: 0;\r\n  padding: 2px 4px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n}\r\n\r\n/*-----------------------------------------------------------------------------\r\n| Inputs\r\n|----------------------------------------------------------------------------*/\r\n\r\n.input-container {\r\n  padding: 10px 12px;\r\n  z-index: 2;\r\n}\r\n\r\n.input-wrapper {\r\n  margin-top: 5px;\r\n  overflow: overlay;\r\n  padding: 0 9px;\r\n  background-color: var(--jp-input-active-background);\r\n  /*height: 30px;*/\r\n  box-shadow: inset 0 0 0 var(--jp-border-width) var(--jp-input-border-color);\r\n}\r\n\r\n.input-focus {\r\n  box-shadow: inset 0 0 0 1px var(--jp-input-active-box-shadow-color),\r\n    inset 0 0 0 3px var(--jp-input-active-box-shadow-color);\r\n}\r\n\r\n.input-wrapper input,\r\ntextarea {\r\n  background: transparent;\r\n  width: calc(100% - 18px);\r\n  float: left;\r\n  border: none;\r\n  outline: none;\r\n  font-size: var(--jp-ui-font-size1);\r\n  color: var(--jp-ui-font-color0);\r\n  line-height: var(--jp-private-commandpalette-search-height);\r\n}\r\n\r\n.input-wrapper input::-webkit-input-placeholder,\r\n.input-wrapper input::-moz-placeholder,\r\n.input-wrapper input:-ms-input-placeholder {\r\n  color: var(--jp-ui-font-color3);\r\n  font-size: var(--jp-ui-font-size1);\r\n}\r\n\r\n.input-error-label {\r\n  color: var(--jp-error-color0);\r\n  padding: 5px 10px 0;\r\n  font-size: var(--jp-ui-font-size0);\r\n  line-height: normal;\r\n}\r\n\r\n.volume-container {\r\n  border-top: 2px solid var(--jp-layout-color2);\r\n}\r\n\r\n.volume-container:last-child {\r\n  border-bottom: 2px solid var(--jp-layout-color2);\r\n}\r\n\r\n/*https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Aligning_Items_in_a_Flex_Container*/\r\n.toolbar {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: none;\r\n  height: auto;\r\n  box-shadow: none;\r\n}\r\n\r\n.minimal-toolbar-button {\r\n  box-shadow: none;\r\n  background: none;\r\n  background: var(--jp-layout-color1);\r\n  border: none;\r\n  appearance: none;\r\n  -moz-appearance: none;\r\n  padding: 0px 6px;\r\n  height: 24px;\r\n  border-radius: var(--jp-border-radius);\r\n  display: flex;\r\n  cursor: pointer;\r\n}\r\n\r\n.minimal-toolbar-button:hover {\r\n  background-color: var(--jp-layout-color2);\r\n}\r\n\r\n.volumes-select {\r\n  width: 80%;\r\n}\r\n\r\n.react-select-container {\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  margin: 5px 0;\r\n}\r\n\r\n.react-select__indicator {\r\n  padding: 0 !important;\r\n}\r\n\r\n.react-select__control {\r\n  min-height: 0 !important;\r\n}\r\n\r\n.p-mod-hidden {\r\n  display: none;\r\n}\r\n\r\n.prev-blockname-container {\r\n  z-index: 2;\r\n  color: var(--jp-info-color0);\r\n  padding: 5px 22px 0;\r\n  font-size: var(--jp-ui-font-size0);\r\n  line-height: normal;\r\n}\r\n\r\n.switch-label {\r\n  display: table-cell;\r\n  vertical-align: middle;\r\n  padding-right: 10px;\r\n  font-size: var(--jp-ui-font-size2);\r\n}\r\n\r\n.skip-cell-info-text {\r\n  padding: 0 10px 5px 10px;\r\n  font-size: var(--jp-ui-font-size0);\r\n  line-height: normal;\r\n}\r\n\r\n.jp-Dialog-content {\r\n  max-width: 75% !important;\r\n}\r\n\r\n.add-button {\r\n  padding: 5px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.delete-button button {\r\n  padding: 5px 0px;\r\n  margin: 0px 10px;\r\n  min-width: 0px;\r\n  min-height: 0px;\r\n  width: 80%;\r\n  height: 80%;\r\n  border-radius: 50%;\r\n  color: rgb(255, 0, 25);\r\n  background: white;\r\n  box-shadow: none;\r\n}\r\n\r\n.delete-button button:hover {\r\n  color: rgb(189, 21, 35);\r\n}\r\n\r\n.delete-button svg {\r\n  transform: scale(0.8);\r\n}\r\n\r\na {\r\n  text-decoration: underline;\r\n  color: #477ef0;\r\n}\r\n\r\n.pre {\r\n  white-space: pre;\r\n}\r\n\r\n.hidden {\r\n  display: none !important;\r\n}\r\n\r\n.deploy-progress {\r\n  border-top: 2px solid var(--jp-border-color2);\r\n}\r\n\r\n.deploy-progress:last-child {\r\n  border-bottom: 2px solid var(--jp-border-color2);\r\n}\r\n\r\n.deploy-progress-label {\r\n  /* min-width: 116px; */\r\n  white-space: pre;\r\n}\r\n\r\n.labels-indented p {\r\n  padding-left: 20px;\r\n}\r\n\r\n.deploy-progress-value {\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.deploy-progress-value a {\r\n  height: 16px;\r\n  display: flex;\r\n  margin-left: 5px;\r\n}\r\n\r\n.deploy-progress-value svg {\r\n  margin-left: 0.25rem;\r\n}\r\n\r\n.deploy-progress-value .MuiLinearProgress-root {\r\n  margin-left: 0.25rem;\r\n  width: 100%;\r\n}\r\n\r\n.deploy-progress-row {\r\n  margin: 0 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px 0;\r\n  border-bottom: 1px solid var(--jp-border-color2);\r\n}\r\n\r\n.deploy-progress-row:last-child {\r\n  border-bottom: none;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.kale-inline-cell-metadata {\r\n  /* FIXME: find a way to calculate margin */\r\n  margin-left: 73px;\r\n  margin-top: 8px;\r\n  margin-bottom: 4px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.kale-inline-cell-dependency {\r\n  border-radius: 50%;\r\n  width: 10px;\r\n  height: 10px;\r\n  display: inline-block;\r\n  margin-left: 4px;\r\n}\r\n\r\n.jp-Notebook .jp-Cell.kale-merged-cell {\r\n  padding-top: 0;\r\n}\r\n\r\n.kale-metadata-editor-wrapper {\r\n  margin-left: 73px;\r\n  position: relative;\r\n}\r\n\r\n/* .kale-editor-toggle {\r\n  border: 0;\r\n  width: 16px;\r\n  height: 16px;\r\n  padding: 0;\r\n  cursor: pointer;\r\n  position: absolute;\r\n  z-index: 3;\r\n  right: 3px;\r\n  top: 3px;\r\n  color: var(--jp-inverse-layout-color3);\r\n} */\r\n\r\n.kale-editor-toggle {\r\n  border: 1px solid var(--jp-border-color1);\r\n  width: 20px;\r\n  height: 20px;\r\n  padding: 2px;\r\n  cursor: pointer;\r\n  position: absolute;\r\n  z-index: 100;\r\n  right: 3px;\r\n  top: 3px;\r\n  background-color: var(--jp-cell-editor-background);\r\n  border-radius: 3px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  pointer-events: auto;\r\n}\r\n\r\n.kale-editor-toggle:hover {\r\n  background-color: var(--jp-layout-color2);\r\n  border-color: var(--jp-border-color2);\r\n}\r\n\r\n.kale-editor-toggle > svg {\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n.kale-editor-toggle > svg {\r\n  background-color: var(--jp-cell-editor-background);\r\n}\r\n\r\n.jp-Notebook.jp-mod-editMode\r\n  .jp-Cell.jp-mod-selected\r\n  .kale-editor-toggle\r\n  > svg {\r\n  background-color: #fff;\r\n}\r\n\r\n.kale-cell-metadata-editor {\r\n  margin-bottom: 4px;\r\n  display: flex;\r\n  border: 0px solid var(--md-grey-400);\r\n  align-items: center;\r\n}\r\n\r\n.kale-cell-metadata-editor > .MuiFormControl-root {\r\n  margin-left: 4px;\r\n  margin-right: 4px;\r\n}\r\n\r\n.kale-cell-metadata-editor-helper-text {\r\n  color: darkgoldenrod;\r\n  margin-bottom: 4px;\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 6px;\r\n}\r\n\r\n.kale-metadata-editor-wrapper.opened .kale-editor-toggle {\r\n  position: relative;\r\n  float: right;\r\n  top: 4px;\r\n  right: 50%;\r\n  margin-right: -11px;\r\n}\r\n\r\n.kale-metadata-editor-wrapper.opened .kale-editor-toggle > svg {\r\n  background-color: #fff;\r\n}\r\n\r\n.kale-editor-toggle:hover > svg {\r\n  background-color: var(--jp-layout-color2);\r\n}\r\n\r\n.kale-reserved-cell {\r\n  border-radius: 0 !important;\r\n}\r\n\r\n.kale-chip.MuiChip-root {\r\n  height: 19px;\r\n  color: #fff;\r\n}\r\n\r\n.kale-chip-select.MuiChip-root {\r\n  height: 18px;\r\n  margin-right: 1px;\r\n  margin-bottom: 1px;\r\n  line-height: 18px;\r\n}\r\n\r\n.kale-metadata-editor-wrapper:not(.kale-is-step)\r\n  .kale-cell-metadata-editor\r\n  > div:first-child {\r\n  width: 100%;\r\n  border-right: none;\r\n}\r\n\r\n.MuiButtonBase-root.Mui-disabled.menu-item-tooltip {\r\n  pointer-events: auto;\r\n  padding: 0;\r\n}\r\n\r\n.MuiButtonBase-root.Mui-disabled.menu-item-tooltip .menu-item-label {\r\n  padding: 8px 16px;\r\n  width: 100%;\r\n}\r\n\r\n.menu-item-label {\r\n  width: 100%;\r\n}\r\n\r\n/* this class needs to be applied to every material switch we use because\r\n  jp lab overrides the height of every input checkbox component.\r\n*/\r\n.material-switch {\r\n  color: white;\r\n}\r\n\r\n.material-switch input {\r\n  height: 100%;\r\n}\r\n\r\n.dialog-body {\r\n  white-space: pre;\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./style/index.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"/*\\r\\n * Copyright 2019-2020 The Kale Authors\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *      http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\r\\n\\r\\n/*-----------------------------------------------------------------------------\\r\\n| Icons\\r\\n|----------------------------------------------------------------------------*/\\r\\n\\r\\n.jp-kale-logo {\\r\\n  background-image: url(\\\"data:image/svg+xml,%3Csvg id='Kale_Logo' data-name='Kale Logo' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23753bbd%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M25.37 14.35a14.94 14.94 0 0110.7-6c0-.08-.08-.16-.14-.23a5 5 0 00-1.66-1.35 3.79 3.79 0 01-.54-.35 3.29 3.29 0 01-.32-.64 4.7 4.7 0 00-1.08-1.72 5.22 5.22 0 00-2-1 4.1 4.1 0 01-.56-.22 3.5 3.5 0 01-.53-.62A4.49 4.49 0 0027.81.81 4.48 4.48 0 0025.65.3a1.42 1.42 0 00-.28 0zM22.37.34a1.29 1.29 0 00-.28 0 4.48 4.48 0 00-2.16.52 4.49 4.49 0 00-1.47 1.42 3.51 3.51 0 01-.53.62 4.1 4.1 0 01-.56.22 5.22 5.22 0 00-2 1 4.69 4.69 0 00-1.08 1.72 3.3 3.3 0 01-.32.64 3.79 3.79 0 01-.54.35 5 5 0 00-1.66 1.35 4.67 4.67 0 00-.73 1.92 3.36 3.36 0 01-.18.67 3.61 3.61 0 01-.46.46 4.83 4.83 0 00-1.3 1.64 4.6 4.6 0 00-.29 2.06 3.33 3.33 0 010 .68 3.54 3.54 0 01-.34.55 4.7 4.7 0 00-.9 1.95 4.56 4.56 0 00.25 2.08 4 4 0 01.16.63c0 .09-.11.26-.17.38a3.72 3.72 0 00-.48 1.8A3.88 3.88 0 008 24.85l.16.27c0 .1-.07.25-.1.35a3.67 3.67 0 00-.18 1.87 3.88 3.88 0 001 1.75l.2.24v.38a3.62 3.62 0 00.23 1.9 3.91 3.91 0 001.4 1.52l.26.19c0 .1.06.26.08.38a3.64 3.64 0 00.74 1.8 4 4 0 001.79 1.11l.31.12c.06.09.14.24.19.36a3.72 3.72 0 001.21 1.52 6.55 6.55 0 002.34.64 11.24 11.24 0 013.74 8.39h1zM39.58 25.12l.16-.27A3.88 3.88 0 0040.4 23a3.73 3.73 0 00-.47-1.79 3.8 3.8 0 01-.17-.38 4.06 4.06 0 01.16-.63 4.56 4.56 0 00.25-2.08 4.69 4.69 0 00-.9-1.95 3.56 3.56 0 01-.34-.55 3.34 3.34 0 010-.68 4.6 4.6 0 00-.29-2.06 4.52 4.52 0 00-1.22-1.55h-.09a12 12 0 00-11.94 11.59A14.89 14.89 0 0137.27 33a3.57 3.57 0 001.2-1.37 3.62 3.62 0 00.23-1.9v-.38l.2-.24a3.89 3.89 0 001-1.75 3.66 3.66 0 00-.18-1.87c-.07-.12-.12-.27-.14-.37zM25.37 26v21.63h1a11.19 11.19 0 013.81-8.39 6.55 6.55 0 002.34-.64 3.71 3.71 0 001.21-1.52c.06-.11.14-.27.19-.36l.31-.12a7 7 0 00.81-.34C34.26 31 30.1 26.73 25.37 26z'/%3E%3C/svg%3E\\\");\\r\\n  background-size: contain;\\r\\n  background-repeat: no-repeat;\\r\\n  background-position: center;\\r\\n}\\r\\n\\r\\n/*-----------------------------------------------------------------------------\\r\\n| Components\\r\\n|----------------------------------------------------------------------------*/\\r\\n\\r\\n.kale-component {\\r\\n  padding: 5px 0px;\\r\\n}\\r\\n\\r\\n.kale-header {\\r\\n  color: #477ef0;\\r\\n  letter-spacing: 0.4px;\\r\\n  /*margin-top: 8px;*/\\r\\n  padding: 5px;\\r\\n  font-size: var(--jp-ui-font-size2);\\r\\n  font-weight: 800;\\r\\n  /* text-transform: uppercase; */\\r\\n  /*border-bottom: solid var(--jp-border-width) var(--jp-border-color2);*/\\r\\n}\\r\\n\\r\\n.kale-header.katib-dialog-header {\\r\\n  padding: 5px 0;\\r\\n  margin: 20px 0 10px 0;\\r\\n}\\r\\n\\r\\n.kale-header.katib-headers-tooltip {\\r\\n  height: 0.7em;\\r\\n  opacity: 0.75;\\r\\n}\\r\\n\\r\\n.kale-header-switch {\\r\\n  flex: 0 0 auto;\\r\\n  flex-direction: row;\\r\\n  justify-content: space-between;\\r\\n  align-items: center;\\r\\n  display: -webkit-box; /* OLD - iOS 6-, Safari 3.1-6 */\\r\\n  display: -moz-box; /* OLD - Firefox 19- (buggy but mostly works) */\\r\\n  display: -ms-flexbox; /* TWEENER - IE 10 */\\r\\n  display: -webkit-flex; /* NEW - Chrome */\\r\\n  display: flex;\\r\\n}\\r\\n\\r\\n.kale-footer {\\r\\n  padding: 5px 0px;\\r\\n  bottom: 0;\\r\\n  width: 100%;\\r\\n  z-index: 10;\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  border-top: 1px solid var(--jp-border-color2);\\r\\n  margin-top: auto;\\r\\n}\\r\\n\\r\\n/*-----------------------------------------------------------------------------\\r\\n| Deploy Button\\r\\n|----------------------------------------------------------------------------*/\\r\\n\\r\\n.kale-panel {\\r\\n  min-width: 300px !important;\\r\\n}\\r\\n\\r\\n.kubeflow-widget {\\r\\n  flex-direction: column;\\r\\n  min-width: var(--jp-sidebar-min-width);\\r\\n  color: var(--jp-ui-font-color1);\\r\\n  background: var(--jp-layout-color1);\\r\\n  font-size: var(--jp-ui-font-size1);\\r\\n  overflow: auto;\\r\\n  height: 100%;\\r\\n  display: -webkit-box; /* OLD - iOS 6-, Safari 3.1-6 */\\r\\n  display: -moz-box; /* OLD - Firefox 19- (buggy but mostly works) */\\r\\n  display: -ms-flexbox; /* TWEENER - IE 10 */\\r\\n  display: -webkit-flex; /* NEW - Chrome */\\r\\n  display: flex;\\r\\n}\\r\\n\\r\\n.kubeflow-widget-content {\\r\\n  min-width: var(--jp-sidebar-min-width);\\r\\n  /* height: calc(100% - 42px); */\\r\\n  overflow: auto;\\r\\n  /* border-bottom: 1px solid var(--jp-border-color2); */\\r\\n}\\r\\n\\r\\n/*-----------------------------------------------------------------------------\\r\\n| Deploy Button\\r\\n|----------------------------------------------------------------------------*/\\r\\n/*\\r\\n.deploy-button {\\r\\n\\r\\n}\\r\\n*/\\r\\n\\r\\n.deploy-button button {\\r\\n  height: 30px;\\r\\n  width: 95%;\\r\\n  border-radius: 2px;\\r\\n  font-size: 12px;\\r\\n  border-width: 0;\\r\\n  padding: 2px 4px;\\r\\n  font-weight: 600;\\r\\n  text-transform: uppercase;\\r\\n}\\r\\n\\r\\n/*-----------------------------------------------------------------------------\\r\\n| Inputs\\r\\n|----------------------------------------------------------------------------*/\\r\\n\\r\\n.input-container {\\r\\n  padding: 10px 12px;\\r\\n  z-index: 2;\\r\\n}\\r\\n\\r\\n.input-wrapper {\\r\\n  margin-top: 5px;\\r\\n  overflow: overlay;\\r\\n  padding: 0 9px;\\r\\n  background-color: var(--jp-input-active-background);\\r\\n  /*height: 30px;*/\\r\\n  box-shadow: inset 0 0 0 var(--jp-border-width) var(--jp-input-border-color);\\r\\n}\\r\\n\\r\\n.input-focus {\\r\\n  box-shadow: inset 0 0 0 1px var(--jp-input-active-box-shadow-color),\\r\\n    inset 0 0 0 3px var(--jp-input-active-box-shadow-color);\\r\\n}\\r\\n\\r\\n.input-wrapper input,\\r\\ntextarea {\\r\\n  background: transparent;\\r\\n  width: calc(100% - 18px);\\r\\n  float: left;\\r\\n  border: none;\\r\\n  outline: none;\\r\\n  font-size: var(--jp-ui-font-size1);\\r\\n  color: var(--jp-ui-font-color0);\\r\\n  line-height: var(--jp-private-commandpalette-search-height);\\r\\n}\\r\\n\\r\\n.input-wrapper input::-webkit-input-placeholder,\\r\\n.input-wrapper input::-moz-placeholder,\\r\\n.input-wrapper input:-ms-input-placeholder {\\r\\n  color: var(--jp-ui-font-color3);\\r\\n  font-size: var(--jp-ui-font-size1);\\r\\n}\\r\\n\\r\\n.input-error-label {\\r\\n  color: var(--jp-error-color0);\\r\\n  padding: 5px 10px 0;\\r\\n  font-size: var(--jp-ui-font-size0);\\r\\n  line-height: normal;\\r\\n}\\r\\n\\r\\n.volume-container {\\r\\n  border-top: 2px solid var(--jp-layout-color2);\\r\\n}\\r\\n\\r\\n.volume-container:last-child {\\r\\n  border-bottom: 2px solid var(--jp-layout-color2);\\r\\n}\\r\\n\\r\\n/*https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Aligning_Items_in_a_Flex_Container*/\\r\\n.toolbar {\\r\\n  display: flex;\\r\\n  flex-direction: row;\\r\\n  justify-content: space-between;\\r\\n  align-items: center;\\r\\n  border-bottom: none;\\r\\n  height: auto;\\r\\n  box-shadow: none;\\r\\n}\\r\\n\\r\\n.minimal-toolbar-button {\\r\\n  box-shadow: none;\\r\\n  background: none;\\r\\n  background: var(--jp-layout-color1);\\r\\n  border: none;\\r\\n  appearance: none;\\r\\n  -moz-appearance: none;\\r\\n  padding: 0px 6px;\\r\\n  height: 24px;\\r\\n  border-radius: var(--jp-border-radius);\\r\\n  display: flex;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.minimal-toolbar-button:hover {\\r\\n  background-color: var(--jp-layout-color2);\\r\\n}\\r\\n\\r\\n.volumes-select {\\r\\n  width: 80%;\\r\\n}\\r\\n\\r\\n.react-select-container {\\r\\n  position: relative;\\r\\n  box-sizing: border-box;\\r\\n  margin: 5px 0;\\r\\n}\\r\\n\\r\\n.react-select__indicator {\\r\\n  padding: 0 !important;\\r\\n}\\r\\n\\r\\n.react-select__control {\\r\\n  min-height: 0 !important;\\r\\n}\\r\\n\\r\\n.p-mod-hidden {\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.prev-blockname-container {\\r\\n  z-index: 2;\\r\\n  color: var(--jp-info-color0);\\r\\n  padding: 5px 22px 0;\\r\\n  font-size: var(--jp-ui-font-size0);\\r\\n  line-height: normal;\\r\\n}\\r\\n\\r\\n.switch-label {\\r\\n  display: table-cell;\\r\\n  vertical-align: middle;\\r\\n  padding-right: 10px;\\r\\n  font-size: var(--jp-ui-font-size2);\\r\\n}\\r\\n\\r\\n.skip-cell-info-text {\\r\\n  padding: 0 10px 5px 10px;\\r\\n  font-size: var(--jp-ui-font-size0);\\r\\n  line-height: normal;\\r\\n}\\r\\n\\r\\n.jp-Dialog-content {\\r\\n  max-width: 75% !important;\\r\\n}\\r\\n\\r\\n.add-button {\\r\\n  padding: 5px;\\r\\n  margin-top: 10px;\\r\\n}\\r\\n\\r\\n.delete-button button {\\r\\n  padding: 5px 0px;\\r\\n  margin: 0px 10px;\\r\\n  min-width: 0px;\\r\\n  min-height: 0px;\\r\\n  width: 80%;\\r\\n  height: 80%;\\r\\n  border-radius: 50%;\\r\\n  color: rgb(255, 0, 25);\\r\\n  background: white;\\r\\n  box-shadow: none;\\r\\n}\\r\\n\\r\\n.delete-button button:hover {\\r\\n  color: rgb(189, 21, 35);\\r\\n}\\r\\n\\r\\n.delete-button svg {\\r\\n  transform: scale(0.8);\\r\\n}\\r\\n\\r\\na {\\r\\n  text-decoration: underline;\\r\\n  color: #477ef0;\\r\\n}\\r\\n\\r\\n.pre {\\r\\n  white-space: pre;\\r\\n}\\r\\n\\r\\n.hidden {\\r\\n  display: none !important;\\r\\n}\\r\\n\\r\\n.deploy-progress {\\r\\n  border-top: 2px solid var(--jp-border-color2);\\r\\n}\\r\\n\\r\\n.deploy-progress:last-child {\\r\\n  border-bottom: 2px solid var(--jp-border-color2);\\r\\n}\\r\\n\\r\\n.deploy-progress-label {\\r\\n  /* min-width: 116px; */\\r\\n  white-space: pre;\\r\\n}\\r\\n\\r\\n.labels-indented p {\\r\\n  padding-left: 20px;\\r\\n}\\r\\n\\r\\n.deploy-progress-value {\\r\\n  width: 100%;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.deploy-progress-value a {\\r\\n  height: 16px;\\r\\n  display: flex;\\r\\n  margin-left: 5px;\\r\\n}\\r\\n\\r\\n.deploy-progress-value svg {\\r\\n  margin-left: 0.25rem;\\r\\n}\\r\\n\\r\\n.deploy-progress-value .MuiLinearProgress-root {\\r\\n  margin-left: 0.25rem;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.deploy-progress-row {\\r\\n  margin: 0 10px;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  padding: 10px 0;\\r\\n  border-bottom: 1px solid var(--jp-border-color2);\\r\\n}\\r\\n\\r\\n.deploy-progress-row:last-child {\\r\\n  border-bottom: none;\\r\\n  margin-bottom: 6px;\\r\\n}\\r\\n\\r\\n.kale-inline-cell-metadata {\\r\\n  /* FIXME: find a way to calculate margin */\\r\\n  margin-left: 73px;\\r\\n  margin-top: 8px;\\r\\n  margin-bottom: 4px;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.kale-inline-cell-dependency {\\r\\n  border-radius: 50%;\\r\\n  width: 10px;\\r\\n  height: 10px;\\r\\n  display: inline-block;\\r\\n  margin-left: 4px;\\r\\n}\\r\\n\\r\\n.jp-Notebook .jp-Cell.kale-merged-cell {\\r\\n  padding-top: 0;\\r\\n}\\r\\n\\r\\n.kale-metadata-editor-wrapper {\\r\\n  margin-left: 73px;\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n/* .kale-editor-toggle {\\r\\n  border: 0;\\r\\n  width: 16px;\\r\\n  height: 16px;\\r\\n  padding: 0;\\r\\n  cursor: pointer;\\r\\n  position: absolute;\\r\\n  z-index: 3;\\r\\n  right: 3px;\\r\\n  top: 3px;\\r\\n  color: var(--jp-inverse-layout-color3);\\r\\n} */\\r\\n\\r\\n.kale-editor-toggle {\\r\\n  border: 1px solid var(--jp-border-color1);\\r\\n  width: 20px;\\r\\n  height: 20px;\\r\\n  padding: 2px;\\r\\n  cursor: pointer;\\r\\n  position: absolute;\\r\\n  z-index: 100;\\r\\n  right: 3px;\\r\\n  top: 3px;\\r\\n  background-color: var(--jp-cell-editor-background);\\r\\n  border-radius: 3px;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  pointer-events: auto;\\r\\n}\\r\\n\\r\\n.kale-editor-toggle:hover {\\r\\n  background-color: var(--jp-layout-color2);\\r\\n  border-color: var(--jp-border-color2);\\r\\n}\\r\\n\\r\\n.kale-editor-toggle > svg {\\r\\n  width: 100%;\\r\\n  height: auto;\\r\\n}\\r\\n\\r\\n.kale-editor-toggle > svg {\\r\\n  background-color: var(--jp-cell-editor-background);\\r\\n}\\r\\n\\r\\n.jp-Notebook.jp-mod-editMode\\r\\n  .jp-Cell.jp-mod-selected\\r\\n  .kale-editor-toggle\\r\\n  > svg {\\r\\n  background-color: #fff;\\r\\n}\\r\\n\\r\\n.kale-cell-metadata-editor {\\r\\n  margin-bottom: 4px;\\r\\n  display: flex;\\r\\n  border: 0px solid var(--md-grey-400);\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.kale-cell-metadata-editor > .MuiFormControl-root {\\r\\n  margin-left: 4px;\\r\\n  margin-right: 4px;\\r\\n}\\r\\n\\r\\n.kale-cell-metadata-editor-helper-text {\\r\\n  color: darkgoldenrod;\\r\\n  margin-bottom: 4px;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  padding-left: 6px;\\r\\n}\\r\\n\\r\\n.kale-metadata-editor-wrapper.opened .kale-editor-toggle {\\r\\n  position: relative;\\r\\n  float: right;\\r\\n  top: 4px;\\r\\n  right: 50%;\\r\\n  margin-right: -11px;\\r\\n}\\r\\n\\r\\n.kale-metadata-editor-wrapper.opened .kale-editor-toggle > svg {\\r\\n  background-color: #fff;\\r\\n}\\r\\n\\r\\n.kale-editor-toggle:hover > svg {\\r\\n  background-color: var(--jp-layout-color2);\\r\\n}\\r\\n\\r\\n.kale-reserved-cell {\\r\\n  border-radius: 0 !important;\\r\\n}\\r\\n\\r\\n.kale-chip.MuiChip-root {\\r\\n  height: 19px;\\r\\n  color: #fff;\\r\\n}\\r\\n\\r\\n.kale-chip-select.MuiChip-root {\\r\\n  height: 18px;\\r\\n  margin-right: 1px;\\r\\n  margin-bottom: 1px;\\r\\n  line-height: 18px;\\r\\n}\\r\\n\\r\\n.kale-metadata-editor-wrapper:not(.kale-is-step)\\r\\n  .kale-cell-metadata-editor\\r\\n  > div:first-child {\\r\\n  width: 100%;\\r\\n  border-right: none;\\r\\n}\\r\\n\\r\\n.MuiButtonBase-root.Mui-disabled.menu-item-tooltip {\\r\\n  pointer-events: auto;\\r\\n  padding: 0;\\r\\n}\\r\\n\\r\\n.MuiButtonBase-root.Mui-disabled.menu-item-tooltip .menu-item-label {\\r\\n  padding: 8px 16px;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.menu-item-label {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n/* this class needs to be applied to every material switch we use because\\r\\n  jp lab overrides the height of every input checkbox component.\\r\\n*/\\r\\n.material-switch {\\r\\n  color: white;\\r\\n}\\r\\n\\r\\n.material-switch input {\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n.dialog-body {\\r\\n  white-space: pre;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../node_modules/@jupyterlab/builder/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/@jupyterlab/builder/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/@jupyterlab/builder/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/@jupyterlab/builder/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/@jupyterlab/builder/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/@jupyterlab/builder/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/@jupyterlab/builder/node_modules/css-loader/dist/cjs.js!./index.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/@jupyterlab/builder/node_modules/css-loader/dist/cjs.js!./index.css\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":[],"sourceRoot":""}